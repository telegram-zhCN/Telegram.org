function BigInteger(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function nbi(){return new BigInteger(null)}function am1(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i}function am2(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var c=32767&this[e],l=this[e++]>>15,d=s*c+l*o;c=o*c+((32767&d)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(d>>>15)+s*l+(i>>>30),n[r++]=1073741823&c}return i}function am3(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var c=16383&this[e],l=this[e++]>>14,d=s*c+l*o;c=o*c+((16383&d)<<14)+n[r]+i,i=(c>>28)+(d>>14)+s*l,n[r++]=268435455&c}return i}function int2char(e){return BI_RM.charAt(e)}function intAt(e,t){var n=BI_RC[e.charCodeAt(t)];return null==n?-1:n}function bnpCopyTo(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function bnpFromInt(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function nbv(e){var t=nbi();return t.fromInt(e),t}function bnpFromString(e,t,n){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,a=!1,o=0;--i>=0;){var s=8==r?255&e[i]:intAt(e,i);0>s?"-"==e.charAt(i)&&(a=!0):(a=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&n&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function bnToString(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-->0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=int2char(n));o>=0;)t>s?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,0>=s&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=int2char(n));return i?a:"0"}function bnNegate(){var e=nbi();return BigInteger.ZERO.subTo(this,e),e}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function nbits(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function bnpDRShiftTo(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function bnpLShiftTo(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function bnpRShiftTo(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}function bnpSubTo(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function bnpMultiplyTo(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)}function bnpSquareTo(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function bnpDivRemTo(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=nbi());var a=nbi(),o=this.s,s=e.s,c=this.DB-nbits(r[r.t-1]);c>0?(r.lShiftTo(c,a),i.lShiftTo(c,n)):(r.copyTo(a),i.copyTo(n));var l=a.t,d=a[l-1];if(0!=d){var u=d*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),p=this.FV/u,m=(1<<this.F1)/u,h=1<<this.F2,g=n.t,f=g-l,_=null==t?nbi():t;for(a.dlShiftTo(f,_),n.compareTo(_)>=0&&(n[n.t++]=1,n.subTo(_,n)),BigInteger.ONE.dlShiftTo(l,_),_.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--f>=0;){var v=n[--g]==d?this.DM:Math.floor(n[g]*p+(n[g-1]+h)*m);if((n[g]+=a.am(0,v,n,f,0,l))<v)for(a.dlShiftTo(f,_),n.subTo(_,n);n[g]<--v;)n.subTo(_,n)}null!=t&&(n.drShiftTo(l,t),o!=s&&BigInteger.ZERO.subTo(t,t)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),0>o&&BigInteger.ZERO.subTo(n,n)}}}function bnMod(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t}function Classic(e){this.m=e}function cConvert(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function cRevert(e){return e}function cReduce(e){e.divRemTo(this.m,null,e)}function cMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function cSqrTo(e,t){e.squareTo(t),this.reduce(t)}function bnpInvDigit(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function montConvert(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t}function montRevert(e){var t=nbi();return e.copyTo(t),this.reduce(t),t}function montReduce(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function montSqrTo(e,t){e.squareTo(t),this.reduce(t)}function montMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(e,t){if(e>4294967295||1>e)return BigInteger.ONE;var n=nbi(),r=nbi(),i=t.convert(this),a=nbits(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var o=n;n=r,r=o}return t.revert(n)}function bnModPowInt(e,t){var n;return n=256>e||t.isEven()?new Classic(t):new Montgomery(t),this.exp(e,n)}function bnClone(){var e=nbi();return this.copyTo(e),e}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=nbv(n),i=nbi(),a=nbi(),o="";for(this.divRemTo(r,i,a);i.signum()>0;)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o}function bnpFromRadix(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var c=intAt(e,s);0>c?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(o=t*o+c,++a>=n&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(e,t,n){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(e-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=(e>>3)+1,t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function bnToByteArray(e){var t=this.t,n=new Array;n[0]=this.s;var r,i=this.DB-t*this.DB%8,a=0;if(t-->0)for(i<this.DB&&(r=this[t]>>i)!=(this.s&this.DM)>>i&&(n[a++]=r|this.s<<this.DB-i);t>=0;)8>i?(r=(this[t]&(1<<i)-1)<<8-i,r|=this[--t]>>(i+=this.DB-8)):(r=this[t]>>(i-=8)&255,0>=i&&(i+=this.DB,--t)),e&&0!=(128&r)&&(r|=-256),0==a&&(128&this.s)!=(128&r)&&++a,(a>0||r!=this.s)&&(n[a++]=r);return n}function bnEquals(e){return 0==this.compareTo(e)}function bnMin(e){return this.compareTo(e)<0?this:e}function bnMax(e){return this.compareTo(e)>0?this:e}function bnpBitwiseTo(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;a>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function op_and(e,t){return e&t}function bnAnd(e){var t=nbi();return this.bitwiseTo(e,op_and,t),t}function op_or(e,t){return e|t}function bnOr(e){var t=nbi();return this.bitwiseTo(e,op_or,t),t}function op_xor(e,t){return e^t}function bnXor(e){var t=nbi();return this.bitwiseTo(e,op_xor,t),t}function op_andnot(e,t){return e&~t}function bnAndNot(e){var t=nbi();return this.bitwiseTo(e,op_andnot,t),t}function bnNot(){for(var e=nbi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function bnShiftLeft(e){var t=nbi();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function bnShiftRight(e){var t=nbi();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function lbit(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function bnGetLowestSetBit(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+lbit(this[e]);return this.s<0?this.t*this.DB:-1}function cbit(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function bnBitCount(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=cbit(this[n]^t);return e}function bnTestBit(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function bnpChangeBit(e,t){var n=BigInteger.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function bnSetBit(e){return this.changeBit(e,op_or)}function bnClearBit(e){return this.changeBit(e,op_andnot)}function bnFlipBit(e){return this.changeBit(e,op_xor)}function bnpAddTo(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function bnAdd(e){var t=nbi();return this.addTo(e,t),t}function bnSubtract(e){var t=nbi();return this.subTo(e,t),t}function bnMultiply(e){var t=nbi();return this.multiplyTo(e,t),t}function bnSquare(){var e=nbi();return this.squareTo(e),e}function bnDivide(e){var t=nbi();return this.divRemTo(e,t,null),t}function bnRemainder(e){var t=nbi();return this.divRemTo(e,null,t),t}function bnDivideAndRemainder(e){var t=nbi(),n=nbi();return this.divRemTo(e,t,n),new Array(t,n)}function bnpDMultiply(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function NullExp(){}function nNop(e){return e}function nMulTo(e,t,n){e.multiplyTo(t,n)}function nSqrTo(e,t){e.squareTo(t)}function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;i>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);i>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function bnpMultiplyUpperTo(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Barrett(e){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function barrettConvert(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=nbi();return e.copyTo(t),this.reduce(t),t}function barrettRevert(e){return e}function barrettReduce(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function barrettSqrTo(e,t){e.squareTo(t),this.reduce(t)}function barrettMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function bnModPow(e,t){var n,r,i=e.bitLength(),a=nbv(1);if(0>=i)return a;n=18>i?1:48>i?3:144>i?4:768>i?5:6,r=8>i?new Classic(t):t.isEven()?new Barrett(t):new Montgomery(t);var o=new Array,s=3,c=n-1,l=(1<<n)-1;if(o[1]=r.convert(this),n>1){var d=nbi();for(r.sqrTo(o[1],d);l>=s;)o[s]=nbi(),r.mulTo(d,o[s-2],o[s]),s+=2}var u,p,m=e.t-1,h=!0,g=nbi();for(i=nbits(e[m])-1;m>=0;){for(i>=c?u=e[m]>>i-c&l:(u=(e[m]&(1<<i+1)-1)<<c-i,m>0&&(u|=e[m-1]>>this.DB+i-c)),s=n;0==(1&u);)u>>=1,--s;if((i-=s)<0&&(i+=this.DB,--m),h)o[u].copyTo(a),h=!1;else{for(;s>1;)r.sqrTo(a,g),r.sqrTo(g,a),s-=2;s>0?r.sqrTo(a,g):(p=a,a=g,g=p),r.mulTo(g,o[u],a)}for(;m>=0&&0==(e[m]&1<<i);)r.sqrTo(a,g),p=a,a=g,g=p,--i<0&&(i=this.DB-1,--m)}return r.revert(a)}function bnGCD(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(0>a)return t;for(a>i&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function bnpModInt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function bnModInverse(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return BigInteger.ZERO;for(var n=e.clone(),r=this.clone(),i=nbv(1),a=nbv(0),o=nbv(0),s=nbv(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),a.subTo(s,a)):(r.subTo(n,r),t&&o.subTo(i,o),s.subTo(a,s))}return 0!=r.compareTo(BigInteger.ONE)?BigInteger.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s}function bnIsProbablePrime(e){var t,n=this.abs();if(1==n.t&&n[0]<=lowprimes[lowprimes.length-1]){for(t=0;t<lowprimes.length;++t)if(n[0]==lowprimes[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<lowprimes.length;){for(var r=lowprimes[t],i=t+1;i<lowprimes.length&&lplim>r;)r*=lowprimes[i++];for(r=n.modInt(r);i>t;)if(r%lowprimes[t++]==0)return!1}return n.millerRabin(e)}function bnpMillerRabin(e){var t=this.subtract(BigInteger.ONE),n=t.getLowestSetBit();if(0>=n)return!1;var r=t.shiftRight(n);e=e+1>>1,e>lowprimes.length&&(e=lowprimes.length);for(var i=nbi(),a=0;e>a;++a){i.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var o=i.modPow(r,this);if(0!=o.compareTo(BigInteger.ONE)&&0!=o.compareTo(t)){for(var s=1;s++<n&&0!=o.compareTo(t);)if(o=o.modPowInt(2,this),0==o.compareTo(BigInteger.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0}function rng_seed_int(e){rng_pool[rng_pptr++]^=255&e,rng_pool[rng_pptr++]^=e>>8&255,rng_pool[rng_pptr++]^=e>>16&255,rng_pool[rng_pptr++]^=e>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),rng_state=prng_newstate(),rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(e){var t;for(t=0;t<e.length;++t)e[t]=rng_get_byte()}function SecureRandom(){}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(e){var t,n,r;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function ARC4next(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}function findPrimes(e){var t,n,r,i;for(n=new Array(e),t=0;e>t;t++)n[t]=0;for(n[0]=2,r=0;n[r]<e;){for(t=n[r]*n[r];e>t;t+=n[r])n[t]=1;for(r++,n[r]=n[r-1]+1;n[r]<e&&n[n[r]];n[r]++);}for(i=new Array(r),t=0;r>t;t++)i[t]=n[t];return i}function millerRabinInt(e,t){return mr_x1.length!=e.length&&(mr_x1=dup(e),mr_r=dup(e),mr_a=dup(e)),copyInt_(mr_a,t),millerRabin(e,mr_a)}function millerRabin(e,t){var n,r,i,a;for(mr_x1.length!=e.length&&(mr_x1=dup(e),mr_r=dup(e),mr_a=dup(e)),copy_(mr_a,t),copy_(mr_r,e),copy_(mr_x1,e),addInt_(mr_r,-1),addInt_(mr_x1,-1),i=0,n=0;n<mr_r.length;n++)for(r=1;r<mask;r<<=1)e[n]&r?(a=i<mr_r.length+bpe?i:0,n=mr_r.length,r=mask):i++;if(a&&rightShift_(mr_r,a),powMod_(mr_a,mr_r,e),!equalsInt(mr_a,1)&&!equals(mr_a,mr_x1)){for(r=1;a-1>=r&&!equals(mr_a,mr_x1);){if(squareMod_(mr_a,e),equalsInt(mr_a,1))return 0;r++}if(!equals(mr_a,mr_x1))return 0}return 1}function bitSize(e){var t,n,r;for(t=e.length-1;0==e[t]&&t>0;t--);for(n=0,r=e[t];r;r>>=1,n++);return n+=bpe*t}function expand(e,t){var n=int2bigInt(0,(e.length>t?e.length:t)*bpe,0);return copy_(n,e),n}function randTruePrime(e){var t=int2bigInt(0,e,0);return randTruePrime_(t,e),trim(t,1)}function randProbPrime(e){return e>=600?randProbPrimeRounds(e,2):e>=550?randProbPrimeRounds(e,4):e>=500?randProbPrimeRounds(e,5):e>=400?randProbPrimeRounds(e,6):e>=350?randProbPrimeRounds(e,7):e>=300?randProbPrimeRounds(e,9):e>=250?randProbPrimeRounds(e,12):e>=200?randProbPrimeRounds(e,15):e>=150?randProbPrimeRounds(e,18):e>=100?randProbPrimeRounds(e,27):randProbPrimeRounds(e,40)}function randProbPrimeRounds(e,t){var n,r,i,a;for(a=3e4,n=int2bigInt(0,e,0),0==primes.length&&(primes=findPrimes(3e4)),rpprb.length!=n.length&&(rpprb=dup(n));;){for(randBigInt_(n,e,0),n[0]|=1,i=0,r=0;r<primes.length&&primes[r]<=a;r++)if(0==modInt(n,primes[r])&&!equalsInt(n,primes[r])){i=1;break}for(r=0;t>r&&!i;r++){for(randBigInt_(rpprb,e,0);!greater(n,rpprb);)randBigInt_(rpprb,e,0);millerRabin(n,rpprb)||(i=1)}if(!i)return n}}function mod(e,t){var n=dup(e);return mod_(n,t),trim(n,1)}function addInt(e,t){var n=expand(e,e.length+1);return addInt_(n,t),trim(n,1)}function mult(e,t){var n=expand(e,e.length+t.length);return mult_(n,t),trim(n,1)}function powMod(e,t,n){var r=expand(e,n.length);return powMod_(r,trim(t,2),trim(n,2),0),trim(r,1)}function sub(e,t){var n=expand(e,e.length>t.length?e.length+1:t.length+1);return sub_(n,t),trim(n,1)}function add(e,t){var n=expand(e,e.length>t.length?e.length+1:t.length+1);return add_(n,t),trim(n,1)}function inverseMod(e,t){var n,r=expand(e,t.length);return n=inverseMod_(r,t),n?trim(r,1):null}function multMod(e,t,n){var r=expand(e,n.length);return multMod_(r,t,n),trim(r,1)}function randTruePrime_(e,t){var n,r,i,a,o,s,c,l,d,u,p;if(0==primes.length&&(primes=findPrimes(3e4)),0==pows.length)for(pows=new Array(512),o=0;512>o;o++)pows[o]=Math.pow(2,o/511-1);if(n=.1,r=20,recLimit=20,s_i2.length!=e.length&&(s_i2=dup(e),s_R=dup(e),s_n1=dup(e),s_r2=dup(e),s_d=dup(e),s_x1=dup(e),s_x2=dup(e),s_b=dup(e),s_n=dup(e),s_i=dup(e),s_rm=dup(e),s_q=dup(e),s_a=dup(e),s_aa=dup(e)),t<=recLimit){for(i=(1<<(t+2>>1))-1,copyInt_(e,0),a=1;a;)for(a=0,e[0]=1|1<<t-1|Math.floor(Math.random()*(1<<t)),o=1;o<primes.length&&(primes[o]&i)==primes[o];o++)if(0==e[0]%primes[o]){a=1;break}return void carry_(e)}if(c=n*t*t,t>2*r)for(s=1;r>=t-t*s;)s=pows[Math.floor(512*Math.random())];else s=.5;for(p=Math.floor(s*t)+1,randTruePrime_(s_q,p),copyInt_(s_i2,0),s_i2[Math.floor((t-2)/bpe)]|=1<<(t-2)%bpe,divide_(s_i2,s_q,s_i,s_rm),d=bitSize(s_i);;){for(;randBigInt_(s_R,d,0),!greater(s_i,s_R););for(addInt_(s_R,1),add_(s_R,s_i),copy_(s_n,s_q),mult_(s_n,s_R),multInt_(s_n,2),addInt_(s_n,1),copy_(s_r2,s_R),multInt_(s_r2,2),l=0,o=0;o<primes.length&&primes[o]<c;o++)if(0==modInt(s_n,primes[o])&&!equalsInt(s_n,primes[o])){l=1;break}if(l||millerRabinInt(s_n,2)||(l=1),!l){for(addInt_(s_n,-3),o=s_n.length-1;0==s_n[o]&&o>0;o--);for(u=0,w=s_n[o];w;w>>=1,u++);for(u+=bpe*o;randBigInt_(s_a,u,0),!greater(s_n,s_a););if(addInt_(s_n,3),addInt_(s_a,2),copy_(s_b,s_a),copy_(s_n1,s_n),addInt_(s_n1,-1),powMod_(s_b,s_n1,s_n),addInt_(s_b,-1),isZero(s_b)&&(copy_(s_b,s_a),powMod_(s_b,s_r2,s_n),addInt_(s_b,-1),copy_(s_aa,s_n),copy_(s_d,s_b),GCD_(s_d,s_n),equalsInt(s_d,1)))return void copy_(e,s_aa)}}}function randBigInt(e,t){var n,r;return n=Math.floor((e-1)/bpe)+2,r=int2bigInt(0,0,n),randBigInt_(r,e,t),r}function randBigInt_(e,t,n){var r,i;for(r=0;r<e.length;r++)e[r]=0;for(i=Math.floor((t-1)/bpe)+1,r=0;i>r;r++)e[r]=Math.floor(Math.random()*(1<<bpe-1));e[i-1]&=(2<<(t-1)%bpe)-1,1==n&&(e[i-1]|=1<<(t-1)%bpe)}function GCD(e,t){var n,r;return n=dup(e),r=dup(t),GCD_(n,r),n}function GCD_(e,n){var r,i,a,o,s,c,l,d,u;for(T.length!=e.length&&(T=dup(e)),u=1;u;){for(u=0,r=1;r<n.length;r++)if(n[r]){u=1;break}if(!u)break;for(r=e.length;!e[r]&&r>=0;r--);for(i=e[r],a=n[r],o=1,s=0,c=0,l=1;a+c&&a+l&&(d=Math.floor((i+o)/(a+c)),qp=Math.floor((i+s)/(a+l)),d==qp);)t=o-d*c,o=c,c=t,t=s-d*l,s=l,l=t,t=i-d*a,i=a,a=t;s?(copy_(T,e),linComb_(e,n,o,s),linComb_(n,T,l,c)):(mod_(e,n),copy_(T,e),copy_(e,n),copy_(n,T))}if(0!=n[0])for(t=modInt(e,n[0]),copyInt_(e,n[0]),n[0]=t;n[0];)e[0]%=n[0],t=e[0],e[0]=n[0],n[0]=t}function inverseMod_(e,t){var n=1+2*Math.max(e.length,t.length);if(!(1&e[0]||1&t[0]))return copyInt_(e,0),0;for(eg_u.length!=n&&(eg_u=new Array(n),eg_v=new Array(n),eg_A=new Array(n),eg_B=new Array(n),eg_C=new Array(n),eg_D=new Array(n)),copy_(eg_u,e),copy_(eg_v,t),copyInt_(eg_A,1),copyInt_(eg_B,0),copyInt_(eg_C,0),copyInt_(eg_D,1);;){for(;!(1&eg_u[0]);)halve_(eg_u),1&eg_A[0]||1&eg_B[0]?(add_(eg_A,t),halve_(eg_A),sub_(eg_B,e),halve_(eg_B)):(halve_(eg_A),halve_(eg_B));for(;!(1&eg_v[0]);)halve_(eg_v),1&eg_C[0]||1&eg_D[0]?(add_(eg_C,t),halve_(eg_C),sub_(eg_D,e),halve_(eg_D)):(halve_(eg_C),halve_(eg_D));if(greater(eg_v,eg_u)?(sub_(eg_v,eg_u),sub_(eg_C,eg_A),sub_(eg_D,eg_B)):(sub_(eg_u,eg_v),sub_(eg_A,eg_C),sub_(eg_B,eg_D)),equalsInt(eg_u,0)){for(;negative(eg_C);)add_(eg_C,t);return copy_(e,eg_C),equalsInt(eg_v,1)?1:(copyInt_(e,0),0)}}}function inverseModInt(e,t){for(var n=1,r=0;;){if(1==e)return n;if(0==e)return 0;if(r-=n*Math.floor(t/e),t%=e,1==t)return r;if(0==t)return 0;n-=r*Math.floor(e/t),e%=t}}function inverseModInt_(e,t){return inverseModInt(e,t)}function eGCD_(e,t,n,r,i){var a=0,o=Math.max(e.length,t.length);for(eg_u.length!=o&&(eg_u=new Array(o),eg_A=new Array(o),eg_B=new Array(o),eg_C=new Array(o),eg_D=new Array(o));!(1&e[0]||1&t[0]);)halve_(e),halve_(t),a++;for(copy_(eg_u,e),copy_(n,t),copyInt_(eg_A,1),copyInt_(eg_B,0),copyInt_(eg_C,0),copyInt_(eg_D,1);;){for(;!(1&eg_u[0]);)halve_(eg_u),1&eg_A[0]||1&eg_B[0]?(add_(eg_A,t),halve_(eg_A),sub_(eg_B,e),halve_(eg_B)):(halve_(eg_A),halve_(eg_B));for(;!(1&n[0]);)halve_(n),1&eg_C[0]||1&eg_D[0]?(add_(eg_C,t),halve_(eg_C),sub_(eg_D,e),halve_(eg_D)):(halve_(eg_C),halve_(eg_D));if(greater(n,eg_u)?(sub_(n,eg_u),sub_(eg_C,eg_A),sub_(eg_D,eg_B)):(sub_(eg_u,n),sub_(eg_A,eg_C),sub_(eg_B,eg_D)),equalsInt(eg_u,0)){for(;negative(eg_C);)add_(eg_C,t),sub_(eg_D,e);return multInt_(eg_D,-1),copy_(r,eg_C),copy_(i,eg_D),void leftShift_(n,a)}}}function negative(e){return e[e.length-1]>>bpe-1&1}function greaterShift(e,t,n){var r,i=e.length,a=t.length;for(k=a>i+n?i+n:a,r=a-1-n;i>r&&r>=0;r++)if(e[r]>0)return 1;for(r=i-1+n;a>r;r++)if(t[r]>0)return 0;for(r=k-1;r>=n;r--){if(e[r-n]>t[r])return 1;if(e[r-n]<t[r])return 0}return 0}function greater(e,t){var n,r=e.length<t.length?e.length:t.length;for(n=e.length;n<t.length;n++)if(t[n])return 0;for(n=t.length;n<e.length;n++)if(e[n])return 1;for(n=r-1;n>=0;n--){if(e[n]>t[n])return 1;if(e[n]<t[n])return 0}return 0}function divide_(e,t,n,r){var i,a,o,s,c,l,d,u;for(copy_(r,e),a=t.length;0==t[a-1];a--);for(u=t[a-1],d=0;u;d++)u>>=1;for(d=bpe-d,leftShift_(t,d),leftShift_(r,d),i=r.length;0==r[i-1]&&i>a;i--);for(copyInt_(n,0);!greaterShift(t,r,i-a);)subShift_(r,t,i-a),n[i-a]++;for(o=i-1;o>=a;o--){for(n[o-a]=r[o]==t[a-1]?mask:Math.floor((r[o]*radix+r[o-1])/t[a-1]);c=(a>1?t[a-2]:0)*n[o-a],l=c>>bpe,c&=mask,s=l+n[o-a]*t[a-1],l=s>>bpe,s&=mask,l==r[o]?s==r[o-1]?c>(o>1?r[o-2]:0):s>r[o-1]:l>r[o];)n[o-a]--;linCombShift_(r,t,-n[o-a],o-a),negative(r)&&(addShift_(r,t,o-a),n[o-a]--)}rightShift_(t,d),rightShift_(r,d)}function carry_(e){var t,n,r,i;for(n=e.length,r=0,t=0;n>t;t++)r+=e[t],i=0,0>r&&(i=-(r>>bpe),r+=i*radix),e[t]=r&mask,r=(r>>bpe)-i}function modInt(e,t){var n,r=0;for(n=e.length-1;n>=0;n--)r=(r*radix+e[n])%t;return r}function int2bigInt(e,t,n){var r;return r=Math.ceil(t/bpe)+1,r=n>r?n:r,buff=new Array(r),copyInt_(buff,e),buff}function str2bigInt(e,t,n){var r,i,a,o,s,c=e.length;if(-1==t){for(a=new Array(0);;){for(o=new Array(a.length+1),i=0;i<a.length;i++)o[i+1]=a[i];if(o[0]=parseInt(e,10),a=o,r=e.indexOf(",",0),1>r)break;if(e=e.substring(r+1),0==e.length)break}return a.length<n?(o=new Array(n),copy_(o,a),o):a}for(a=int2bigInt(0,t*c,0),i=0;c>i&&(r=digitsStr.indexOf(e.substring(i,i+1),0),36>=t&&r>=36&&(r-=26),!(r>=t||0>r));i++)multInt_(a,t),addInt_(a,r);for(c=a.length;c>0&&!a[c-1];c--);for(c=n>c+1?n:c+1,o=new Array(c),s=c<a.length?c:a.length,i=0;s>i;i++)o[i]=a[i];for(;c>i;i++)o[i]=0;return o}function equalsInt(e,t){var n;if(e[0]!=t)return 0;for(n=1;n<e.length;n++)if(e[n])return 0;return 1}function equals(e,t){var n,r=e.length<t.length?e.length:t.length;for(n=0;r>n;n++)if(e[n]!=t[n])return 0;if(e.length>t.length){for(;n<e.length;n++)if(e[n])return 0}else for(;n<t.length;n++)if(t[n])return 0;return 1}function isZero(e){var t;for(t=0;t<e.length;t++)if(e[t])return 0;return 1}function bigInt2str(e,t){var n,r,i="";if(s6.length!=e.length?s6=dup(e):copy_(s6,e),-1==t){for(n=e.length-1;n>0;n--)i+=e[n]+",";i+=e[0]}else for(;!isZero(s6);)r=divInt_(s6,t),i=digitsStr.substring(r,r+1)+i;return 0==i.length&&(i="0"),i}function dup(e){return buff=new Array(e.length),copy_(buff,e),buff}function copy_(e,t){var n,r=e.length<t.length?e.length:t.length;for(n=0;r>n;n++)e[n]=t[n];for(n=r;n<e.length;n++)e[n]=0}function copyInt_(e,t){var n,r;for(r=t,n=0;n<e.length;n++)e[n]=r&mask,r>>=bpe}function addInt_(e,t){var n,r,i,a;for(e[0]+=t,r=e.length,i=0,n=0;r>n;n++)if(i+=e[n],a=0,0>i&&(a=-(i>>bpe),i+=a*radix),e[n]=i&mask,i=(i>>bpe)-a,!i)return}function rightShift_(e,t){var n,r=Math.floor(t/bpe);if(r){for(n=0;n<e.length-r;n++)e[n]=e[n+r];for(;n<e.length;n++)e[n]=0;t%=bpe}for(n=0;n<e.length-1;n++)e[n]=mask&(e[n+1]<<bpe-t|e[n]>>t);e[n]>>=t}function halve_(e){var t;for(t=0;t<e.length-1;t++)e[t]=mask&(e[t+1]<<bpe-1|e[t]>>1);e[t]=e[t]>>1|e[t]&radix>>1}function leftShift_(e,t){var n,r=Math.floor(t/bpe);if(r){for(n=e.length;n>=r;n--)e[n]=e[n-r];for(;n>=0;n--)e[n]=0;t%=bpe}if(t){for(n=e.length-1;n>0;n--)e[n]=mask&(e[n]<<t|e[n-1]>>bpe-t);e[n]=mask&e[n]<<t}}function multInt_(e,t){var n,r,i,a;if(t)for(r=e.length,i=0,n=0;r>n;n++)i+=e[n]*t,a=0,0>i&&(a=-(i>>bpe),i+=a*radix),e[n]=i&mask,i=(i>>bpe)-a}function divInt_(e,t){var n,r,i=0;for(n=e.length-1;n>=0;n--)r=i*radix+e[n],e[n]=Math.floor(r/t),i=r%t;return i}function linComb_(e,t,n,r){var i,a,o,s;for(o=e.length<t.length?e.length:t.length,s=e.length,a=0,i=0;o>i;i++)a+=n*e[i]+r*t[i],e[i]=a&mask,a>>=bpe;for(i=o;s>i;i++)a+=n*e[i],e[i]=a&mask,a>>=bpe}function linCombShift_(e,t,n,r){var i,a,o,s;for(o=e.length<r+t.length?e.length:r+t.length,s=e.length,a=0,i=r;o>i;i++)a+=e[i]+n*t[i-r],e[i]=a&mask,a>>=bpe;for(i=o;a&&s>i;i++)a+=e[i],e[i]=a&mask,a>>=bpe}function addShift_(e,t,n){var r,i,a,o;for(a=e.length<n+t.length?e.length:n+t.length,o=e.length,i=0,r=n;a>r;r++)i+=e[r]+t[r-n],e[r]=i&mask,i>>=bpe;for(r=a;i&&o>r;r++)i+=e[r],e[r]=i&mask,i>>=bpe}function subShift_(e,t,n){var r,i,a,o;for(a=e.length<n+t.length?e.length:n+t.length,o=e.length,i=0,r=n;a>r;r++)i+=e[r]-t[r-n],e[r]=i&mask,i>>=bpe;for(r=a;i&&o>r;r++)i+=e[r],e[r]=i&mask,i>>=bpe}function sub_(e,t){var n,r,i;for(i=e.length<t.length?e.length:t.length,r=0,n=0;i>n;n++)r+=e[n]-t[n],e[n]=r&mask,r>>=bpe;for(n=i;r&&n<e.length;n++)r+=e[n],e[n]=r&mask,r>>=bpe}function add_(e,t){var n,r,i;for(i=e.length<t.length?e.length:t.length,r=0,n=0;i>n;n++)r+=e[n]+t[n],e[n]=r&mask,r>>=bpe;for(n=i;r&&n<e.length;n++)r+=e[n],e[n]=r&mask,r>>=bpe}function mult_(e,t){var n;for(ss.length!=2*e.length&&(ss=new Array(2*e.length)),copyInt_(ss,0),n=0;n<t.length;n++)t[n]&&linCombShift_(ss,e,t[n],n);copy_(e,ss)}function mod_(e,t){s4.length!=e.length?s4=dup(e):copy_(s4,e),s5.length!=e.length&&(s5=dup(e)),divide_(s4,t,s5,e)}function multMod_(e,t,n){var r;for(s0.length!=2*e.length&&(s0=new Array(2*e.length)),copyInt_(s0,0),r=0;r<t.length;r++)t[r]&&linCombShift_(s0,e,t[r],r);mod_(s0,n),copy_(e,s0)}function squareMod_(e,t){var n,r,i,a,o;for(a=e.length;a>0&&!e[a-1];a--);for(o=a>t.length?2*a:2*t.length,s0.length!=o&&(s0=new Array(o)),copyInt_(s0,0),n=0;a>n;n++){for(i=s0[2*n]+e[n]*e[n],s0[2*n]=i&mask,i>>=bpe,r=n+1;a>r;r++)i=s0[n+r]+2*e[n]*e[r]+i,s0[n+r]=i&mask,i>>=bpe;s0[n+a]=i}mod_(s0,t),copy_(e,s0)}function trim(e,t){var n,r;for(n=e.length;n>0&&!e[n-1];n--);return r=new Array(n+t),copy_(r,e),r}function powMod_(e,t,n){var r,i,a,o;if(s7.length!=n.length&&(s7=dup(n)),0!=(1&n[0])){for(copyInt_(s7,0),a=n.length;a>0&&!n[a-1];a--);for(o=radix-inverseModInt(modInt(n,radix),radix),s7[a]=1,multMod_(e,s7,n),s3.length!=e.length?s3=dup(e):copy_(s3,e),r=t.length-1;r>0&!t[r];r--);if(0==t[r])return void copyInt_(e,1);for(i=1<<bpe-1;i&&!(t[r]&i);i>>=1);for(;;){if(!(i>>=1)){if(r--,0>r)return void mont_(e,one,n,o);i=1<<bpe-1}mont_(e,e,n,o),i&t[r]&&mont_(e,s3,n,o)}}else for(copy_(s7,e),copyInt_(e,1);!equalsInt(t,0);)1&t[0]&&multMod_(e,s7,n),divInt_(t,2),squareMod_(s7,n)}function mont_(e,t,n,r){var i,a,o,s,c,l,d=n.length,u=t.length;for(sa.length!=d&&(sa=new Array(d)),copyInt_(sa,0);d>0&&0==n[d-1];d--);for(;u>0&&0==t[u-1];u--);for(l=sa.length-1,i=0;d>i;i++){for(c=sa[0]+e[i]*t[0],s=(c&mask)*r&mask,o=c+s*n[0]>>bpe,c=e[i],a=1;u-4>a;)o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++;for(;u>a;)o+=sa[a]+s*n[a]+c*t[a],sa[a-1]=o&mask,o>>=bpe,a++;for(;d-4>a;)o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++,o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++;for(;d>a;)o+=sa[a]+s*n[a],sa[a-1]=o&mask,o>>=bpe,a++;for(;l>a;)o+=sa[a],sa[a-1]=o&mask,o>>=bpe,a++;sa[a-1]=o&mask}greater(n,sa)||sub_(sa,n),copy_(e,sa)}function dT(){return"["+(((new Date).getTime()-_logTimer)/1e3).toFixed(3)+"]"}function checkClick(e,t){return 1==e.which&&(e.ctrlKey||e.metaKey)||2==e.which?!0:(t||e.preventDefault(),!1)}function checkDragEvent(e){if(!e||e.target&&("IMG"==e.target.tagName||"A"==e.target.tagName))return!1;if(!e.dataTransfer||!e.dataTransfer.types)return!0;for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"==e.dataTransfer.types[t])return!0;return!1}function cancelEvent(e){
return e=e||window.event,e&&(e=e.originalEvent||e,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()),!1}function onCtrlEnter(e,t){$(e).on("keydown",function(e){return 13==e.keyCode&&(e.ctrlKey||e.metaKey)?(t(),cancelEvent(e)):void 0})}function setFieldSelection(e,t,n){e=$(e)[0];try{if(e.focus(),(void 0===t||t===!1)&&(t=e.value.length),(void 0===n||n===!1)&&(n=t),e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select()}else e.setSelectionRange&&e.setSelectionRange(t,n)}catch(i){}}function getFieldSelection(e){if(e.selectionStart)return e.selectionStart;if(!document.selection)return 0;var t="",n=document.selection.createRange(),r=n.text,i=n.duplicate(),a=0;try{i.moveToElementText(e)}catch(o){return 0}return n.text=r+t,a=i.text.indexOf(t),n.moveStart("character",-1),n.text="",a}function getRichValue(e){if(!e)return"";var t=[],n=[];return getRichElementValue(e,t,n),n.length&&t.push(n.join("")),t.join("\n")}function getRichValueWithCaret(e){if(!e)return[];var t,n,r=[],i=[],a=window.getSelection?window.getSelection():!1;if(a&&a.rangeCount){var o=a.getRangeAt(0);o.startContainer&&o.startContainer==o.endContainer&&o.startOffset==o.endOffset&&(t=o.startContainer,n=o.startOffset)}getRichElementValue(e,r,i,t,n),i.length&&r.push(i.join(""));var s=r.join("\n"),c=s.indexOf("");return-1!=c&&(s=s.substr(0,c)+s.substr(c+1)),[s,c]}function getRichElementValue(e,t,n,r,i){if(3!=e.nodeType){if(1==e.nodeType){var a,o="DIV"==e.tagName||"P"==e.tagName;o&&n.length||"BR"==e.tagName?(t.push(n.join("")),n.splice(0,n.length)):"IMG"==e.tagName&&e.alt&&n.push(e.alt),r===e&&n.push("");for(var a=e.firstChild;a;)getRichElementValue(a,t,n,r,i),a=a.nextSibling;o&&n.length&&(t.push(n.join("")),n.splice(0,n.length))}}else if(r===e){var s=e.nodeValue;n.push(s.substr(0,i)+""+s.substr(i))}else n.push(e.nodeValue)}function setRichFocus(e,t){if(e.focus(),window.getSelection&&document.createRange){var n=document.createRange();t?n.selectNode(t):n.selectNodeContents(e),n.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(n)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(t||e),i.collapse(!1),i.select()}}function onContentLoaded(e){setZeroTimeout(e)}function tsNow(e){var t=+new Date+(window.tsOffset||0);return e?Math.floor(t/1e3):t}function safeReplaceObject(e,t){for(var n in e)t.hasOwnProperty(n)||"$"==n.charAt(0)||delete e[n];for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function listMergeSorted(e,t){e=e||[],t=t||[];for(var n=angular.copy(e),r=e.length?e[e.length-1]:4294967295,i=0;i<t.length;i++)t[i]<r&&n.push(t[i]);return n}function listUniqSorted(e){e=e||[];for(var t=[],n=!1,r=0;r<e.length;r++)e[r]!==n&&t.push(e[r]),n=e[r];return t}function templateUrl(e){var t={confirm_modal:"desktop",error_modal:"desktop",media_modal_layout:"desktop",slider:"desktop",reply_message:"desktop",chat_invite_link_modal:"desktop"},n=t[e]||(Config.Mobile?"mobile":"desktop");return"partials/"+n+"/"+e+".html"}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(/([^\#-~| |!])/g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function calcImageInBox(e,t,n,r,i){var a=n,o=r;return e/t>n/r?o=parseInt(t*n/e):(a=parseInt(e*r/t),a>n&&(o=parseInt(o*n/a),a=n)),i&&a>=e&&o>=t&&(a=e,o=t),{w:a,h:o}}function versionCompare(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var n,r=Math.max(e.length,t.length);for(n=0;r>n;n++)if(e[n]!=t[n])return e[n]>t[n]?1:-1;return 0}function bigint(e){return new BigInteger(e.toString(16),16)}function bigStringInt(e){return new BigInteger(e,10)}function dHexDump(e){for(var t=[],n=0;n<e.length;n++)!n||n%2||t.push(n%16?n%4?" ":"  ":"\n"),t.push((e[n]<16?"0":"")+e[n].toString(16));console.log(t.join(""))}function bytesToHex(e){e=e||[];for(var t=[],n=0;n<e.length;n++)t.push((e[n]<16?"0":"")+(e[n]||0).toString(16));return t.join("")}function bytesFromHex(e){var t,n=e.length,r=0,i=[];for(e.length%2&&(i.push(parseInt(e.charAt(0),16)),r++),t=r;n>t;t+=2)i.push(parseInt(e.substr(t,2),16));return i}function bytesToBase64(e){for(var t,n="",r=e.length,i=0,a=0;r>a;a++)t=a%3,i|=e[a]<<(16>>>t&24),(2===t||r-a===1)&&(n+=String.fromCharCode(uint6ToBase64(i>>>18&63),uint6ToBase64(i>>>12&63),uint6ToBase64(i>>>6&63),uint6ToBase64(63&i)),i=0);return n.replace(/A(?=A$|$)/g,"=")}function uint6ToBase64(e){return 26>e?e+65:52>e?e+71:62>e?e-4:62===e?43:63===e?47:65}function base64ToBlob(e,t){for(var n=1024,r=atob(e),i=r.length,a=Math.ceil(i/n),o=new Array(a),s=0;a>s;++s){for(var c=s*n,l=Math.min(c+n,i),d=new Array(l-c),u=c,p=0;l>u;++p,++u)d[p]=r[u].charCodeAt(0);o[s]=new Uint8Array(d)}return blobConstruct(o,t)}function dataUrlToBlob(e){var t=e.split(","),n=t[1],r=t[0].split(":")[1].split(";")[0],i=base64ToBlob(n,r);return i}function blobConstruct(e,t){var n;try{n=new Blob(e,{type:t})}catch(r){var i=new BlobBuilder;angular.forEach(e,function(e){i.append(e)}),n=i.getBlob(t)}return n}function bytesCmp(e,t){var n=e.length;if(n!=t.length)return!1;for(var r=0;n>r;r++)if(e[r]!=t[r])return!1;return!0}function bytesXor(e,t){for(var n=e.length,r=[],i=0;n>i;++i)r[i]=e[i]^t[i];return r}function bytesToWords(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var t,n=e.length,r=[];for(t=0;n>t;t++)r[t>>>2]|=e[t]<<24-t%4*8;return new CryptoJS.lib.WordArray.init(r,n)}function bytesFromWords(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;n>i;i++)r.push(t[i>>>2]>>>24-i%4*8&255);return r}function bytesFromBigInt(e,t){var n=e.toByteArray();if(t&&n.length<t){for(var r=[],i=0,a=t-n.length;a>i;i++)r[i]=0;n=n instanceof ArrayBuffer?bufferConcat(r,n):r.concat(n)}else for(;!n[0]&&(!t||n.length>t);)n=n.slice(1);return n}function bytesFromLeemonBigInt(e,t){var n=bigInt2str(e,16);return bytesFromHex(n)}function bytesToArrayBuffer(e){return new Uint8Array(e).buffer}function convertToArrayBuffer(e){return e instanceof ArrayBuffer?e:void 0!==e.buffer&&e.buffer.byteLength==e.length*e.BYTES_PER_ELEMENT?e.buffer:bytesToArrayBuffer(e)}function convertToUint8Array(e){return void 0!==e.buffer?e:new Uint8Array(e)}function convertToByteArray(e){if(Array.isArray(e))return e;e=convertToUint8Array(e);for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t}function bytesFromArrayBuffer(e){for(var t=e.byteLength,n=new Uint8Array(e),r=[],i=0;t>i;++i)r[i]=n[i];return r}function bufferConcat(e,t){var n=e.byteLength||e.length,r=t.byteLength||t.length,i=new Uint8Array(n+r);return i.set(e instanceof ArrayBuffer?new Uint8Array(e):e,0),i.set(t instanceof ArrayBuffer?new Uint8Array(t):t,n),i.buffer}function longToInts(e){var t=bigStringInt(e).divideAndRemainder(bigint(4294967296));return[t[0].intValue(),t[1].intValue()]}function longToBytes(e){return bytesFromWords({words:longToInts(e),sigBytes:8}).reverse()}function longFromInts(e,t){return bigint(e).shiftLeft(32).add(bigint(t)).toString(10)}function intToUint(e){return e=parseInt(e),0>e&&(e+=4294967296),e}function uintToInt(e){return e>2147483647&&(e-=4294967296),e}function sha1HashSync(e){this.rushaInstance=this.rushaInstance||new Rusha(1048576);var t=rushaInstance.rawDigest(e).buffer;return t}function sha1BytesSync(e){return bytesFromArrayBuffer(sha1HashSync(e))}function sha256HashSync(e){var t=CryptoJS.SHA256(bytesToWords(e)),n=bytesFromWords(t);return n}function rsaEncrypt(e,t){t=addPadding(t,255);var n=new BigInteger(e.modulus,16),r=new BigInteger(e.exponent,16),i=new BigInteger(t),a=i.modPowInt(r,n),o=bytesFromBigInt(a,256);return o}function addPadding(e,t,n){t=t||16;var r=e.byteLength||e.length,i=t-r%t;if(i>0&&t>i){var a=new Array(i);if(n)for(var o=0;i>o;o++)a[o]=0;else(new SecureRandom).nextBytes(a);e=e instanceof ArrayBuffer?bufferConcat(e,a):e.concat(a)}return e}function aesEncryptSync(e,t,n){e.byteLength||e.length;e=addPadding(e);var r=CryptoJS.AES.encrypt(bytesToWords(e),bytesToWords(t),{iv:bytesToWords(n),padding:CryptoJS.pad.NoPadding,mode:CryptoJS.mode.IGE}).ciphertext,i=bytesFromWords(r);return i}function aesDecryptSync(e,t,n){var r=CryptoJS.AES.decrypt({ciphertext:bytesToWords(e)},bytesToWords(t),{iv:bytesToWords(n),padding:CryptoJS.pad.NoPadding,mode:CryptoJS.mode.IGE}),i=bytesFromWords(r);return i}function gzipUncompress(e){var t=new Zlib.Gunzip(e).decompress();return t}function nextRandomInt(e){return Math.floor(Math.random()*e)}function pqPrimeFactorization(e){var t=new BigInteger(e),n=!1;try{n=pqPrimeLeemon(str2bigInt(t.toString(16),16,Math.ceil(64/bpe)+1))}catch(r){console.error("Pq leemon Exception",r)}if(n===!1&&t.bitLength()<=64)try{n=pqPrimeLong(goog.math.Long.fromString(t.toString(16),16))}catch(r){console.error("Pq long Exception",r)}return n===!1&&(n=pqPrimeBigInteger(t)),n}function pqPrimeBigInteger(e){for(var t,n=0,r=0;3>r;r++){for(var i=(15&nextRandomInt(128))+17,a=bigint(nextRandomInt(1e9)+1),o=a.clone(),s=1<<r+18,c=1;s>c;c++){++n;for(var l=a.clone(),d=a.clone(),u=bigint(i);!d.equals(BigInteger.ZERO);)d.and(BigInteger.ONE).equals(BigInteger.ZERO)||(u=u.add(l),u.compareTo(e)>0&&(u=u.subtract(e))),l=l.add(l),l.compareTo(e)>0&&(l=l.subtract(e)),d=d.shiftRight(1);a=u.clone();var p=a.compareTo(o)<0?o.subtract(a):a.subtract(o);if(t=p.gcd(e),!t.equals(BigInteger.ONE))break;0==(c&c-1)&&(o=a.clone())}if(t.compareTo(BigInteger.ONE)>0)break}var m,h,g=e.divide(t);return t.compareTo(g)>0?(m=g,h=t):(m=t,h=g),[bytesFromBigInt(m),bytesFromBigInt(h),n]}function gcdLong(e,t){for(;e.notEquals(goog.math.Long.ZERO)&&t.notEquals(goog.math.Long.ZERO);){for(;t.and(goog.math.Long.ONE).equals(goog.math.Long.ZERO);)t=t.shiftRight(1);for(;e.and(goog.math.Long.ONE).equals(goog.math.Long.ZERO);)e=e.shiftRight(1);e.compare(t)>0?e=e.subtract(t):t=t.subtract(e)}return t.equals(goog.math.Long.ZERO)?e:t}function pqPrimeLong(e){for(var t,n=0,r=0;3>r;r++){for(var i=goog.math.Long.fromInt((15&nextRandomInt(128))+17),a=goog.math.Long.fromInt(nextRandomInt(1e9)+1),o=a,s=1<<r+18,c=1;s>c;c++){++n;for(var l=a,d=a,u=i;d.notEquals(goog.math.Long.ZERO);)d.and(goog.math.Long.ONE).notEquals(goog.math.Long.ZERO)&&(u=u.add(l),u.compare(e)>0&&(u=u.subtract(e))),l=l.add(l),l.compare(e)>0&&(l=l.subtract(e)),d=d.shiftRight(1);a=u;var p=a.compare(o)<0?o.subtract(a):a.subtract(o);if(t=gcdLong(p,e),t.notEquals(goog.math.Long.ONE))break;0==(c&c-1)&&(o=a)}if(t.compare(goog.math.Long.ONE)>0)break}var m,h,g=e.div(t);return t.compare(g)>0?(m=g,h=t):(m=t,h=g),[bytesFromHex(m.toString(16)),bytesFromHex(h.toString(16)),n]}function pqPrimeLeemon(e){var t,n,r,i,a,o,s,c=64,l=Math.ceil(c/bpe)+1,d=0,u=new Array(l),p=new Array(l),m=new Array(l),a=new Array(l),h=new Array(l),g=new Array(l),f=new Array(l);for(t=0;3>t;t++){for(n=(15&nextRandomInt(128))+17,copyInt_(g,nextRandomInt(1e9)+1),copy_(f,g),i=1<<t+18,r=1;i>r;r++){for(++d,copy_(u,g),copy_(p,g),copyInt_(m,n);!isZero(p);)1&p[0]&&(add_(m,u),greater(m,e)&&sub_(m,e)),add_(u,u),greater(u,e)&&sub_(u,e),rightShift_(p,1);if(copy_(g,m),greater(g,f)?(copy_(h,g),sub_(h,f)):(copy_(h,f),sub_(h,g)),eGCD_(h,e,a,u,p),!equalsInt(a,1))break;0==(r&r-1)&&copy_(f,g)}if(greater(a,one))break}return divide_(e,a,g,f),greater(a,g)?(o=g,s=a):(o=a,s=g),[bytesFromLeemonBigInt(o),bytesFromLeemonBigInt(s),d]}function bytesModPow(e,t,n){try{var r=str2bigInt(bytesToHex(e),16),i=str2bigInt(bytesToHex(t),16),a=str2bigInt(bytesToHex(n),16),o=powMod(r,i,a);return bytesFromHex(bigInt2str(o,16))}catch(s){console.error("mod pow error",s)}return bytesFromBigInt(new BigInteger(e).modPow(new BigInteger(t),new BigInteger(n)),256)}function TLSerialization(e){return e=e||{},this.maxLength=e.startMaxLength||2048,this.offset=0,this.createBuffer(),this.mtproto=e.mtproto||!1,this}function TLDeserialization(e,t){return t=t||{},this.offset=0,this.override=t.override||{},this.buffer=e,this.intView=new Uint32Array(this.buffer),this.byteView=new Uint8Array(this.buffer),this.mtproto=t.mtproto||!1,this}function EmojiTooltip(e,t){t=t||{};var n=this;this.btnEl=$(e),this.onEmojiSelected=t.onEmojiSelected,this.onStickerSelected=t.onStickerSelected,this.getStickers=t.getStickers,this.getStickerImage=t.getStickerImage,this.onStickersetSelected=t.onStickersetSelected,Config.Navigator.touch||$(this.btnEl).on("mouseenter mouseleave",function(e){n.isOverBtn="mouseenter"==e.type,n.createTooltip(),n.isOverBtn?n.onMouseEnter(!0):n.onMouseLeave(!0)}),$(this.btnEl).on("mousedown",function(e){return n.shown?(clearTimeout(n.hideTimeout),delete n.hideTimeout,n.hide()):(clearTimeout(n.showTimeout),delete n.showTimeout,n.createTooltip(),n.show()),cancelEvent(e)}),$(document).on("mousedown",function(e){n.shown&&n.hide()})}function EmojiPanel(e,t){t=t||{};var n=this;this.containerEl=$(e),this.onEmojiSelected=t.onEmojiSelected,this.containerEl.on("mousedown",function(e){e=e.originalEvent||e;var t,r=$(e.target);return"A"!=r[0].tagName&&(r=$(r[0].parentNode)),(t=r.attr("data-code"))&&(n.onEmojiSelected&&n.onEmojiSelected(t),EmojiHelper.pushPopularEmoji(t)),cancelEvent(e)}),this.update()}function MessageComposer(e,t){this.textareaEl=$(e),this.setUpInput(),this.autoCompleteEl=$('<ul class="composer_dropdown dropdown-menu"></ul>').appendTo(document.body);var n=this;this.autoCompleteEl.on("mousedown",function(e){e=e.originalEvent||e;var t,r,i=$(e.target);return"A"!=i[0].tagName&&(i=$(i[0].parentNode)),(r=i.attr("data-code"))&&(n.onEmojiSelected&&n.onEmojiSelected(r,!0),EmojiHelper.pushPopularEmoji(r)),(t=i.attr("data-mention"))&&n.onMentionSelected&&n.onMentionSelected(t),cancelEvent(e)}),this.isActive=!1,this.onTyping=t.onTyping,this.onMessageSubmit=t.onMessageSubmit,this.getSendOnEnter=t.getSendOnEnter,this.onFilePaste=t.onFilePaste,this.mentions=t.mentions,this.getPeerImage=t.getPeerImage}!function(e){"use strict";e.console=e.console||{};for(var t,n,r=e.console,i={},a=function(){},o="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)r[t]||(r[t]=i);for(;n=s.pop();)r[n]||(r[n]=a)}("undefined"==typeof window?this:window),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=i)return-1;for(n=Math.max(a>=0?a:i-Math.abs(a),0);i>n;){if(n in r&&r[n]===e)return n;n++}return-1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),"function"!=typeof Object.create&&(Object.create=function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}()),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(e){function t(t){r.push(t),e.postMessage(i,"*")}function n(t){if(t.source==e&&t.data==i&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}}var r=[],i="zero-timeout-message";e.addEventListener("message",n,!0);var a=e.setTimeout;e.setTimeout=function(e,n){return!n||5>=n?t(e):a(e,n)},e.setZeroTimeout=t}(this),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=be[e]={};return ie.each(e.match(ye)||[],function(e,n){t[n]=!0}),t}function o(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(o(),ie.ready())}function c(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ce,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Se.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,r){if(ie.acceptData(e)){var i,a,o=ie.expando,s=e.nodeType,c=s?ie.cache:e,l=s?e[o]:e[o]&&o;if(l&&c[l]&&(r||c[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[o]=K.pop()||ie.guid++:o),c[l]||(c[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?c[l]=ie.extend(c[l],t):c[l].data=ie.extend(c[l].data,t)),a=c[l],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[ie.camelCase(t)]=n),"string"==typeof t?(i=a[t],null==i&&(i=a[ie.camelCase(t)])):i=a,i}}function u(e,t,n){if(ie.acceptData(e)){var r,i,a=e.nodeType,o=a?ie.cache:e,s=a?e[ie.expando]:ie.expando;if(o[s]){if(t&&(r=n?o[s]:o[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete o[s].data,l(o[s])))&&(a?ie.cleanData([e],!0):ne.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function p(){return!0}function m(){return!1}function h(){try{return he.activeElement}catch(e){}}function g(e){var t=Oe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){var n,r,i=0,a=typeof e.getElementsByTagName!==$e?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==$e?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?a.push(r):ie.merge(a,f(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],a):a}function _(e){Te.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function k(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,a=ie._data(e),o=ie._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}o.data&&(o.data=ie.extend({},o.data))}}function $(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(y(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Te.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function S(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),a}function C(e){var t=he,n=Qe[e];return n||(n=S(e,t),"none"!==n&&n||(Je=(Je||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Je[0].contentWindow||Je[0].contentDocument).document,t.write(),t.close(),n=S(e,t),Je.detach()),Qe[e]=n),n}function M(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function A(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pt.length;i--;)if(t=pt[i]+n,t in e)return t;return r}function x(e,t){for(var n,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=ie._data(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&xe(r)&&(a[o]=ie._data(r,"olddisplay",C(r.nodeName)))):(i=xe(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function E(e,t,n){var r=ct.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function T(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=ie.css(e,n+Ae[a],!0,i)),r?("content"===n&&(o-=ie.css(e,"padding"+Ae[a],!0,i)),"margin"!==n&&(o-=ie.css(e,"border"+Ae[a]+"Width",!0,i))):(o+=ie.css(e,"padding"+Ae[a],!0,i),"padding"!==n&&(o+=ie.css(e,"border"+Ae[a]+"Width",!0,i)));return o}function I(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=et(e),o=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=tt(e,t,a),(0>i||null==i)&&(i=e.style[t]),rt.test(i))return i;r=o&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+T(e,t,n||(o?"border":"content"),r,a)+"px"}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function P(){return setTimeout(function(){mt=void 0}),mt=ie.now()}function N(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Ae[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function U(e,t,n){for(var r,i=(yt[t]||[]).concat(yt["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,t,e))return r}function O(e,t,n){var r,i,a,o,s,c,l,d,u=this,p={},m=e.style,h=e.nodeType&&xe(e),g=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],l=ie.css(e,"display"),d="none"===l?ie._data(e,"olddisplay")||C(e.nodeName):l,"inline"===d&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==C(e.nodeName)?m.zoom=1:m.display="inline-block")),n.overflow&&(m.overflow="hidden",ne.shrinkWrapBlocks()||u.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],gt.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(p))"inline"===("none"===l?C(e.nodeName):l)&&(m.display=l);else{g?"hidden"in g&&(h=g.hidden):g=ie._data(e,"fxshow",{}),a&&(g.hidden=!h),h?ie(e).show():u.done(function(){ie(e).hide()}),u.done(function(){var t;ie._removeData(e,"fxshow");for(t in p)ie.style(e,t,p[t])});for(r in p)o=U(h?g[r]:0,r,u),r in g||(g[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function L(e,t){var n,r,i,a,o;for(n in e)if(r=ie.camelCase(n),i=t[r],a=e[n],ie.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=ie.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function R(e,t,n){var r,i,a=0,o=vt.length,s=ie.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=mt||P(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,o=0,c=l.tweens.length;c>o;o++)l.tweens[o].run(a);return s.notifyWith(e,[l,a,n]),1>a&&c?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mt||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),d=l.props;for(L(d,l.opts.specialEasing);o>a;a++)if(r=vt[a].call(l,e,d,l.opts))return r;return ie.map(d,U,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(ye)||[];if(ie.isFunction(n))for(;r=a[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function F(e,t,n,r){function i(s){var c;return a[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||a[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),c}var a={},o=e===Ht;return i(t.dataTypes[0])||!a["*"]&&i("*")}function q(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function j(e,t,n){for(var r,i,a,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){c.unshift(o);break}if(c[0]in n)a=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function H(e,t,n,r){var i,a,o,s,c,l={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=d.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(o=l[c+" "+a]||l["* "+a],!o)for(i in l)if(s=i.split(" "),s[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){o===!0?o=l[i]:l[i]!==!0&&(a=s[0],d.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+c+" to "+a}}}return{state:"success",data:t}}function z(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Gt.test(e)?r(e,i):z(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)z(e+"["+i+"]",t[i],n,r)}function V(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var K=[],Y=K.slice,Z=K.concat,X=K.push,J=K.indexOf,Q={},ee=Q.toString,te=Q.hasOwnProperty,ne={},re="1.11.1",ie=function(e,t){return new ie.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,se=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:K.sort,splice:K.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||ie.isFunction(o)||(o={}),s===c&&(o=this,s--);c>s;s++)if(null!=(i=arguments[s]))for(r in i)e=o[r],n=i[r],o!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,a=e&&ie.isArray(e)?e:[]):a=e&&ie.isPlainObject(e)?e:{},o[r]=ie.extend(l,a,n)):void 0!==n&&(o[r]=n));return o},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Q[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(se,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,a=0,o=e.length,s=n(e);if(r){if(s)for(;o>a&&(i=t.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(J)return J.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],a=0,o=e.length,s=!n;o>a;a++)r=!t(e[a],a),r!==s&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,s=n(e),c=[];if(s)for(;o>a;a++)i=t(e[a],a,r),null!=i&&c.push(i);else for(a in e)i=t(e[a],a,r),null!=i&&c.push(i);return Z.apply([],c)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,a,o,s,c,l,u,m,h,g;if((t?t.ownerDocument||t:F)!==D&&I(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(N&&!r){if(i=ve.exec(e))if(o=i[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&R(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!U||!U.test(e))){if(m=u=B,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=C(e),(u=t.getAttribute("id"))?m=u.replace(be,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",c=l.length;c--;)l[c]=m+p(l[c]);h=ye.test(e)&&d(t.parentNode)||t,g=l.join(",")}if(g)try{return Q.apply(n,h.querySelectorAll(g)),n}catch(f){}finally{u||t.removeAttribute("id")}}}return A(e.replace(ce,"$1"),t,n,r);

}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function d(e){return e&&typeof e.getElementsByTagName!==G&&e}function u(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function m(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=j++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,c,l=[q,a];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(c=t[B]||(t[B]={}),(s=c[r])&&s[0]===q&&s[1]===a)return l[2]=s[2];if(c[r]=l,l[2]=e(t,n,o))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,a=n.length;a>i;i++)t(e,n[i],r);return r}function f(e,t,n,r,i){for(var a,o=[],s=0,c=e.length,l=null!=t;c>s;s++)(a=e[s])&&(!n||n(a,r,i))&&(o.push(a),l&&t.push(s));return o}function _(e,t,n,i,a,o){return i&&!i[B]&&(i=_(i)),a&&!a[B]&&(a=_(a,o)),r(function(r,o,s,c){var l,d,u,p=[],m=[],h=o.length,_=r||g(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?_:f(_,p,e,s,c),y=n?a||(r?e:h||i)?[]:o:v;if(n&&n(v,y,s,c),i)for(l=f(y,m),i(l,[],s,c),d=l.length;d--;)(u=l[d])&&(y[m[d]]=!(v[m[d]]=u));if(r){if(a||e){if(a){for(l=[],d=y.length;d--;)(u=y[d])&&l.push(v[d]=u);a(null,y=[],l,c)}for(d=y.length;d--;)(u=y[d])&&(l=a?te.call(r,u):p[d])>-1&&(r[l]=!(o[l]=u))}}else y=f(y===o?y.splice(h,y.length):y),a?a(null,o,y,c):Q.apply(o,y)})}function v(e){for(var t,n,r,i=e.length,a=k.relative[e[0].type],o=a||k.relative[" "],s=a?1:0,c=m(function(e){return e===t},o,!0),l=m(function(e){return te.call(t,e)>-1},o,!0),d=[function(e,n,r){return!a&&(r||n!==x)||((t=n).nodeType?c(e,n,r):l(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])d=[m(h(d),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return _(s>1&&h(d),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&p(e))}d.push(n)}return h(d)}function y(e,n){var i=n.length>0,a=e.length>0,o=function(r,o,s,c,l){var d,u,p,m=0,h="0",g=r&&[],_=[],v=x,y=r||a&&k.find.TAG("*",l),b=q+=null==v?1:Math.random()||.1,w=y.length;for(l&&(x=o!==D&&o);h!==w&&null!=(d=y[h]);h++){if(a&&d){for(u=0;p=e[u++];)if(p(d,o,s)){c.push(d);break}l&&(q=b)}i&&((d=!p&&d)&&m--,r&&g.push(d))}if(m+=h,i&&h!==m){for(u=0;p=n[u++];)p(g,_,o,s);if(r){if(m>0)for(;h--;)g[h]||_[h]||(_[h]=X.call(c));_=f(_)}Q.apply(c,_),l&&!r&&_.length>0&&m+n.length>1&&t.uniqueSort(c)}return l&&(q=b,x=v),g};return i?r(o):o}var b,w,k,$,S,C,M,A,x,E,T,I,D,P,N,U,O,L,R,B="sizzle"+-new Date,F=e.document,q=0,j=0,H=n(),z=n(),V=n(),W=function(e,t){return e===t&&(T=!0),0},G="undefined",K=1<<31,Y={}.hasOwnProperty,Z=[],X=Z.pop,J=Z.push,Q=Z.push,ee=Z.slice,te=Z.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=ie.replace("w","w#"),oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+re+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ce=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),de=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),ue=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),pe=new RegExp(se),me=new RegExp("^"+ae+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(Z=ee.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch($e){Q={apply:Z.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,r=n.defaultView;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,P=n.documentElement,N=!S(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){I()},!1):r.attachEvent&&r.attachEvent("onunload",function(){I()})),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=_e.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=i(function(e){return P.appendChild(e).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),w.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==G&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,ke);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},k.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&N?t.getElementsByClassName(e):void 0},O=[],U=[],(w.qsa=_e.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&U.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||U.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||U.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&U.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||U.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),U.push(",.*:")})),(w.matchesSelector=_e.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(e){w.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),O.push("!=",se)}),U=U.length&&new RegExp(U.join("|")),O=O.length&&new RegExp(O.join("|")),t=_e.test(P.compareDocumentPosition),R=t||_e.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return T=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===F&&R(F,e)?-1:t===n||t.ownerDocument===F&&R(F,t)?1:E?te.call(E,e)-te.call(E,t):0:4&r?-1:1)}:function(e,t){if(e===t)return T=!0,0;var r,i=0,a=e.parentNode,s=t.parentNode,c=[e],l=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:E?te.call(E,e)-te.call(E,t):0;if(a===s)return o(e,t);for(r=e;r=r.parentNode;)c.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;c[i]===l[i];)i++;return i?o(c[i],l[i]):c[i]===F?-1:l[i]===F?1:0},n):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&I(e),n=n.replace(ue,"='$1']"),!(!w.matchesSelector||!N||O&&O.test(n)||U&&U.test(n)))try{var r=L.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&I(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&I(e);var n=k.attrHandle[t.toLowerCase()],r=n&&Y.call(k.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:w.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(T=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(W),T){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return E=null,e},$=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=$(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=$(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(we,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var a=t.attr(i,e);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,d,u,p,m,h,g=a!==o?"nextSibling":"previousSibling",f=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!c&&!s;if(f){if(a){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===_:1===u.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?f.firstChild:f.lastChild],o&&v){for(d=f[B]||(f[B]={}),l=d[e]||[],m=l[0]===q&&l[1],p=l[0]===q&&l[2],u=m&&f.childNodes[m];u=++m&&u&&u[g]||(p=m=0)||h.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[q,m,p];break}}else if(v&&(l=(t[B]||(t[B]={}))[e])&&l[0]===q)p=l[1];else for(;(u=++m&&u&&u[g]||(p=m=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==_:1!==u.nodeType)||!++p||(v&&((u[B]||(u[B]={}))[e]=[q,p]),u!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[B]?a(n):a.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=a(e,n),o=i.length;o--;)r=te.call(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return a(e,0,i)}):a}},pseudos:{not:r(function(e){var t=[],n=[],i=M(e.replace(ce,"$1"));return i[B]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||$(t)).indexOf(e)>-1}}),lang:r(function(e){return me.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,ke).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=c(b);return u.prototype=k.filters=k.pseudos,k.setFilters=new u,C=t.tokenize=function(e,n){var r,i,a,o,s,c,l,d=z[e+" "];if(d)return n?0:d.slice(0);for(s=e,c=[],l=k.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),c.push(a=[])),r=!1,(i=de.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ce," ")}),s=s.slice(r.length));for(o in k.filter)!(i=he[o].exec(s))||l[o]&&!(i=l[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,c).slice(0)},M=t.compile=function(e,t){var n,r=[],i=[],a=V[e+" "];if(!a){for(t||(t=C(e)),n=t.length;n--;)a=v(t[n]),a[B]?r.push(a):i.push(a);a=V(e,y(i,r)),a.selector=e}return a},A=t.select=function(e,t,n,r){var i,a,o,s,c,l="function"==typeof e&&e,u=!r&&C(e=l.selector||e);if(n=n||[],1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===t.nodeType&&N&&k.relative[a[1].type]){if(t=(k.find.ID(o.matches[0].replace(we,ke),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=he.needsContext.test(e)?0:a.length;i--&&(o=a[i],!k.relative[s=o.type]);)if((c=k.find[s])&&(r=c(o.matches[0].replace(we,ke),ye.test(a[0].type)&&d(t.parentNode)||t))){if(a.splice(i,1),e=r.length&&p(a),!e)return Q.apply(n,r),n;break}}return(l||M(e,u))(r,t,!N,n,ye.test(e)&&d(t.parentNode)||t),n},w.sortStable=B.split("").sort(W).join("")===B,w.detectDuplicates=!!T,I(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||a(ne,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var de=ie.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&de.test(e)?ie(e):e||[],!1).length}});var me,he=e.document,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,fe=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ge.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||me).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),ue.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return me.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof me.ready?me.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};fe.prototype=ie.fn,me=ie(he);var _e=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=de.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?ie.unique(a):a)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ve[e]||(i=ie.unique(i)),_e.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ye=/\S+/g,be={};ie.Callbacks=function(e){e="string"==typeof e?be[e]||a(e):ie.extend({},e);var t,n,r,i,o,s,c=[],l=!e.once&&[],d=function(a){for(n=e.memory&&a,r=!0,o=s||0,s=0,i=c.length,t=!0;c&&i>o;o++)if(c[o].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,c&&(l?l.length&&d(l.shift()):n?c=[]:u.disable())},u={add:function(){if(c){var r=c.length;!function a(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&u.has(n)||c.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),t?i=c.length:n&&(s=r,d(n))}return this},remove:function(){return c&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,c,r))>-1;)c.splice(r,1),t&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?ie.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],i=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||u.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!c||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,a){var o=ie.isFunction(e[t])&&e[t];i[a[1]](function(){var e=o&&o.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=Y.call(arguments),o=a.length,s=1!==o||e&&ie.isFunction(e.promise)?o:0,c=1===s?e:ie.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&ie.isFunction(a[i].promise)?a[i].promise().done(l(i,r,a)).fail(c.reject).progress(l(i,n,t)):--s;return s||c.resolveWith(r,a),c.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}o(),ie.ready()}}()}return we.promise(t)};var ke,$e="undefined";for(ke in ie(ne))break;ne.ownLast="0"!==ke,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==$e&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ce=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return u(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return u(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=ie.data(a),1===a.nodeType&&!ie._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),c(a,r,i[r])));ie._data(a,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):a?c(a,e,ie.data(a,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),a=ie._queueHooks(e,t),o=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=ie._data(a[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=["Top","Right","Bottom","Left"],xe=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ee=ie.access=function(e,t,n,r,i,a,o){var s=0,c=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,a,o)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(o=!0),l&&(o?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;c>s;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):a},Te=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Ie=/^(?:input|select|textarea)$/i,De=/^key/,Pe=/^(?:mouse|pointer|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Ue=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var a,o,s,c,l,d,u,p,m,h,g,f=ie._data(e);if(f){for(n.handler&&(c=n,n=c.handler,i=c.selector),n.guid||(n.guid=ie.guid++),(o=f.events)||(o=f.events={}),(d=f.handle)||(d=f.handle=function(e){return typeof ie===$e||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(ye)||[""],s=t.length;s--;)a=Ue.exec(t[s])||[],m=g=a[1],h=(a[2]||"").split(".").sort(),m&&(l=ie.event.special[m]||{},m=(i?l.delegateType:l.bindType)||m,l=ie.event.special[m]||{},u=ie.extend({type:m,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},c),(p=o[m])||(p=o[m]=[],p.delegateCount=0,l.setup&&l.setup.call(e,r,h,d)!==!1||(e.addEventListener?e.addEventListener(m,d,!1):e.attachEvent&&e.attachEvent("on"+m,d))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),ie.event.global[m]=!0);e=null}},remove:function(e,t,n,r,i){var a,o,s,c,l,d,u,p,m,h,g,f=ie.hasData(e)&&ie._data(e);if(f&&(d=f.events)){for(t=(t||"").match(ye)||[""],l=t.length;l--;)if(s=Ue.exec(t[l])||[],m=g=s[1],h=(s[2]||"").split(".").sort(),m){for(u=ie.event.special[m]||{},m=(r?u.delegateType:u.bindType)||m,p=d[m]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=a=p.length;a--;)o=p[a],!i&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,u.remove&&u.remove.call(e,o));c&&!p.length&&(u.teardown&&u.teardown.call(e,h,f.handle)!==!1||ie.removeEvent(e,m,f.handle),delete d[m])}else for(m in d)ie.event.remove(e,m+t[l],n,r,!0);ie.isEmptyObject(d)&&(delete f.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var a,o,s,c,l,d,u,p=[r||he],m=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!Ne.test(m+ie.event.triggered)&&(m.indexOf(".")>=0&&(h=m.split("."),m=h.shift(),h.sort()),o=m.indexOf(":")<0&&"on"+m,t=t[ie.expando]?t:new ie.Event(m,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[m]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){
if(!i&&!l.noBubble&&!ie.isWindow(r)){for(c=l.delegateType||m,Ne.test(c+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),d=s;d===(r.ownerDocument||he)&&p.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=p[u++])&&!t.isPropagationStopped();)t.type=u>1?c:l.bindType||m,a=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&ie.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=m,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),n)===!1)&&ie.acceptData(r)&&o&&r[m]&&!ie.isWindow(r)){d=r[o],d&&(r[o]=null),ie.event.triggered=m;try{r[m]()}catch(g){}ie.event.triggered=void 0,d&&(r[o]=d)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,a,o=[],s=Y.call(arguments),c=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(o=ie.event.handlers.call(this,e,c),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(r=i.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,a,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(i=[],a=0;s>a;a++)r=t[a],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(c)>=0:ie.find(n,this,null,[c]).length),i[n]&&i.push(r);i.length&&o.push({elem:c,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Pe.test(i)?this.mouseHooks:De.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new ie.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===$e&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:m):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Ie.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ie.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Ie.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=m;else if(!r)return this;return 1===i&&(o=r,r=function(e){return ie().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=m),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,Re=new RegExp("<(?:"+Oe+")[\\s/>]","i"),Be=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qe=/<([\w:]+)/,je=/<tbody/i,He=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,We=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,Ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ze=g(he),Xe=Ze.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,a,o,s,c=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Re.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Xe.innerHTML=e.outerHTML,Xe.removeChild(a=Xe.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=f(a),s=f(e),o=0;null!=(i=s[o]);++o)r[o]&&$(i,r[o]);if(t)if(n)for(s=s||f(e),r=r||f(a),o=0;null!=(i=s[o]);o++)k(i,r[o]);else k(e,a);return r=f(a,"script"),r.length>0&&w(r,!c&&f(e,"script")),r=s=i=null,a},buildFragment:function(e,t,n,r){for(var i,a,o,s,c,l,d,u=e.length,p=g(t),m=[],h=0;u>h;h++)if(a=e[h],a||0===a)if("object"===ie.type(a))ie.merge(m,a.nodeType?[a]:a);else if(He.test(a)){for(s=s||p.appendChild(t.createElement("div")),c=(qe.exec(a)||["",""])[1].toLowerCase(),d=Ye[c]||Ye._default,s.innerHTML=d[1]+a.replace(Fe,"<$1></$2>")+d[2],i=d[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Be.test(a)&&m.push(t.createTextNode(Be.exec(a)[0])),!ne.tbody)for(a="table"!==c||je.test(a)?"<table>"!==d[1]||je.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)ie.nodeName(l=a.childNodes[i],"tbody")&&!l.childNodes.length&&a.removeChild(l);for(ie.merge(m,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else m.push(t.createTextNode(a));for(s&&p.removeChild(s),ne.appendChecked||ie.grep(f(m,"input"),_),h=0;a=m[h++];)if((!r||-1===ie.inArray(a,r))&&(o=ie.contains(a.ownerDocument,a),s=f(p.appendChild(a),"script"),o&&w(s),n))for(i=0;a=s[i++];)We.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,r,i,a,o=0,s=ie.expando,c=ie.cache,l=ne.deleteExpando,d=ie.event.special;null!=(n=e[o]);o++)if((t||ie.acceptData(n))&&(i=n[s],a=i&&c[i])){if(a.events)for(r in a.events)d[r]?ie.event.remove(n,r):ie.removeEvent(n,r,a.handle);c[i]&&(delete c[i],l?delete n[s]:typeof n.removeAttribute!==$e?n.removeAttribute(s):n[s]=null,K.push(i))}}}),ie.fn.extend({text:function(e){return Ee(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(f(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(f(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Le,""):void 0;if(!("string"!=typeof e||ze.test(e)||!ne.htmlSerialize&&Re.test(e)||!ne.leadingWhitespace&&Be.test(e)||Ye[(qe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Fe,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(f(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Z.apply([],e);var n,r,i,a,o,s,c=0,l=this.length,d=this,u=l-1,p=e[0],m=ie.isFunction(p);if(m||l>1&&"string"==typeof p&&!ne.checkClone&&Ve.test(p))return this.each(function(n){var r=d.eq(n);m&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=ie.map(f(s,"script"),y),i=a.length;l>c;c++)r=s,c!==u&&(r=ie.clone(r,!0,!0),i&&ie.merge(a,f(r,"script"))),t.call(this[c],r,c);if(i)for(o=a[a.length-1].ownerDocument,ie.map(a,b),c=0;i>c;c++)r=a[c],We.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(o,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Ke,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],a=ie(e),o=a.length-1;o>=r;r++)n=r===o?this:this.clone(!0),ie(a[r])[t](n),X.apply(i,n.get());return this.pushStack(i)}});var Je,Qe={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==$e&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et,tt,nt=/^margin/,rt=new RegExp("^("+Me+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tt=function(e,t,n){var r,i,a,o,s=e.style;return n=n||et(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||ie.contains(e.ownerDocument,e)||(o=ie.style(e,t)),rt.test(o)&&nt.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0===o?o:o+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var r,i,a,o,s=e.style;return n=n||et(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),rt.test(o)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,a=i&&i.left,a&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=r,a&&(i.left=a)),void 0===o?o:o+""||"auto"}),!function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,c=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",c=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,a,o,s,c;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(r=i&&i.style)&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==c&&t(),c}}))}(),ie.swap=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i};var at=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ct=new RegExp("^("+Me+")(.*)$","i"),lt=new RegExp("^([+-])=("+Me+")","i"),dt={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=ie.camelCase(t),c=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=A(c,s)),o=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:c[t];if(a=typeof n,"string"===a&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{c[t]=n}catch(l){}}},css:function(e,t,n,r){var i,a,o,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=A(e.style,s)),o=ie.cssHooks[t]||ie.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=tt(e,t,r)),"normal"===a&&t in ut&&(a=ut[t]),""===n||n?(i=parseFloat(a),n===!0||ie.isNumeric(i)?i||0:a):a}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,dt,function(){return I(e,t,r)}):I(e,t,r):void 0},set:function(e,n,r){var i=r&&et(e);return E(e,n,r?T(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(a.replace(at,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=at.test(a)?a.replace(at,i):a+" "+i)}}),ie.cssHooks.marginRight=M(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Ae[r]+t]=a[r]||a[r-2]||a[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=E)}),ie.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var r,i,a={},o=0;if(ie.isArray(t)){for(r=et(e),i=t.length;i>o;o++)a[t[o]]=ie.css(e,t[o],!1,r);return a}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){xe(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(ie.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=D.prototype.init,ie.fx.step={};var mt,ht,gt=/^(?:toggle|show|hide)$/,ft=new RegExp("^(?:([+-])=|)("+Me+")([a-z%]*)$","i"),_t=/queueHooks$/,vt=[O],yt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=ft.exec(t),a=i&&i[3]||(ie.cssNumber[e]?"":"px"),o=(ie.cssNumber[e]||"px"!==a&&+r)&&ft.exec(ie.css(n.elem,e)),s=1,c=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,ie.style(n.elem,e,o+a);while(s!==(s=n.cur()/r)&&1!==s&&--c)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(R,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],yt[n]=yt[n]||[],yt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(xe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),a=ie.speed(t,n,r),o=function(){var t=R(this,ie.extend({},e),a);(i||ie._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=ie.timers,o=ie._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&_t.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=ie.timers,o=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,r,i)}}),ie.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(mt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),mt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var bt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(bt,""):null==n?"":n)):void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,c=0>i?s:a?i:0;s>c;c++)if(n=r[c],!(!n.selected&&c!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=ie.makeArray(t),o=i.length;o--;)if(r=i[o],ie.inArray(ie.valHooks.option.get(r),a)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,kt,$t=ie.expr.attrHandle,St=/^(?:checked|selected)$/i,Ct=ne.getSetAttribute,Mt=ne.input;ie.fn.extend({attr:function(e,t){return Ee(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===$e?ie.prop(e,t,n):(1===a&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?kt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(ye);if(a&&1===e.nodeType)for(;n=a[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?Mt&&Ct||!St.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Ct?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),kt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):Mt&&Ct||!St.test(n)?e.setAttribute(!Ct&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=$t[t]||ie.find.attr;$t[t]=Mt&&Ct||!St.test(t)?function(e,t,r){var i,a;return r||(a=$t[t],$t[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,$t[t]=a),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),Mt&&Ct||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Ct||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},$t.id=$t.name=$t.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var At=/^(?:input|select|textarea|button|object)$/i,xt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ee(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(a=1!==o||!ie.isXMLDoc(e),a&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Et=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,a,o,s=0,c=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ye)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):" ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");

o=ie.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,a,o,s=0,c=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ye)||[];c>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?ie.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),a=e.match(ye)||[];t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===$e||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Et," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Tt=ie.now(),It=/\?/,Dt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Dt,function(e,t,i,a){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!a-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var Pt,Nt,Ut=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Ft=/^\/\//,qt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,jt={},Ht={},zt="*/".concat("*");try{Nt=location.href}catch(Vt){Nt=he.createElement("a"),Nt.href="",Nt=Nt.href}Pt=qt.exec(Nt.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:Rt.test(Pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,ie.ajaxSettings),t):q(ie.ajaxSettings,e)},ajaxPrefilter:B(jt),ajaxTransport:B(Ht),ajax:function(e,t){function n(e,t,n,r){var i,d,_,v,b,k=t;2!==y&&(y=2,s&&clearTimeout(s),l=void 0,o=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(v=j(u,w,n)),v=H(u,v,w,i),i?(u.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(ie.lastModified[a]=b),b=w.getResponseHeader("etag"),b&&(ie.etag[a]=b)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=v.state,d=v.data,_=v.error,i=!_)):(_=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(t||k)+"",i?h.resolveWith(p,[d,k,w]):h.rejectWith(p,[w,k,_]),w.statusCode(f),f=void 0,c&&m.trigger(i?"ajaxSuccess":"ajaxError",[w,u,i?d:_]),g.fireWith(p,[w,k]),c&&(m.trigger("ajaxComplete",[w,u]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,a,o,s,c,l,d,u=ie.ajaxSetup({},t),p=u.context||u,m=u.context&&(p.nodeType||p.jquery)?ie(p):ie.event,h=ie.Deferred(),g=ie.Callbacks("once memory"),f=u.statusCode||{},_={},v={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!d)for(d={};t=Lt.exec(o);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=v[n]=v[n]||e,_[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)f[t]=[f[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((e||u.url||Nt)+"").replace(Ut,"").replace(Ft,Pt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=ie.trim(u.dataType||"*").toLowerCase().match(ye)||[""],null==u.crossDomain&&(r=qt.exec(u.url.toLowerCase()),u.crossDomain=!(!r||r[1]===Pt[1]&&r[2]===Pt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Pt[3]||("http:"===Pt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ie.param(u.data,u.traditional)),F(jt,u,t,w),2===y)return w;c=u.global,c&&0===ie.active++&&ie.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Bt.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(It.test(a)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=Ot.test(a)?a.replace(Ot,"$1_="+Tt++):a+(It.test(a)?"&":"?")+"_="+Tt++)),u.ifModified&&(ie.lastModified[a]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[a]),ie.etag[a]&&w.setRequestHeader("If-None-Match",ie.etag[a])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+zt+"; q=0.01":""):u.accepts["*"]);for(i in u.headers)w.setRequestHeader(i,u.headers[i]);if(u.beforeSend&&(u.beforeSend.call(p,w,u)===!1||2===y))return w.abort();b="abort";for(i in{success:1,error:1,complete:1})w[i](u[i]);if(l=F(Ht,u,t,w)){w.readyState=1,c&&m.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{y=1,l.send(_,n)}catch(k){if(!(2>y))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Wt=/%20/g,Gt=/\[\]$/,Kt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Zt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)z(n,e[n],t,i);return r.join("&").replace(Wt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Zt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Kt,"\r\n")}}):{name:t.name,value:n.replace(Kt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&V()||W()}:V;var Xt=0,Jt={},Qt=ie.ajaxSettings.xhr();e.ActiveXObject&&ie(e).on("unload",function(){for(var e in Jt)Jt[e](void 0,!0)}),ne.cors=!!Qt&&"withCredentials"in Qt,Qt=ne.ajax=!!Qt,Qt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,a=e.xhr(),o=++Xt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&a.setRequestHeader(i,n[i]+"");a.send(e.hasContent&&e.data||null),t=function(n,i){var s,c,l;if(t&&(i||4===a.readyState))if(delete Jt[o],t=void 0,a.onreadystatechange=ie.noop,i)4!==a.readyState&&a.abort();else{l={},s=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{c=a.statusText}catch(d){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,c,l,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Jt[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+Tt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,a,o,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(It.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||ie.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),o&&ie.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=ue.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,a,o=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&ie.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,a,o,s,c,l,d=ie.css(e,"position"),u=ie(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),a=ie.css(e,"top"),c=ie.css(e,"left"),l=("absolute"===d||"fixed"===d)&&ie.inArray("auto",[a,c])>-1,l?(r=u.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(c)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):u.css(p)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],a=i&&i.ownerDocument;return a?(t=a.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==$e&&(r=i.getBoundingClientRect()),n=G(a),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return Ee(this,function(e,r,i){var a=G(e);return void 0===i?a?t in a?a[t]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(n?ie(a).scrollLeft():i,n?i:ie(a).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=M(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),rt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return Ee(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,o):ie.style(t,n,r,o)},t,a?r:void 0,a,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var an=e.jQuery,on=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=on),t&&e.jQuery===ie&&(e.jQuery=an),ie},typeof t===$e&&(e.jQuery=e.$=ie),ie}),Config=window.Config||{},Config.App={id:24275,hash:"ae32228fb9491554a979fa5f928f46ba",version:"0.4.6",domains:["telegram-china.org"]},Config.Modes={test:location.search.indexOf("test=1")>0,debug:location.search.indexOf("debug=1")>0,http:location.search.indexOf("http=1")>0,ssl:location.search.indexOf("ssl=1")>0||"https:"==location.protocol&&-1==location.search.indexOf("ssl=0"),nacl:-1==location.search.indexOf("nacl=0"),webcrypto:-1==location.search.indexOf("webcrypto=0"),packed:"app:"==location.protocol||"chrome-extension:"==location.protocol,ios_standalone:window.navigator.standalone&&navigator.userAgent.match(/iOS|iPhone|iPad/),chrome_packed:window.chrome&&chrome.app&&chrome.app.window&&!0||!1},Config.Navigator={osX:-1!=(navigator.platform||"").toLowerCase().indexOf("mac")||-1!=(navigator.userAgent||"").toLowerCase().indexOf("mac"),retina:window.devicePixelRatio>1,ffos:-1!=navigator.userAgent.search(/mobi.+Gecko/i),touch:screen.width<=768,mobile:screen.width&&screen.width<480||-1!=navigator.userAgent.search(/iOS|iPhone OS|Android|BlackBerry|BB10|Series ?[64]0|J2ME|MIDP|opera mini|opera mobi|mobi.+Gecko|Windows Phone/i)},Config.I18n={locale:"zh-cn",supported:["zh-cn"],languages:{"zh-cn":""},aliases:{zh:"zh-cn"},messages:{},fallback_messages:{}},Config.ExtCredentials={gmaps:{api_key:"AIzaSyC32ij28dCa0YzEV_HqbWfIwTZQql-RNS0"}},Config.Schema=Config.Schema||{},Config.Schema.MTProto={constructors:[{id:"481674261",predicate:"vector",params:[],type:"Vector t"},{id:"85337187",predicate:"resPQ",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"pq",type:"bytes"},{name:"server_public_key_fingerprints",type:"Vector<long>"}],type:"ResPQ"},{id:"-2083955988",predicate:"p_q_inner_data",params:[{name:"pq",type:"bytes"},{name:"p",type:"bytes"},{name:"q",type:"bytes"},{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"new_nonce",type:"int256"}],type:"P_Q_inner_data"},{id:"2043348061",predicate:"server_DH_params_fail",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"new_nonce_hash",type:"int128"}],type:"Server_DH_Params"},{id:"-790100132",predicate:"server_DH_params_ok",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"encrypted_answer",type:"bytes"}],type:"Server_DH_Params"},{id:"-1249309254",predicate:"server_DH_inner_data",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"g",type:"int"},{name:"dh_prime",type:"bytes"},{name:"g_a",type:"bytes"},{name:"server_time",type:"int"}],type:"Server_DH_inner_data"},{id:"1715713620",predicate:"client_DH_inner_data",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"retry_id",type:"long"},{name:"g_b",type:"bytes"}],type:"Client_DH_Inner_Data"},{id:"1003222836",predicate:"dh_gen_ok",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"new_nonce_hash1",type:"int128"}],type:"Set_client_DH_params_answer"},{id:"1188831161",predicate:"dh_gen_retry",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"new_nonce_hash2",type:"int128"}],type:"Set_client_DH_params_answer"},{id:"-1499615742",predicate:"dh_gen_fail",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"new_nonce_hash3",type:"int128"}],type:"Set_client_DH_params_answer"},{id:"-212046591",predicate:"rpc_result",params:[{name:"req_msg_id",type:"long"},{name:"result",type:"Object"}],type:"RpcResult"},{id:"558156313",predicate:"rpc_error",params:[{name:"error_code",type:"int"},{name:"error_message",type:"string"}],type:"RpcError"},{id:"1579864942",predicate:"rpc_answer_unknown",params:[],type:"RpcDropAnswer"},{id:"-847714938",predicate:"rpc_answer_dropped_running",params:[],type:"RpcDropAnswer"},{id:"-1539647305",predicate:"rpc_answer_dropped",params:[{name:"msg_id",type:"long"},{name:"seq_no",type:"int"},{name:"bytes",type:"int"}],type:"RpcDropAnswer"},{id:"155834844",predicate:"future_salt",params:[{name:"valid_since",type:"int"},{name:"valid_until",type:"int"},{name:"salt",type:"long"}],type:"FutureSalt"},{id:"-1370486635",predicate:"future_salts",params:[{name:"req_msg_id",type:"long"},{name:"now",type:"int"},{name:"salts",type:"vector<future_salt>"}],type:"FutureSalts"},{id:"880243653",predicate:"pong",params:[{name:"msg_id",type:"long"},{name:"ping_id",type:"long"}],type:"Pong"},{id:"-501201412",predicate:"destroy_session_ok",params:[{name:"session_id",type:"long"}],type:"DestroySessionRes"},{id:"1658015945",predicate:"destroy_session_none",params:[{name:"session_id",type:"long"}],type:"DestroySessionRes"},{id:"-1631450872",predicate:"new_session_created",params:[{name:"first_msg_id",type:"long"},{name:"unique_id",type:"long"},{name:"server_salt",type:"long"}],type:"NewSession"},{id:"1945237724",predicate:"msg_container",params:[{name:"messages",type:"vector<%Message>"}],type:"MessageContainer"},{id:"1538843921",predicate:"message",params:[{name:"msg_id",type:"long"},{name:"seqno",type:"int"},{name:"bytes",type:"int"},{name:"body",type:"Object"}],type:"Message"},{id:"-530561358",predicate:"msg_copy",params:[{name:"orig_message",type:"Message"}],type:"MessageCopy"},{id:"812830625",predicate:"gzip_packed",params:[{name:"packed_data",type:"bytes"}],type:"Object"},{id:"1658238041",predicate:"msgs_ack",params:[{name:"msg_ids",type:"Vector<long>"}],type:"MsgsAck"},{id:"-1477445615",predicate:"bad_msg_notification",params:[{name:"bad_msg_id",type:"long"},{name:"bad_msg_seqno",type:"int"},{name:"error_code",type:"int"}],type:"BadMsgNotification"},{id:"-307542917",predicate:"bad_server_salt",params:[{name:"bad_msg_id",type:"long"},{name:"bad_msg_seqno",type:"int"},{name:"error_code",type:"int"},{name:"new_server_salt",type:"long"}],type:"BadMsgNotification"},{id:"2105940488",predicate:"msg_resend_req",params:[{name:"msg_ids",type:"Vector<long>"}],type:"MsgResendReq"},{id:"-630588590",predicate:"msgs_state_req",params:[{name:"msg_ids",type:"Vector<long>"}],type:"MsgsStateReq"},{id:"81704317",predicate:"msgs_state_info",params:[{name:"req_msg_id",type:"long"},{name:"info",type:"bytes"}],type:"MsgsStateInfo"},{id:"-1933520591",predicate:"msgs_all_info",params:[{name:"msg_ids",type:"Vector<long>"},{name:"info",type:"bytes"}],type:"MsgsAllInfo"},{id:"661470918",predicate:"msg_detailed_info",params:[{name:"msg_id",type:"long"},{name:"answer_msg_id",type:"long"},{name:"bytes",type:"int"},{name:"status",type:"int"}],type:"MsgDetailedInfo"},{id:"-2137147681",predicate:"msg_new_detailed_info",params:[{name:"answer_msg_id",type:"long"},{name:"bytes",type:"int"},{name:"status",type:"int"}],type:"MsgDetailedInfo"}],methods:[{id:"1615239032",method:"req_pq",params:[{name:"nonce",type:"int128"}],type:"ResPQ"},{id:"-686627650",method:"req_DH_params",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"p",type:"bytes"},{name:"q",type:"bytes"},{name:"public_key_fingerprint",type:"long"},{name:"encrypted_data",type:"bytes"}],type:"Server_DH_Params"},{id:"-184262881",method:"set_client_DH_params",params:[{name:"nonce",type:"int128"},{name:"server_nonce",type:"int128"},{name:"encrypted_data",type:"bytes"}],type:"Set_client_DH_params_answer"},{id:"1491380032",method:"rpc_drop_answer",params:[{name:"req_msg_id",type:"long"}],type:"RpcDropAnswer"},{id:"-1188971260",method:"get_future_salts",params:[{name:"num",type:"int"}],type:"FutureSalts"},{id:"2059302892",method:"ping",params:[{name:"ping_id",type:"long"}],type:"Pong"},{id:"-213746804",method:"ping_delay_disconnect",params:[{name:"ping_id",type:"long"},{name:"disconnect_delay",type:"int"}],type:"Pong"},{id:"-414113498",method:"destroy_session",params:[{name:"session_id",type:"long"}],type:"DestroySessionRes"},{id:"-1835453025",method:"http_wait",params:[{name:"max_delay",type:"int"},{name:"wait_after",type:"int"},{name:"max_wait",type:"int"}],type:"HttpWait"}]},Config.TLD=["abogado","ac","academy","accountants","active","actor","ad","adult","ae","aero","af","ag","agency","ai","airforce","al","allfinanz","alsace","am","amsterdam","an","android","ao","apartments","aq","aquarelle","ar","archi","army","arpa","as","asia","associates","at","attorney","au","auction","audio","autos","aw","ax","axa","az","ba","band","bank","bar","barclaycard","barclays","bargains","bayern","bb","bd","be","beer","berlin","best","bf","bg","bh","bi","bid","bike","bingo","bio","biz","bj","black","blackfriday","bloomberg","blue","bm","bmw","bn","bnpparibas","bo","boo","boutique","br","brussels","bs","bt","budapest","build","builders","business","buzz","bv","bw","by","bz","bzh","ca","cab","cal","camera","camp","cancerresearch","canon","capetown","capital","caravan","cards","care","career","careers","cartier","casa","cash","cat","catering","cc","cd","center","ceo","cern","cf","cg","ch","channel","chat","cheap","christmas","chrome","church","ci","citic","city","ck","cl","claims","cleaning","click","clinic","clothing","club","cm","cn","co","coach","codes","coffee","college","cologne","com","community","company","computer","condos","construction","consulting","contractors","cooking","cool","coop","country","cr","credit","creditcard","cricket","crs","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cz","dabur","dad","dance","dating","day","dclk","de","deals","degree","delivery","democrat","dental","dentist","desi","design","dev","diamonds","diet","digital","direct","directory","discount","dj","dk","dm","dnp","do","docs","domains","doosan","durban","dvag","dz","eat","ec","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","equipment","er","es","esq","estate","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","fail","farm","fashion","feedback","fi","finance","financial","firmdale","fish","fishing","fit","fitness","fj","fk","flights","florist","flowers","flsmidth","fly","fm","fo","foo","forsale","foundation","fr","frl","frogans","fund","furniture","futbol","ga","gal","gallery","garden","gb","gbiz","gd","ge","gent","gf","gg","ggee","gh","gi","gift","gifts","gives","gl","glass","gle","global","globo","gm","gmail","gmo","gmx","gn","goog","google","gop","gov","gp","gq","gr","graphics","gratis","green","gripe","gs","gt","gu","guide","guitars","guru","gw","gy","hamburg","hangout","haus","healthcare","help","here","hermes","hiphop","hiv","hk","hm","hn","holdings","holiday","homes","horse","host","hosting","house","how","hr","ht","hu","ibm","id","ie","ifm","il","im","immo","immobilien","in","industries","info","ing","ink","institute","insure","int","international","investments","io","iq","ir","irish","is","it","iwc","jcb","je","jetzt","jm","jo","jobs","joburg","jp","juegos","kaufen","kddi","ke","kg","kh","ki","kim","kitchen","kiwi","km","kn","koeln","kp","kr","krd","kred","kw","ky","kyoto","kz","la","lacaixa","land","lat","latrobe","lawyer","lb","lc","lds","lease","legal","lgbt","li","lidl","life","lighting","limited","limo","link","lk","loans","london","lotte","lotto","lr","ls","lt","ltda","lu","luxe","luxury","lv","ly","ma","madrid","maison","management","mango","market","marketing","marriott","mc","md","me","media","meet","melbourne","meme","memorial","menu","mg","mh","miami","mil","mini","mk","ml","mm","mn","mo","mobi","moda","moe","monash","money","mormon","mortgage","moscow","motorcycles","mov","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","nagoya","name","navy","nc","ne","net","network","neustar","new","nexus","nf","ng","ngo","nhk","ni","nico","ninja","nl","no","np","nr","nra","nrw","ntt","nu","nyc","nz","okinawa","om","one","ong","onl","ooo","org","organic","osaka","otsuka","ovh","pa","paris","partners","parts","party","pe","pf","pg","ph","pharmacy","photo","photography","photos","physio","pics","pictures","pink","pizza","pk","pl","place","plumbing","pm","pn","pohl","poker","porn","post","pr","praxi","press","pro","prod","productions","prof","properties","property","ps","pt","pub","pw","py","qa","qpon","quebec","re","realtor","recipes","red","rehab","reise","reisen","reit","ren","rentals","repair","report","republican","rest","restaurant","reviews","rich","rio","rip","ro","rocks","rodeo","rs","rsvp","ru","ruhr","rw","ryukyu","sa","saarland","sale","samsung","sarl","saxo","sb","sc","sca","scb","schmidt","schule","schwarz","science","scot","sd","se","services","sew","sexy","sg","sh","shiksha","shoes","shriram","si","singles","sj","sk","sky","sl","sm","sn","so","social","software","sohu","solar","solutions","soy","space","spiegel","sr","st","style","su","supplies","supply","support","surf","surgery","suzuki","sv","sx","sy","sydney","systems","sz","taipei","tatar","tattoo","tax","tc","td","technology","tel","temasek","tennis","tf","tg","th","tienda","tips","tires","tirol","tj","tk","tl","tm","tn","to","today","tokyo","tools","top","toshiba","town","toys","tp","tr","trade","training","travel","trust","tt","tui","tv","tw","tz","ua","ug","uk","university","uno","uol","us","uy","uz","va","vacations","vc","ve","vegas","ventures","versicherung","vet","vg","vi","viajes","video","villas","vision","vlaanderen","vn","vodka","vote","voting","voto","voyage","vu","wales","wang","watch","webcam","website","wed","wedding","wf","whoswho","wien","wiki","williamhill","wme","work","works","world","ws","wtc","wtf","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","","","","xxx","xyz","yachts","yandex","ye","yoga","yokohama","youtube","yt","za","zip","zm","zone","zuerich","zw"],Config.Schema.API={constructors:[{id:"-1132882121",predicate:"boolFalse",params:[],type:"Bool"},{id:"-1720552011",predicate:"boolTrue",params:[],type:"Bool"},{id:"481674261",predicate:"vector",params:[],type:"Vector t"},{id:"-994444869",predicate:"error",params:[{name:"code",type:"int"},{name:"text",type:"string"}],type:"Error"},{id:"1450380236",predicate:"null",params:[],type:"Null"},{id:"2134579434",predicate:"inputPeerEmpty",params:[],type:"InputPeer"},{id:"2107670217",predicate:"inputPeerSelf",params:[],type:"InputPeer"},{id:"270785512",predicate:"inputPeerContact",params:[{name:"user_id",type:"int"}],type:"InputPeer"},{id:"-1690012891",predicate:"inputPeerForeign",params:[{name:"user_id",type:"int"},{name:"access_hash",type:"long"}],type:"InputPeer"},{id:"396093539",predicate:"inputPeerChat",params:[{name:"chat_id",type:"int"}],type:"InputPeer"},{id:"-1182234929",predicate:"inputUserEmpty",params:[],type:"InputUser"},{id:"-138301121",predicate:"inputUserSelf",params:[],type:"InputUser"},{id:"-2031530139",predicate:"inputUserContact",params:[{name:"user_id",type:"int"}],type:"InputUser"},{id:"1700689151",predicate:"inputUserForeign",params:[{name:"user_id",type:"int"},{name:"access_hash",type:"long"}],type:"InputUser"},{id:"-208488460",predicate:"inputPhoneContact",params:[{name:"client_id",type:"long"},{name:"phone",type:"string"},{name:"first_name",type:"string"},{name:"last_name",type:"string"}],type:"InputContact"},{id:"-181407105",predicate:"inputFile",params:[{name:"id",type:"long"},{name:"parts",type:"int"},{name:"name",type:"string"},{name:"md5_checksum",type:"string"}],type:"InputFile"},{id:"-1771768449",predicate:"inputMediaEmpty",params:[],type:"InputMedia"},{id:"-139464256",predicate:"inputMediaUploadedPhoto",params:[{name:"file",type:"InputFile"},{name:"caption",type:"string"}],type:"InputMedia"},{id:"-373312269",predicate:"inputMediaPhoto",params:[{name:"id",type:"InputPhoto"},{name:"caption",type:"string"}],type:"InputMedia"},{id:"-104578748",predicate:"inputMediaGeoPoint",params:[{name:"geo_point",type:"InputGeoPoint"}],
type:"InputMedia"},{id:"-1494984313",predicate:"inputMediaContact",params:[{name:"phone_number",type:"string"},{name:"first_name",type:"string"},{name:"last_name",type:"string"}],type:"InputMedia"},{id:"-515910468",predicate:"inputMediaUploadedVideo",params:[{name:"file",type:"InputFile"},{name:"duration",type:"int"},{name:"w",type:"int"},{name:"h",type:"int"},{name:"caption",type:"string"}],type:"InputMedia"},{id:"-1761896484",predicate:"inputMediaUploadedThumbVideo",params:[{name:"file",type:"InputFile"},{name:"thumb",type:"InputFile"},{name:"duration",type:"int"},{name:"w",type:"int"},{name:"h",type:"int"},{name:"caption",type:"string"}],type:"InputMedia"},{id:"-1821749571",predicate:"inputMediaVideo",params:[{name:"id",type:"InputVideo"},{name:"caption",type:"string"}],type:"InputMedia"},{id:"480546647",predicate:"inputChatPhotoEmpty",params:[],type:"InputChatPhoto"},{id:"-1809496270",predicate:"inputChatUploadedPhoto",params:[{name:"file",type:"InputFile"},{name:"crop",type:"InputPhotoCrop"}],type:"InputChatPhoto"},{id:"-1293828344",predicate:"inputChatPhoto",params:[{name:"id",type:"InputPhoto"},{name:"crop",type:"InputPhotoCrop"}],type:"InputChatPhoto"},{id:"-457104426",predicate:"inputGeoPointEmpty",params:[],type:"InputGeoPoint"},{id:"-206066487",predicate:"inputGeoPoint",params:[{name:"lat",type:"double"},{name:"long",type:"double"}],type:"InputGeoPoint"},{id:"483901197",predicate:"inputPhotoEmpty",params:[],type:"InputPhoto"},{id:"-74070332",predicate:"inputPhoto",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputPhoto"},{id:"1426648181",predicate:"inputVideoEmpty",params:[],type:"InputVideo"},{id:"-296249774",predicate:"inputVideo",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputVideo"},{id:"342061462",predicate:"inputFileLocation",params:[{name:"volume_id",type:"long"},{name:"local_id",type:"int"},{name:"secret",type:"long"}],type:"InputFileLocation"},{id:"1023632620",predicate:"inputVideoFileLocation",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputFileLocation"},{id:"-1377390588",predicate:"inputPhotoCropAuto",params:[],type:"InputPhotoCrop"},{id:"-644787419",predicate:"inputPhotoCrop",params:[{name:"crop_left",type:"double"},{name:"crop_top",type:"double"},{name:"crop_width",type:"double"}],type:"InputPhotoCrop"},{id:"1996904104",predicate:"inputAppEvent",params:[{name:"time",type:"double"},{name:"type",type:"string"},{name:"peer",type:"long"},{name:"data",type:"string"}],type:"InputAppEvent"},{id:"-1649296275",predicate:"peerUser",params:[{name:"user_id",type:"int"}],type:"Peer"},{id:"-1160714821",predicate:"peerChat",params:[{name:"chat_id",type:"int"}],type:"Peer"},{id:"-1432995067",predicate:"storage.fileUnknown",params:[],type:"storage.FileType"},{id:"8322574",predicate:"storage.fileJpeg",params:[],type:"storage.FileType"},{id:"-891180321",predicate:"storage.fileGif",params:[],type:"storage.FileType"},{id:"172975040",predicate:"storage.filePng",params:[],type:"storage.FileType"},{id:"-1373745011",predicate:"storage.filePdf",params:[],type:"storage.FileType"},{id:"1384777335",predicate:"storage.fileMp3",params:[],type:"storage.FileType"},{id:"1258941372",predicate:"storage.fileMov",params:[],type:"storage.FileType"},{id:"1086091090",predicate:"storage.filePartial",params:[],type:"storage.FileType"},{id:"-1278304028",predicate:"storage.fileMp4",params:[],type:"storage.FileType"},{id:"276907596",predicate:"storage.fileWebp",params:[],type:"storage.FileType"},{id:"2086234950",predicate:"fileLocationUnavailable",params:[{name:"volume_id",type:"long"},{name:"local_id",type:"int"},{name:"secret",type:"long"}],type:"FileLocation"},{id:"1406570614",predicate:"fileLocation",params:[{name:"dc_id",type:"int"},{name:"volume_id",type:"long"},{name:"local_id",type:"int"},{name:"secret",type:"long"}],type:"FileLocation"},{id:"537022650",predicate:"userEmpty",params:[{name:"id",type:"int"}],type:"User"},{id:"476112392",predicate:"userSelf",params:[{name:"id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"},{name:"phone",type:"string"},{name:"photo",type:"UserProfilePhoto"},{name:"status",type:"UserStatus"}],type:"User"},{id:"-894214632",predicate:"userContact",params:[{name:"id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"},{name:"access_hash",type:"long"},{name:"phone",type:"string"},{name:"photo",type:"UserProfilePhoto"},{name:"status",type:"UserStatus"}],type:"User"},{id:"-640891665",predicate:"userRequest",params:[{name:"id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"},{name:"access_hash",type:"long"},{name:"phone",type:"string"},{name:"photo",type:"UserProfilePhoto"},{name:"status",type:"UserStatus"}],type:"User"},{id:"123533224",predicate:"userForeign",params:[{name:"id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"},{name:"access_hash",type:"long"},{name:"photo",type:"UserProfilePhoto"},{name:"status",type:"UserStatus"}],type:"User"},{id:"-704549510",predicate:"userDeleted",params:[{name:"id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"}],type:"User"},{id:"1326562017",predicate:"userProfilePhotoEmpty",params:[],type:"UserProfilePhoto"},{id:"-715532088",predicate:"userProfilePhoto",params:[{name:"photo_id",type:"long"},{name:"photo_small",type:"FileLocation"},{name:"photo_big",type:"FileLocation"}],type:"UserProfilePhoto"},{id:"164646985",predicate:"userStatusEmpty",params:[],type:"UserStatus"},{id:"-306628279",predicate:"userStatusOnline",params:[{name:"expires",type:"int"}],type:"UserStatus"},{id:"9203775",predicate:"userStatusOffline",params:[{name:"was_online",type:"int"}],type:"UserStatus"},{id:"-1683826688",predicate:"chatEmpty",params:[{name:"id",type:"int"}],type:"Chat"},{id:"1855757255",predicate:"chat",params:[{name:"id",type:"int"},{name:"title",type:"string"},{name:"photo",type:"ChatPhoto"},{name:"participants_count",type:"int"},{name:"date",type:"int"},{name:"left",type:"Bool"},{name:"version",type:"int"}],type:"Chat"},{id:"-83047359",predicate:"chatForbidden",params:[{name:"id",type:"int"},{name:"title",type:"string"},{name:"date",type:"int"}],type:"Chat"},{id:"-891418735",predicate:"chatFull",params:[{name:"id",type:"int"},{name:"participants",type:"ChatParticipants"},{name:"chat_photo",type:"Photo"},{name:"notify_settings",type:"PeerNotifySettings"},{name:"exported_invite",type:"ExportedChatInvite"}],type:"ChatFull"},{id:"-925415106",predicate:"chatParticipant",params:[{name:"user_id",type:"int"},{name:"inviter_id",type:"int"},{name:"date",type:"int"}],type:"ChatParticipant"},{id:"265468810",predicate:"chatParticipantsForbidden",params:[{name:"chat_id",type:"int"}],type:"ChatParticipants"},{id:"2017571861",predicate:"chatParticipants",params:[{name:"chat_id",type:"int"},{name:"admin_id",type:"int"},{name:"participants",type:"Vector<ChatParticipant>"},{name:"version",type:"int"}],type:"ChatParticipants"},{id:"935395612",predicate:"chatPhotoEmpty",params:[],type:"ChatPhoto"},{id:"1632839530",predicate:"chatPhoto",params:[{name:"photo_small",type:"FileLocation"},{name:"photo_big",type:"FileLocation"}],type:"ChatPhoto"},{id:"-2082087340",predicate:"messageEmpty",params:[{name:"id",type:"int"}],type:"Message"},{id:"-1481959023",predicate:"message",params:[{name:"flags",type:"#"},{name:"id",type:"int"},{name:"from_id",type:"int"},{name:"to_id",type:"Peer"},{name:"fwd_from_id",type:"flags.2?int"},{name:"fwd_date",type:"flags.2?int"},{name:"reply_to_msg_id",type:"flags.3?int"},{name:"date",type:"int"},{name:"message",type:"string"},{name:"media",type:"MessageMedia"}],type:"Message"},{id:"495384334",predicate:"messageService",params:[{name:"flags",type:"int"},{name:"id",type:"int"},{name:"from_id",type:"int"},{name:"to_id",type:"Peer"},{name:"date",type:"int"},{name:"action",type:"MessageAction"}],type:"Message"},{id:"1038967584",predicate:"messageMediaEmpty",params:[],type:"MessageMedia"},{id:"1032643901",predicate:"messageMediaPhoto",params:[{name:"photo",type:"Photo"},{name:"caption",type:"string"}],type:"MessageMedia"},{id:"1540298357",predicate:"messageMediaVideo",params:[{name:"video",type:"Video"},{name:"caption",type:"string"}],type:"MessageMedia"},{id:"1457575028",predicate:"messageMediaGeo",params:[{name:"geo",type:"GeoPoint"}],type:"MessageMedia"},{id:"1585262393",predicate:"messageMediaContact",params:[{name:"phone_number",type:"string"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"user_id",type:"int"}],type:"MessageMedia"},{id:"-1618676578",predicate:"messageMediaUnsupported",params:[],type:"MessageMedia"},{id:"-1230047312",predicate:"messageActionEmpty",params:[],type:"MessageAction"},{id:"-1503425638",predicate:"messageActionChatCreate",params:[{name:"title",type:"string"},{name:"users",type:"Vector<int>"}],type:"MessageAction"},{id:"-1247687078",predicate:"messageActionChatEditTitle",params:[{name:"title",type:"string"}],type:"MessageAction"},{id:"2144015272",predicate:"messageActionChatEditPhoto",params:[{name:"photo",type:"Photo"}],type:"MessageAction"},{id:"-1780220945",predicate:"messageActionChatDeletePhoto",params:[],type:"MessageAction"},{id:"1581055051",predicate:"messageActionChatAddUser",params:[{name:"user_id",type:"int"}],type:"MessageAction"},{id:"-1297179892",predicate:"messageActionChatDeleteUser",params:[{name:"user_id",type:"int"}],type:"MessageAction"},{id:"-1042448310",predicate:"dialog",params:[{name:"peer",type:"Peer"},{name:"top_message",type:"int"},{name:"read_inbox_max_id",type:"int"},{name:"unread_count",type:"int"},{name:"notify_settings",type:"PeerNotifySettings"}],type:"Dialog"},{id:"590459437",predicate:"photoEmpty",params:[{name:"id",type:"long"}],type:"Photo"},{id:"-1014792074",predicate:"photo",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"user_id",type:"int"},{name:"date",type:"int"},{name:"geo",type:"GeoPoint"},{name:"sizes",type:"Vector<PhotoSize>"}],type:"Photo"},{id:"236446268",predicate:"photoSizeEmpty",params:[{name:"type",type:"string"}],type:"PhotoSize"},{id:"2009052699",predicate:"photoSize",params:[{name:"type",type:"string"},{name:"location",type:"FileLocation"},{name:"w",type:"int"},{name:"h",type:"int"},{name:"size",type:"int"}],type:"PhotoSize"},{id:"-374917894",predicate:"photoCachedSize",params:[{name:"type",type:"string"},{name:"location",type:"FileLocation"},{name:"w",type:"int"},{name:"h",type:"int"},{name:"bytes",type:"bytes"}],type:"PhotoSize"},{id:"-1056548696",predicate:"videoEmpty",params:[{name:"id",type:"long"}],type:"Video"},{id:"-291550643",predicate:"video",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"user_id",type:"int"},{name:"date",type:"int"},{name:"duration",type:"int"},{name:"size",type:"int"},{name:"thumb",type:"PhotoSize"},{name:"dc_id",type:"int"},{name:"w",type:"int"},{name:"h",type:"int"}],type:"Video"},{id:"286776671",predicate:"geoPointEmpty",params:[],type:"GeoPoint"},{id:"541710092",predicate:"geoPoint",params:[{name:"long",type:"double"},{name:"lat",type:"double"}],type:"GeoPoint"},{id:"-2128698738",predicate:"auth.checkedPhone",params:[{name:"phone_registered",type:"Bool"}],type:"auth.CheckedPhone"},{id:"-269659687",predicate:"auth.sentCode",params:[{name:"phone_registered",type:"Bool"},{name:"phone_code_hash",type:"string"},{name:"send_call_timeout",type:"int"},{name:"is_password",type:"Bool"}],type:"auth.SentCode"},{id:"-155815004",predicate:"auth.authorization",params:[{name:"expires",type:"int"},{name:"user",type:"User"}],type:"auth.Authorization"},{id:"-543777747",predicate:"auth.exportedAuthorization",params:[{name:"id",type:"int"},{name:"bytes",type:"bytes"}],type:"auth.ExportedAuthorization"},{id:"-1195615476",predicate:"inputNotifyPeer",params:[{name:"peer",type:"InputPeer"}],type:"InputNotifyPeer"},{id:"423314455",predicate:"inputNotifyUsers",params:[],type:"InputNotifyPeer"},{id:"1251338318",predicate:"inputNotifyChats",params:[],type:"InputNotifyPeer"},{id:"-1540769658",predicate:"inputNotifyAll",params:[],type:"InputNotifyPeer"},{id:"-265263912",predicate:"inputPeerNotifyEventsEmpty",params:[],type:"InputPeerNotifyEvents"},{id:"-395694988",predicate:"inputPeerNotifyEventsAll",params:[],type:"InputPeerNotifyEvents"},{id:"1185074840",predicate:"inputPeerNotifySettings",params:[{name:"mute_until",type:"int"},{name:"sound",type:"string"},{name:"show_previews",type:"Bool"},{name:"events_mask",type:"int"}],type:"InputPeerNotifySettings"},{id:"-1378534221",predicate:"peerNotifyEventsEmpty",params:[],type:"PeerNotifyEvents"},{id:"1830677896",predicate:"peerNotifyEventsAll",params:[],type:"PeerNotifyEvents"},{id:"1889961234",predicate:"peerNotifySettingsEmpty",params:[],type:"PeerNotifySettings"},{id:"-1923214866",predicate:"peerNotifySettings",params:[{name:"mute_until",type:"int"},{name:"sound",type:"string"},{name:"show_previews",type:"Bool"},{name:"events_mask",type:"int"}],type:"PeerNotifySettings"},{id:"-860866985",predicate:"wallPaper",params:[{name:"id",type:"int"},{name:"title",type:"string"},{name:"sizes",type:"Vector<PhotoSize>"},{name:"color",type:"int"}],type:"WallPaper"},{id:"1997575642",predicate:"userFull",params:[{name:"user",type:"User"},{name:"link",type:"contacts.Link"},{name:"profile_photo",type:"Photo"},{name:"notify_settings",type:"PeerNotifySettings"},{name:"blocked",type:"Bool"},{name:"real_first_name",type:"string"},{name:"real_last_name",type:"string"}],type:"UserFull"},{id:"-116274796",predicate:"contact",params:[{name:"user_id",type:"int"},{name:"mutual",type:"Bool"}],type:"Contact"},{id:"-805141448",predicate:"importedContact",params:[{name:"user_id",type:"int"},{name:"client_id",type:"long"}],type:"ImportedContact"},{id:"1444661369",predicate:"contactBlocked",params:[{name:"user_id",type:"int"},{name:"date",type:"int"}],type:"ContactBlocked"},{id:"1038193057",predicate:"contactSuggested",params:[{name:"user_id",type:"int"},{name:"mutual_contacts",type:"int"}],type:"ContactSuggested"},{id:"-748155807",predicate:"contactStatus",params:[{name:"user_id",type:"int"},{name:"status",type:"UserStatus"}],type:"ContactStatus"},{id:"909233996",predicate:"chatLocated",params:[{name:"chat_id",type:"int"},{name:"distance",type:"int"}],type:"ChatLocated"},{id:"986597452",predicate:"contacts.link",params:[{name:"my_link",type:"ContactLink"},{name:"foreign_link",type:"ContactLink"},{name:"user",type:"User"}],type:"contacts.Link"},{id:"-1219778094",predicate:"contacts.contactsNotModified",params:[],type:"contacts.Contacts"},{id:"1871416498",predicate:"contacts.contacts",params:[{name:"contacts",type:"Vector<Contact>"},{name:"users",type:"Vector<User>"}],type:"contacts.Contacts"},{id:"-1387117803",predicate:"contacts.importedContacts",params:[{name:"imported",type:"Vector<ImportedContact>"},{name:"retry_contacts",type:"Vector<long>"},{name:"users",type:"Vector<User>"}],type:"contacts.ImportedContacts"},{id:"471043349",predicate:"contacts.blocked",params:[{name:"blocked",type:"Vector<ContactBlocked>"},{name:"users",type:"Vector<User>"}],type:"contacts.Blocked"},{id:"-1878523231",predicate:"contacts.blockedSlice",params:[{name:"count",type:"int"},{name:"blocked",type:"Vector<ContactBlocked>"},{name:"users",type:"Vector<User>"}],type:"contacts.Blocked"},{id:"1447681221",predicate:"contacts.suggested",params:[{name:"results",type:"Vector<ContactSuggested>"},{name:"users",type:"Vector<User>"}],type:"contacts.Suggested"},{id:"364538944",predicate:"messages.dialogs",params:[{name:"dialogs",type:"Vector<Dialog>"},{name:"messages",type:"Vector<Message>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"messages.Dialogs"},{id:"1910543603",predicate:"messages.dialogsSlice",params:[{name:"count",type:"int"},{name:"dialogs",type:"Vector<Dialog>"},{name:"messages",type:"Vector<Message>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"messages.Dialogs"},{id:"-1938715001",predicate:"messages.messages",params:[{name:"messages",type:"Vector<Message>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"messages.Messages"},{id:"189033187",predicate:"messages.messagesSlice",params:[{name:"count",type:"int"},{name:"messages",type:"Vector<Message>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"messages.Messages"},{id:"1062078024",predicate:"messages.messageEmpty",params:[],type:"messages.Message"},{id:"1279084531",predicate:"messages.sentMessage",params:[{name:"id",type:"int"},{name:"date",type:"int"},{name:"media",type:"MessageMedia"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"messages.SentMessage"},{id:"1694474197",predicate:"messages.chats",params:[{name:"chats",type:"Vector<Chat>"}],type:"messages.Chats"},{id:"-438840932",predicate:"messages.chatFull",params:[{name:"full_chat",type:"ChatFull"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"messages.ChatFull"},{id:"-1269012015",predicate:"messages.affectedHistory",params:[{name:"pts",type:"int"},{name:"pts_count",type:"int"},{name:"offset",type:"int"}],type:"messages.AffectedHistory"},{id:"1474492012",predicate:"inputMessagesFilterEmpty",params:[],type:"MessagesFilter"},{id:"-1777752804",predicate:"inputMessagesFilterPhotos",params:[],type:"MessagesFilter"},{id:"-1614803355",predicate:"inputMessagesFilterVideo",params:[],type:"MessagesFilter"},{id:"1458172132",predicate:"inputMessagesFilterPhotoVideo",params:[],type:"MessagesFilter"},{id:"-648121413",predicate:"inputMessagesFilterPhotoVideoDocuments",params:[],type:"MessagesFilter"},{id:"-1629621880",predicate:"inputMessagesFilterDocument",params:[],type:"MessagesFilter"},{id:"-808946398",predicate:"inputMessagesFilterAudio",params:[],type:"MessagesFilter"},{id:"522914557",predicate:"updateNewMessage",params:[{name:"message",type:"Message"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"Update"},{id:"1318109142",predicate:"updateMessageID",params:[{name:"id",type:"int"},{name:"random_id",type:"long"}],type:"Update"},{id:"-1576161051",predicate:"updateDeleteMessages",params:[{name:"messages",type:"Vector<int>"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"Update"},{id:"1548249383",predicate:"updateUserTyping",params:[{name:"user_id",type:"int"},{name:"action",type:"SendMessageAction"}],type:"Update"},{id:"-1704596961",predicate:"updateChatUserTyping",params:[{name:"chat_id",type:"int"},{name:"user_id",type:"int"},{name:"action",type:"SendMessageAction"}],type:"Update"},{id:"125178264",predicate:"updateChatParticipants",params:[{name:"participants",type:"ChatParticipants"}],type:"Update"},{id:"469489699",predicate:"updateUserStatus",params:[{name:"user_id",type:"int"},{name:"status",type:"UserStatus"}],type:"Update"},{id:"-1489818765",predicate:"updateUserName",params:[{name:"user_id",type:"int"},{name:"first_name",type:"string"},{name:"last_name",type:"string"},{name:"username",type:"string"}],type:"Update"},{id:"-1791935732",predicate:"updateUserPhoto",params:[{name:"user_id",type:"int"},{name:"date",type:"int"},{name:"photo",type:"UserProfilePhoto"},{name:"previous",type:"Bool"}],type:"Update"},{id:"628472761",predicate:"updateContactRegistered",params:[{name:"user_id",type:"int"},{name:"date",type:"int"}],type:"Update"},{id:"-1657903163",predicate:"updateContactLink",params:[{name:"user_id",type:"int"},{name:"my_link",type:"ContactLink"},{name:"foreign_link",type:"ContactLink"}],type:"Update"},{id:"-1895411046",predicate:"updateNewAuthorization",params:[{name:"auth_key_id",type:"long"},{name:"date",type:"int"},{name:"device",type:"string"},{name:"location",type:"string"}],type:"Update"},{id:"-1519637954",predicate:"updates.state",params:[{name:"pts",type:"int"},{name:"qts",type:"int"},{name:"date",type:"int"},{name:"seq",type:"int"},{name:"unread_count",type:"int"}],type:"updates.State"},{id:"1567990072",predicate:"updates.differenceEmpty",params:[{name:"date",type:"int"},{name:"seq",type:"int"}],type:"updates.Difference"},{id:"16030880",predicate:"updates.difference",params:[{name:"new_messages",type:"Vector<Message>"},{name:"new_encrypted_messages",type:"Vector<EncryptedMessage>"},{name:"other_updates",type:"Vector<Update>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"},{name:"state",type:"updates.State"}],type:"updates.Difference"},{id:"-1459938943",predicate:"updates.differenceSlice",params:[{name:"new_messages",type:"Vector<Message>"},{name:"new_encrypted_messages",type:"Vector<EncryptedMessage>"},{name:"other_updates",type:"Vector<Update>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"},{name:"intermediate_state",type:"updates.State"}],type:"updates.Difference"},{id:"-484987010",predicate:"updatesTooLong",params:[],type:"Updates"},{id:"-312729305",predicate:"updateShortMessage",params:[{name:"flags",type:"#"},{name:"id",type:"int"},{name:"user_id",type:"int"},{name:"message",type:"string"},{name:"pts",type:"int"},{name:"pts_count",type:"int"},{name:"date",type:"int"},{name:"fwd_from_id",type:"flags.2?int"},{name:"fwd_date",type:"flags.2?int"},{name:"reply_to_msg_id",type:"flags.3?int"}],type:"Updates"},{id:"1378061116",predicate:"updateShortChatMessage",params:[{name:"flags",type:"#"},{name:"id",type:"int"},{name:"from_id",type:"int"},{name:"chat_id",type:"int"},{name:"message",type:"string"},{name:"pts",type:"int"},{name:"pts_count",type:"int"},{name:"date",type:"int"},{name:"fwd_from_id",type:"flags.2?int"},{name:"fwd_date",type:"flags.2?int"},{name:"reply_to_msg_id",type:"flags.3?int"}],type:"Updates"},{id:"2027216577",predicate:"updateShort",params:[{name:"update",type:"Update"},{name:"date",type:"int"}],type:"Updates"},{id:"1918567619",predicate:"updatesCombined",params:[{name:"updates",type:"Vector<Update>"},{name:"users",type:"Vector<User>"},{name:"chats",type:"Vector<Chat>"},{name:"date",type:"int"},{name:"seq_start",type:"int"},{name:"seq",type:"int"}],type:"Updates"},{id:"1957577280",predicate:"updates",params:[{name:"updates",type:"Vector<Update>"},{name:"users",type:"Vector<User>"},{name:"chats",type:"Vector<Chat>"},{name:"date",type:"int"},{name:"seq",type:"int"}],type:"Updates"},{id:"-1916114267",predicate:"photos.photos",params:[{name:"photos",type:"Vector<Photo>"},{name:"users",type:"Vector<User>"}],type:"photos.Photos"},{id:"352657236",predicate:"photos.photosSlice",params:[{name:"count",type:"int"},{name:"photos",type:"Vector<Photo>"},{name:"users",type:"Vector<User>"}],type:"photos.Photos"},{id:"539045032",predicate:"photos.photo",params:[{name:"photo",type:"Photo"},{name:"users",type:"Vector<User>"}],type:"photos.Photo"},{id:"157948117",predicate:"upload.file",params:[{name:"type",type:"storage.FileType"},{name:"mtime",type:"int"},{name:"bytes",type:"bytes"}],type:"upload.File"},{id:"784507964",predicate:"dcOption",params:[{name:"id",type:"int"},{name:"hostname",type:"string"},{name:"ip_address",type:"string"},{name:"port",type:"int"}],type:"DcOption"},{id:"1311946900",predicate:"config",params:[{name:"date",type:"int"},{name:"expires",type:"int"},{name:"test_mode",type:"Bool"},{name:"this_dc",type:"int"},{name:"dc_options",type:"Vector<DcOption>"},{name:"chat_size_max",type:"int"},{name:"broadcast_size_max",type:"int"},{name:"forwarded_count_max",type:"int"},{name:"online_update_period_ms",type:"int"},{name:"offline_blur_timeout_ms",type:"int"},{name:"offline_idle_timeout_ms",type:"int"},{name:"online_cloud_timeout_ms",type:"int"},{name:"notify_cloud_delay_ms",type:"int"},{name:"notify_default_delay_ms",type:"int"},{name:"chat_big_size",type:"int"},{name:"push_chat_period_ms",type:"int"},{name:"push_chat_limit",type:"int"},{name:"disabled_features",type:"Vector<DisabledFeature>"}],type:"Config"},{id:"-1910892683",predicate:"nearestDc",params:[{name:"country",type:"string"},{name:"this_dc",type:"int"},{name:"nearest_dc",type:"int"}],type:"NearestDc"},{id:"-1987579119",predicate:"help.appUpdate",params:[{name:"id",type:"int"},{name:"critical",type:"Bool"},{name:"url",type:"string"},{name:"text",type:"string"}],type:"help.AppUpdate"},{id:"-1000708810",predicate:"help.noAppUpdate",params:[],type:"help.AppUpdate"},{id:"415997816",predicate:"help.inviteText",params:[{name:"message",type:"string"}],type:"help.InviteText"},{id:"899786339",predicate:"messages.sentMessageLink",params:[{name:"id",type:"int"},{name:"date",type:"int"},{name:"media",type:"MessageMedia"},{name:"pts",type:"int"},{name:"pts_count",type:"int"},{name:"links",type:"Vector<contacts.Link>"},{name:"seq",type:"int"}],type:"messages.SentMessage"},{id:"1960072954",predicate:"inputGeoChat",params:[{name:"chat_id",type:"int"},{name:"access_hash",type:"long"}],type:"InputGeoChat"},{id:"1301143240",predicate:"inputNotifyGeoChatPeer",params:[{name:"peer",type:"InputGeoChat"}],type:"InputNotifyPeer"},{id:"1978329690",predicate:"geoChat",params:[{name:"id",type:"int"},{name:"access_hash",type:"long"},{name:"title",type:"string"},{name:"address",type:"string"},{name:"venue",type:"string"},{name:"geo",type:"GeoPoint"},{name:"photo",type:"ChatPhoto"},{name:"participants_count",type:"int"},{name:"date",type:"int"},{name:"checked_in",type:"Bool"},{name:"version",type:"int"}],type:"Chat"},{id:"1613830811",predicate:"geoChatMessageEmpty",params:[{name:"chat_id",type:"int"},{name:"id",type:"int"}],type:"GeoChatMessage"},{id:"1158019297",predicate:"geoChatMessage",params:[{name:"chat_id",type:"int"},{name:"id",type:"int"},{name:"from_id",type:"int"},{name:"date",type:"int"},{name:"message",type:"string"},{name:"media",type:"MessageMedia"}],type:"GeoChatMessage"},{id:"-749755826",predicate:"geoChatMessageService",params:[{name:"chat_id",type:"int"},{name:"id",type:"int"},{name:"from_id",type:"int"},{name:"date",type:"int"},{name:"action",type:"MessageAction"}],type:"GeoChatMessage"},{id:"397498251",predicate:"geochats.statedMessage",params:[{name:"message",type:"GeoChatMessage"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"},{name:"seq",type:"int"}],type:"geochats.StatedMessage"},{id:"1224651367",predicate:"geochats.located",params:[{name:"results",type:"Vector<ChatLocated>"},{name:"messages",type:"Vector<GeoChatMessage>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"geochats.Located"},{id:"-783127119",predicate:"geochats.messages",params:[{name:"messages",type:"Vector<GeoChatMessage>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"geochats.Messages"},{id:"-1135057944",predicate:"geochats.messagesSlice",params:[{name:"count",type:"int"},{name:"messages",type:"Vector<GeoChatMessage>"},{name:"chats",type:"Vector<Chat>"},{name:"users",type:"Vector<User>"}],type:"geochats.Messages"},{id:"1862504124",predicate:"messageActionGeoChatCreate",params:[{name:"title",type:"string"},{name:"address",type:"string"}],type:"MessageAction"},{id:"209540062",predicate:"messageActionGeoChatCheckin",params:[],type:"MessageAction"},{id:"1516823543",predicate:"updateNewGeoChatMessage",params:[{name:"message",type:"GeoChatMessage"}],type:"Update"},{id:"1662091044",predicate:"wallPaperSolid",params:[{name:"id",type:"int"},{name:"title",type:"string"},{name:"bg_color",type:"int"},{name:"color",type:"int"}],type:"WallPaper"},{id:"314359194",predicate:"updateNewEncryptedMessage",params:[{name:"message",type:"EncryptedMessage"},{name:"qts",type:"int"}],type:"Update"},{id:"386986326",predicate:"updateEncryptedChatTyping",params:[{name:"chat_id",type:"int"}],type:"Update"},{id:"-1264392051",predicate:"updateEncryption",params:[{name:"chat",type:"EncryptedChat"},{name:"date",type:"int"}],type:"Update"},{id:"956179895",predicate:"updateEncryptedMessagesRead",params:[{name:"chat_id",type:"int"},{name:"max_date",type:"int"},{name:"date",type:"int"}],type:"Update"},{id:"-1417756512",predicate:"encryptedChatEmpty",params:[{name:"id",type:"int"}],type:"EncryptedChat"},{id:"1006044124",predicate:"encryptedChatWaiting",params:[{name:"id",type:"int"},{name:"access_hash",type:"long"},{name:"date",type:"int"},{name:"admin_id",type:"int"},{name:"participant_id",type:"int"}],type:"EncryptedChat"},{id:"-931638658",predicate:"encryptedChatRequested",params:[{name:"id",type:"int"},{name:"access_hash",type:"long"},{name:"date",type:"int"},{name:"admin_id",type:"int"},{name:"participant_id",type:"int"},{name:"g_a",type:"bytes"}],type:"EncryptedChat"},{id:"-94974410",predicate:"encryptedChat",params:[{name:"id",type:"int"},{name:"access_hash",type:"long"},{name:"date",type:"int"},{name:"admin_id",type:"int"},{name:"participant_id",type:"int"},{name:"g_a_or_b",type:"bytes"},{name:"key_fingerprint",type:"long"}],type:"EncryptedChat"},{id:"332848423",predicate:"encryptedChatDiscarded",params:[{name:"id",type:"int"}],type:"EncryptedChat"},{id:"-247351839",predicate:"inputEncryptedChat",params:[{name:"chat_id",type:"int"},{name:"access_hash",type:"long"}],type:"InputEncryptedChat"},{id:"-1038136962",predicate:"encryptedFileEmpty",params:[],type:"EncryptedFile"},{id:"1248893260",predicate:"encryptedFile",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"size",type:"int"},{name:"dc_id",type:"int"},{name:"key_fingerprint",type:"int"}],type:"EncryptedFile"},{id:"406307684",predicate:"inputEncryptedFileEmpty",params:[],type:"InputEncryptedFile"},{id:"1690108678",predicate:"inputEncryptedFileUploaded",params:[{name:"id",type:"long"},{name:"parts",type:"int"},{name:"md5_checksum",type:"string"},{name:"key_fingerprint",type:"int"}],type:"InputEncryptedFile"},{id:"1511503333",predicate:"inputEncryptedFile",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputEncryptedFile"},{id:"-182231723",predicate:"inputEncryptedFileLocation",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputFileLocation"},{id:"-317144808",predicate:"encryptedMessage",params:[{name:"random_id",type:"long"},{name:"chat_id",type:"int"},{name:"date",type:"int"},{name:"bytes",type:"bytes"},{name:"file",type:"EncryptedFile"}],type:"EncryptedMessage"},{id:"594758406",predicate:"encryptedMessageService",params:[{name:"random_id",type:"long"},{name:"chat_id",type:"int"},{name:"date",type:"int"},{name:"bytes",type:"bytes"}],type:"EncryptedMessage"},{id:"-1058912715",predicate:"messages.dhConfigNotModified",params:[{name:"random",type:"bytes"}],type:"messages.DhConfig"},{id:"740433629",predicate:"messages.dhConfig",params:[{name:"g",type:"int"},{name:"p",type:"bytes"},{name:"version",type:"int"},{name:"random",type:"bytes"}],type:"messages.DhConfig"},{id:"1443858741",predicate:"messages.sentEncryptedMessage",params:[{name:"date",type:"int"}],type:"messages.SentEncryptedMessage"},{id:"-1802240206",predicate:"messages.sentEncryptedFile",params:[{name:"date",type:"int"},{name:"file",type:"EncryptedFile"}],type:"messages.SentEncryptedMessage"},{id:"-95482955",predicate:"inputFileBig",params:[{name:"id",type:"long"},{name:"parts",type:"int"},{name:"name",type:"string"}],type:"InputFile"},{id:"767652808",predicate:"inputEncryptedFileBigUploaded",params:[{name:"id",type:"long"},{name:"parts",type:"int"},{name:"key_fingerprint",type:"int"}],type:"InputEncryptedFile"},{id:"974056226",predicate:"updateChatParticipantAdd",params:[{name:"chat_id",type:"int"},{name:"user_id",type:"int"},{name:"inviter_id",type:"int"},{name:"version",type:"int"}],type:"Update"},{id:"1851755554",predicate:"updateChatParticipantDelete",params:[{name:"chat_id",type:"int"},{name:"user_id",type:"int"},{name:"version",type:"int"}],type:"Update"},{id:"-1906403213",predicate:"updateDcOptions",params:[{name:"dc_options",type:"Vector<DcOption>"}],type:"Update"},{id:"1313442987",predicate:"inputMediaUploadedAudio",params:[{name:"file",type:"InputFile"},{name:"duration",type:"int"},{name:"mime_type",type:"string"}],type:"InputMedia"},{id:"-1986820223",predicate:"inputMediaAudio",
params:[{name:"id",type:"InputAudio"}],type:"InputMedia"},{id:"-1610888",predicate:"inputMediaUploadedDocument",params:[{name:"file",type:"InputFile"},{name:"mime_type",type:"string"},{name:"attributes",type:"Vector<DocumentAttribute>"}],type:"InputMedia"},{id:"1095242886",predicate:"inputMediaUploadedThumbDocument",params:[{name:"file",type:"InputFile"},{name:"thumb",type:"InputFile"},{name:"mime_type",type:"string"},{name:"attributes",type:"Vector<DocumentAttribute>"}],type:"InputMedia"},{id:"-779818943",predicate:"inputMediaDocument",params:[{name:"id",type:"InputDocument"}],type:"InputMedia"},{id:"802824708",predicate:"messageMediaDocument",params:[{name:"document",type:"Document"}],type:"MessageMedia"},{id:"-961117440",predicate:"messageMediaAudio",params:[{name:"audio",type:"Audio"}],type:"MessageMedia"},{id:"-648356732",predicate:"inputAudioEmpty",params:[],type:"InputAudio"},{id:"2010398975",predicate:"inputAudio",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputAudio"},{id:"1928391342",predicate:"inputDocumentEmpty",params:[],type:"InputDocument"},{id:"410618194",predicate:"inputDocument",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputDocument"},{id:"1960591437",predicate:"inputAudioFileLocation",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputFileLocation"},{id:"1313188841",predicate:"inputDocumentFileLocation",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputFileLocation"},{id:"1483311320",predicate:"audioEmpty",params:[{name:"id",type:"long"}],type:"Audio"},{id:"-945003370",predicate:"audio",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"user_id",type:"int"},{name:"date",type:"int"},{name:"duration",type:"int"},{name:"mime_type",type:"string"},{name:"size",type:"int"},{name:"dc_id",type:"int"}],type:"Audio"},{id:"922273905",predicate:"documentEmpty",params:[{name:"id",type:"long"}],type:"Document"},{id:"-106717361",predicate:"document",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"date",type:"int"},{name:"mime_type",type:"string"},{name:"size",type:"int"},{name:"thumb",type:"PhotoSize"},{name:"dc_id",type:"int"},{name:"attributes",type:"Vector<DocumentAttribute>"}],type:"Document"},{id:"398898678",predicate:"help.support",params:[{name:"phone_number",type:"string"},{name:"user",type:"User"}],type:"help.Support"},{id:"-1613493288",predicate:"notifyPeer",params:[{name:"peer",type:"Peer"}],type:"NotifyPeer"},{id:"-1261946036",predicate:"notifyUsers",params:[],type:"NotifyPeer"},{id:"-1073230141",predicate:"notifyChats",params:[],type:"NotifyPeer"},{id:"1959820384",predicate:"notifyAll",params:[],type:"NotifyPeer"},{id:"-2131957734",predicate:"updateUserBlocked",params:[{name:"user_id",type:"int"},{name:"blocked",type:"Bool"}],type:"Update"},{id:"-1094555409",predicate:"updateNotifySettings",params:[{name:"peer",type:"NotifyPeer"},{name:"notify_settings",type:"PeerNotifySettings"}],type:"Update"},{id:"-484053553",predicate:"auth.sentAppCode",params:[{name:"phone_registered",type:"Bool"},{name:"phone_code_hash",type:"string"},{name:"send_call_timeout",type:"int"},{name:"is_password",type:"Bool"}],type:"auth.SentCode"},{id:"381645902",predicate:"sendMessageTypingAction",params:[],type:"SendMessageAction"},{id:"-44119819",predicate:"sendMessageCancelAction",params:[],type:"SendMessageAction"},{id:"-1584933265",predicate:"sendMessageRecordVideoAction",params:[],type:"SendMessageAction"},{id:"-378127636",predicate:"sendMessageUploadVideoAction",params:[{name:"progress",type:"int"}],type:"SendMessageAction"},{id:"-718310409",predicate:"sendMessageRecordAudioAction",params:[],type:"SendMessageAction"},{id:"-212740181",predicate:"sendMessageUploadAudioAction",params:[{name:"progress",type:"int"}],type:"SendMessageAction"},{id:"-774682074",predicate:"sendMessageUploadPhotoAction",params:[{name:"progress",type:"int"}],type:"SendMessageAction"},{id:"-1441998364",predicate:"sendMessageUploadDocumentAction",params:[{name:"progress",type:"int"}],type:"SendMessageAction"},{id:"393186209",predicate:"sendMessageGeoLocationAction",params:[],type:"SendMessageAction"},{id:"1653390447",predicate:"sendMessageChooseContactAction",params:[],type:"SendMessageAction"},{id:"-360210539",predicate:"contactFound",params:[{name:"user_id",type:"int"}],type:"ContactFound"},{id:"90570766",predicate:"contacts.found",params:[{name:"results",type:"Vector<ContactFound>"},{name:"users",type:"Vector<User>"}],type:"contacts.Found"},{id:"942527460",predicate:"updateServiceNotification",params:[{name:"type",type:"string"},{name:"message",type:"string"},{name:"media",type:"MessageMedia"},{name:"popup",type:"Bool"}],type:"Update"},{id:"-496024847",predicate:"userStatusRecently",params:[],type:"UserStatus"},{id:"129960444",predicate:"userStatusLastWeek",params:[],type:"UserStatus"},{id:"2011940674",predicate:"userStatusLastMonth",params:[],type:"UserStatus"},{id:"-298113238",predicate:"updatePrivacy",params:[{name:"key",type:"PrivacyKey"},{name:"rules",type:"Vector<PrivacyRule>"}],type:"Update"},{id:"1335282456",predicate:"inputPrivacyKeyStatusTimestamp",params:[],type:"InputPrivacyKey"},{id:"-1137792208",predicate:"privacyKeyStatusTimestamp",params:[],type:"PrivacyKey"},{id:"218751099",predicate:"inputPrivacyValueAllowContacts",params:[],type:"InputPrivacyRule"},{id:"407582158",predicate:"inputPrivacyValueAllowAll",params:[],type:"InputPrivacyRule"},{id:"320652927",predicate:"inputPrivacyValueAllowUsers",params:[{name:"users",type:"Vector<InputUser>"}],type:"InputPrivacyRule"},{id:"195371015",predicate:"inputPrivacyValueDisallowContacts",params:[],type:"InputPrivacyRule"},{id:"-697604407",predicate:"inputPrivacyValueDisallowAll",params:[],type:"InputPrivacyRule"},{id:"-1877932953",predicate:"inputPrivacyValueDisallowUsers",params:[{name:"users",type:"Vector<InputUser>"}],type:"InputPrivacyRule"},{id:"-123988",predicate:"privacyValueAllowContacts",params:[],type:"PrivacyRule"},{id:"1698855810",predicate:"privacyValueAllowAll",params:[],type:"PrivacyRule"},{id:"1297858060",predicate:"privacyValueAllowUsers",params:[{name:"users",type:"Vector<int>"}],type:"PrivacyRule"},{id:"-125240806",predicate:"privacyValueDisallowContacts",params:[],type:"PrivacyRule"},{id:"-1955338397",predicate:"privacyValueDisallowAll",params:[],type:"PrivacyRule"},{id:"209668535",predicate:"privacyValueDisallowUsers",params:[{name:"users",type:"Vector<int>"}],type:"PrivacyRule"},{id:"1430961007",predicate:"account.privacyRules",params:[{name:"rules",type:"Vector<PrivacyRule>"},{name:"users",type:"Vector<User>"}],type:"account.PrivacyRules"},{id:"-1194283041",predicate:"accountDaysTTL",params:[{name:"days",type:"int"}],type:"AccountDaysTTL"},{id:"-1527411636",predicate:"account.sentChangePhoneCode",params:[{name:"phone_code_hash",type:"string"},{name:"send_call_timeout",type:"int"}],type:"account.SentChangePhoneCode"},{id:"314130811",predicate:"updateUserPhone",params:[{name:"user_id",type:"int"},{name:"phone",type:"string"}],type:"Update"},{id:"1815593308",predicate:"documentAttributeImageSize",params:[{name:"w",type:"int"},{name:"h",type:"int"}],type:"DocumentAttribute"},{id:"297109817",predicate:"documentAttributeAnimated",params:[],type:"DocumentAttribute"},{id:"978674434",predicate:"documentAttributeSticker",params:[{name:"alt",type:"string"},{name:"stickerset",type:"InputStickerSet"}],type:"DocumentAttribute"},{id:"1494273227",predicate:"documentAttributeVideo",params:[{name:"duration",type:"int"},{name:"w",type:"int"},{name:"h",type:"int"}],type:"DocumentAttribute"},{id:"85215461",predicate:"documentAttributeAudio",params:[{name:"duration",type:"int"}],type:"DocumentAttribute"},{id:"358154344",predicate:"documentAttributeFilename",params:[{name:"file_name",type:"string"}],type:"DocumentAttribute"},{id:"-244016606",predicate:"messages.stickersNotModified",params:[],type:"messages.Stickers"},{id:"-1970352846",predicate:"messages.stickers",params:[{name:"hash",type:"string"},{name:"stickers",type:"Vector<Document>"}],type:"messages.Stickers"},{id:"313694676",predicate:"stickerPack",params:[{name:"emoticon",type:"string"},{name:"documents",type:"Vector<long>"}],type:"StickerPack"},{id:"-395967805",predicate:"messages.allStickersNotModified",params:[],type:"messages.AllStickers"},{id:"1558401772",predicate:"messages.allStickers",params:[{name:"hash",type:"string"},{name:"packs",type:"Vector<StickerPack>"},{name:"sets",type:"Vector<StickerSet>"},{name:"documents",type:"Vector<Document>"}],type:"messages.AllStickers"},{id:"-1369215196",predicate:"disabledFeature",params:[{name:"feature",type:"string"},{name:"description",type:"string"}],type:"DisabledFeature"},{id:"-1721631396",predicate:"updateReadHistoryInbox",params:[{name:"peer",type:"Peer"},{name:"max_id",type:"int"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"Update"},{id:"791617983",predicate:"updateReadHistoryOutbox",params:[{name:"peer",type:"Peer"},{name:"max_id",type:"int"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"Update"},{id:"-2066640507",predicate:"messages.affectedMessages",params:[{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"messages.AffectedMessages"},{id:"1599050311",predicate:"contactLinkUnknown",params:[],type:"ContactLink"},{id:"-17968211",predicate:"contactLinkNone",params:[],type:"ContactLink"},{id:"646922073",predicate:"contactLinkHasPhone",params:[],type:"ContactLink"},{id:"-721239344",predicate:"contactLinkContact",params:[],type:"ContactLink"},{id:"751004017",predicate:"updateWebPage",params:[{name:"webpage",type:"WebPage"}],type:"Update"},{id:"-350980120",predicate:"webPageEmpty",params:[{name:"id",type:"long"}],type:"WebPage"},{id:"-981018084",predicate:"webPagePending",params:[{name:"id",type:"long"},{name:"date",type:"int"}],type:"WebPage"},{id:"-1558273867",predicate:"webPage",params:[{name:"flags",type:"#"},{name:"id",type:"long"},{name:"url",type:"string"},{name:"display_url",type:"string"},{name:"type",type:"flags.0?string"},{name:"site_name",type:"flags.1?string"},{name:"title",type:"flags.2?string"},{name:"description",type:"flags.3?string"},{name:"photo",type:"flags.4?Photo"},{name:"embed_url",type:"flags.5?string"},{name:"embed_type",type:"flags.5?string"},{name:"embed_width",type:"flags.6?int"},{name:"embed_height",type:"flags.6?int"},{name:"duration",type:"flags.7?int"},{name:"author",type:"flags.8?string"}],type:"WebPage"},{id:"-1557277184",predicate:"messageMediaWebPage",params:[{name:"webpage",type:"WebPage"}],type:"MessageMedia"},{id:"2079516406",predicate:"authorization",params:[{name:"hash",type:"long"},{name:"flags",type:"int"},{name:"device_model",type:"string"},{name:"platform",type:"string"},{name:"system_version",type:"string"},{name:"api_id",type:"int"},{name:"app_name",type:"string"},{name:"app_version",type:"string"},{name:"date_created",type:"int"},{name:"date_active",type:"int"},{name:"ip",type:"string"},{name:"country",type:"string"},{name:"region",type:"string"}],type:"Authorization"},{id:"307276766",predicate:"account.authorizations",params:[{name:"authorizations",type:"Vector<Authorization>"}],type:"account.Authorizations"},{id:"-1764049896",predicate:"account.noPassword",params:[{name:"new_salt",type:"bytes"},{name:"email_unconfirmed_pattern",type:"string"}],type:"account.Password"},{id:"2081952796",predicate:"account.password",params:[{name:"current_salt",type:"bytes"},{name:"new_salt",type:"bytes"},{name:"hint",type:"string"},{name:"has_recovery",type:"Bool"},{name:"email_unconfirmed_pattern",type:"string"}],type:"account.Password"},{id:"-1212732749",predicate:"account.passwordSettings",params:[{name:"email",type:"string"}],type:"account.PasswordSettings"},{id:"-1124314324",predicate:"account.passwordInputSettings",params:[{name:"flags",type:"#"},{name:"new_salt",type:"flags.0?bytes"},{name:"new_password_hash",type:"flags.0?bytes"},{name:"hint",type:"flags.0?string"},{name:"email",type:"flags.1?string"}],type:"account.PasswordInputSettings"},{id:"326715557",predicate:"auth.passwordRecovery",params:[{name:"email_pattern",type:"string"}],type:"auth.PasswordRecovery"},{id:"673687578",predicate:"inputMediaVenue",params:[{name:"geo_point",type:"InputGeoPoint"},{name:"title",type:"string"},{name:"address",type:"string"},{name:"provider",type:"string"},{name:"venue_id",type:"string"}],type:"InputMedia"},{id:"2031269663",predicate:"messageMediaVenue",params:[{name:"geo",type:"GeoPoint"},{name:"title",type:"string"},{name:"address",type:"string"},{name:"provider",type:"string"},{name:"venue_id",type:"string"}],type:"MessageMedia"},{id:"-1551583367",predicate:"receivedNotifyMessage",params:[{name:"id",type:"int"},{name:"flags",type:"int"}],type:"ReceivedNotifyMessage"},{id:"1776236393",predicate:"chatInviteEmpty",params:[],type:"ExportedChatInvite"},{id:"-64092740",predicate:"chatInviteExported",params:[{name:"link",type:"string"}],type:"ExportedChatInvite"},{id:"1516793212",predicate:"chatInviteAlready",params:[{name:"chat",type:"Chat"}],type:"ChatInvite"},{id:"-829325875",predicate:"chatInvite",params:[{name:"title",type:"string"}],type:"ChatInvite"},{id:"-123931160",predicate:"messageActionChatJoinedByLink",params:[{name:"inviter_id",type:"int"}],type:"MessageAction"},{id:"1757493555",predicate:"updateReadMessagesContents",params:[{name:"messages",type:"Vector<int>"},{name:"pts",type:"int"},{name:"pts_count",type:"int"}],type:"Update"},{id:"-4838507",predicate:"inputStickerSetEmpty",params:[],type:"InputStickerSet"},{id:"-1645763991",predicate:"inputStickerSetID",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"}],type:"InputStickerSet"},{id:"-2044933984",predicate:"inputStickerSetShortName",params:[{name:"short_name",type:"string"}],type:"InputStickerSet"},{id:"-1482409193",predicate:"stickerSet",params:[{name:"id",type:"long"},{name:"access_hash",type:"long"},{name:"title",type:"string"},{name:"short_name",type:"string"}],type:"StickerSet"},{id:"-1240849242",predicate:"messages.stickerSet",params:[{name:"set",type:"StickerSet"},{name:"packs",type:"Vector<StickerPack>"},{name:"documents",type:"Vector<Document>"}],type:"messages.StickerSet"}],methods:[{id:"-878758099",method:"invokeAfterMsg",params:[{name:"msg_id",type:"long"},{name:"query",type:"!X"}],type:"X"},{id:"1036301552",method:"invokeAfterMsgs",params:[{name:"msg_ids",type:"Vector<long>"},{name:"query",type:"!X"}],type:"X"},{id:"1877286395",method:"auth.checkPhone",params:[{name:"phone_number",type:"string"}],type:"auth.CheckedPhone"},{id:"1988976461",method:"auth.sendCode",params:[{name:"phone_number",type:"string"},{name:"sms_type",type:"int"},{name:"api_id",type:"int"},{name:"api_hash",type:"string"},{name:"lang_code",type:"string"}],type:"auth.SentCode"},{id:"63247716",method:"auth.sendCall",params:[{name:"phone_number",type:"string"},{name:"phone_code_hash",type:"string"}],type:"Bool"},{id:"453408308",method:"auth.signUp",params:[{name:"phone_number",type:"string"},{name:"phone_code_hash",type:"string"},{name:"phone_code",type:"string"},{name:"first_name",type:"string"},{name:"last_name",type:"string"}],type:"auth.Authorization"},{id:"-1126886015",method:"auth.signIn",params:[{name:"phone_number",type:"string"},{name:"phone_code_hash",type:"string"},{name:"phone_code",type:"string"}],type:"auth.Authorization"},{id:"1461180992",method:"auth.logOut",params:[],type:"Bool"},{id:"-1616179942",method:"auth.resetAuthorizations",params:[],type:"Bool"},{id:"1998331287",method:"auth.sendInvites",params:[{name:"phone_numbers",type:"Vector<string>"},{name:"message",type:"string"}],type:"Bool"},{id:"-440401971",method:"auth.exportAuthorization",params:[{name:"dc_id",type:"int"}],type:"auth.ExportedAuthorization"},{id:"-470837741",method:"auth.importAuthorization",params:[{name:"id",type:"int"},{name:"bytes",type:"bytes"}],type:"auth.Authorization"},{id:"-841733627",method:"auth.bindTempAuthKey",params:[{name:"perm_auth_key_id",type:"long"},{name:"nonce",type:"long"},{name:"expires_at",type:"int"},{name:"encrypted_message",type:"bytes"}],type:"Bool"},{id:"1147957548",method:"account.registerDevice",params:[{name:"token_type",type:"int"},{name:"token",type:"string"},{name:"device_model",type:"string"},{name:"system_version",type:"string"},{name:"app_version",type:"string"},{name:"app_sandbox",type:"Bool"},{name:"lang_code",type:"string"}],type:"Bool"},{id:"1707432768",method:"account.unregisterDevice",params:[{name:"token_type",type:"int"},{name:"token",type:"string"}],type:"Bool"},{id:"-2067899501",method:"account.updateNotifySettings",params:[{name:"peer",type:"InputNotifyPeer"},{name:"settings",type:"InputPeerNotifySettings"}],type:"Bool"},{id:"313765169",method:"account.getNotifySettings",params:[{name:"peer",type:"InputNotifyPeer"}],type:"PeerNotifySettings"},{id:"-612493497",method:"account.resetNotifySettings",params:[],type:"Bool"},{id:"-259486360",method:"account.updateProfile",params:[{name:"first_name",type:"string"},{name:"last_name",type:"string"}],type:"User"},{id:"1713919532",method:"account.updateStatus",params:[{name:"offline",type:"Bool"}],type:"Bool"},{id:"-1068696894",method:"account.getWallPapers",params:[],type:"Vector<WallPaper>"},{id:"227648840",method:"users.getUsers",params:[{name:"id",type:"Vector<InputUser>"}],type:"Vector<User>"},{id:"-902781519",method:"users.getFullUser",params:[{name:"id",type:"InputUser"}],type:"UserFull"},{id:"-995929106",method:"contacts.getStatuses",params:[],type:"Vector<ContactStatus>"},{id:"583445000",method:"contacts.getContacts",params:[{name:"hash",type:"string"}],type:"contacts.Contacts"},{id:"-634342611",method:"contacts.importContacts",params:[{name:"contacts",type:"Vector<InputContact>"},{name:"replace",type:"Bool"}],type:"contacts.ImportedContacts"},{id:"-847825880",method:"contacts.getSuggested",params:[{name:"limit",type:"int"}],type:"contacts.Suggested"},{id:"-1902823612",method:"contacts.deleteContact",params:[{name:"id",type:"InputUser"}],type:"contacts.Link"},{id:"1504393374",method:"contacts.deleteContacts",params:[{name:"id",type:"Vector<InputUser>"}],type:"Bool"},{id:"858475004",method:"contacts.block",params:[{name:"id",type:"InputUser"}],type:"Bool"},{id:"-448724803",method:"contacts.unblock",params:[{name:"id",type:"InputUser"}],type:"Bool"},{id:"-176409329",method:"contacts.getBlocked",params:[{name:"offset",type:"int"},{name:"limit",type:"int"}],type:"contacts.Blocked"},{id:"-2065352905",method:"contacts.exportCard",params:[],type:"Vector<int>"},{id:"1340184318",method:"contacts.importCard",params:[{name:"export_card",type:"Vector<int>"}],type:"User"},{id:"1109588596",method:"messages.getMessages",params:[{name:"id",type:"Vector<int>"}],type:"messages.Messages"},{id:"-321970698",method:"messages.getDialogs",params:[{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"messages.Dialogs"},{id:"-1834885329",method:"messages.getHistory",params:[{name:"peer",type:"InputPeer"},{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"messages.Messages"},{id:"132772523",method:"messages.search",params:[{name:"peer",type:"InputPeer"},{name:"q",type:"string"},{name:"filter",type:"MessagesFilter"},{name:"min_date",type:"int"},{name:"max_date",type:"int"},{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"messages.Messages"},{id:"-1336990448",method:"messages.readHistory",params:[{name:"peer",type:"InputPeer"},{name:"max_id",type:"int"},{name:"offset",type:"int"}],type:"messages.AffectedHistory"},{id:"-185009311",method:"messages.deleteHistory",params:[{name:"peer",type:"InputPeer"},{name:"offset",type:"int"}],type:"messages.AffectedHistory"},{id:"-1510897371",method:"messages.deleteMessages",params:[{name:"id",type:"Vector<int>"}],type:"messages.AffectedMessages"},{id:"94983360",method:"messages.receivedMessages",params:[{name:"max_id",type:"int"}],type:"Vector<ReceivedNotifyMessage>"},{id:"-1551737264",method:"messages.setTyping",params:[{name:"peer",type:"InputPeer"},{name:"action",type:"SendMessageAction"}],type:"Bool"},{id:"-1696755930",method:"messages.sendMessage",params:[{name:"flags",type:"#"},{name:"peer",type:"InputPeer"},{name:"reply_to_msg_id",type:"flags.0?int"},{name:"message",type:"string"},{name:"random_id",type:"long"}],type:"messages.SentMessage"},{id:"762913713",method:"messages.sendMedia",params:[{name:"flags",type:"#"},{name:"peer",type:"InputPeer"},{name:"reply_to_msg_id",type:"flags.0?int"},{name:"media",type:"InputMedia"},{name:"random_id",type:"long"}],type:"Updates"},{id:"1440838285",method:"messages.forwardMessages",params:[{name:"peer",type:"InputPeer"},{name:"id",type:"Vector<int>"},{name:"random_id",type:"Vector<long>"}],type:"Updates"},{id:"1013621127",method:"messages.getChats",params:[{name:"id",type:"Vector<int>"}],type:"messages.Chats"},{id:"998448230",method:"messages.getFullChat",params:[{name:"chat_id",type:"int"}],type:"messages.ChatFull"},{id:"-599447467",method:"messages.editChatTitle",params:[{name:"chat_id",type:"int"},{name:"title",type:"string"}],type:"Updates"},{id:"-900957736",method:"messages.editChatPhoto",params:[{name:"chat_id",type:"int"},{name:"photo",type:"InputChatPhoto"}],type:"Updates"},{id:"-106911223",method:"messages.addChatUser",params:[{name:"chat_id",type:"int"},{name:"user_id",type:"InputUser"},{name:"fwd_limit",type:"int"}],type:"Updates"},{id:"-530505962",method:"messages.deleteChatUser",params:[{name:"chat_id",type:"int"},{name:"user_id",type:"InputUser"}],type:"Updates"},{id:"164303470",method:"messages.createChat",params:[{name:"users",type:"Vector<InputUser>"},{name:"title",type:"string"}],type:"Updates"},{id:"-304838614",method:"updates.getState",params:[],type:"updates.State"},{id:"168039573",method:"updates.getDifference",params:[{name:"pts",type:"int"},{name:"date",type:"int"},{name:"qts",type:"int"}],type:"updates.Difference"},{id:"-285902432",method:"photos.updateProfilePhoto",params:[{name:"id",type:"InputPhoto"},{name:"crop",type:"InputPhotoCrop"}],type:"UserProfilePhoto"},{id:"-720397176",method:"photos.uploadProfilePhoto",params:[{name:"file",type:"InputFile"},{name:"caption",type:"string"},{name:"geo_point",type:"InputGeoPoint"},{name:"crop",type:"InputPhotoCrop"}],type:"photos.Photo"},{id:"-2016444625",method:"photos.deletePhotos",params:[{name:"id",type:"Vector<InputPhoto>"}],type:"Vector<long>"},{id:"-1291540959",method:"upload.saveFilePart",params:[{name:"file_id",type:"long"},{name:"file_part",type:"int"},{name:"bytes",type:"bytes"}],type:"Bool"},{id:"-475607115",method:"upload.getFile",params:[{name:"location",type:"InputFileLocation"},{name:"offset",type:"int"},{name:"limit",type:"int"}],type:"upload.File"},{id:"-990308245",method:"help.getConfig",params:[],type:"Config"},{id:"531836966",method:"help.getNearestDc",params:[],type:"NearestDc"},{id:"-938300290",method:"help.getAppUpdate",params:[{name:"device_model",type:"string"},{name:"system_version",type:"string"},{name:"app_version",type:"string"},{name:"lang_code",type:"string"}],type:"help.AppUpdate"},{id:"1862465352",method:"help.saveAppLog",params:[{name:"events",type:"Vector<InputAppEvent>"}],type:"Bool"},{id:"-1532407418",method:"help.getInviteText",params:[{name:"lang_code",type:"string"}],type:"help.InviteText"},{id:"-1209117380",method:"photos.getUserPhotos",params:[{name:"user_id",type:"InputUser"},{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"photos.Photos"},{id:"865483769",method:"messages.forwardMessage",params:[{name:"peer",type:"InputPeer"},{name:"id",type:"int"},{name:"random_id",type:"long"}],type:"Updates"},{id:"-1082919718",method:"messages.sendBroadcast",params:[{name:"contacts",type:"Vector<InputUser>"},{name:"random_id",type:"Vector<long>"},{name:"message",type:"string"},{name:"media",type:"InputMedia"}],type:"Updates"},{id:"2132356495",method:"geochats.getLocated",params:[{name:"geo_point",type:"InputGeoPoint"},{name:"radius",type:"int"},{name:"limit",type:"int"}],type:"geochats.Located"},{id:"-515735953",method:"geochats.getRecents",params:[{name:"offset",type:"int"},{name:"limit",type:"int"}],type:"geochats.Messages"},{id:"1437853947",method:"geochats.checkin",params:[{name:"peer",type:"InputGeoChat"}],type:"geochats.StatedMessage"},{id:"1730338159",method:"geochats.getFullChat",params:[{name:"peer",type:"InputGeoChat"}],type:"messages.ChatFull"},{id:"1284383347",method:"geochats.editChatTitle",params:[{name:"peer",type:"InputGeoChat"},{name:"title",type:"string"},{name:"address",type:"string"}],type:"geochats.StatedMessage"},{id:"903355029",method:"geochats.editChatPhoto",params:[{name:"peer",type:"InputGeoChat"},{name:"photo",type:"InputChatPhoto"}],type:"geochats.StatedMessage"},{id:"-808598451",method:"geochats.search",params:[{name:"peer",type:"InputGeoChat"},{name:"q",type:"string"},{name:"filter",type:"MessagesFilter"},{name:"min_date",type:"int"},{name:"max_date",type:"int"},{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"geochats.Messages"},{id:"-1254131096",method:"geochats.getHistory",params:[{name:"peer",type:"InputGeoChat"},{name:"offset",type:"int"},{name:"max_id",type:"int"},{name:"limit",type:"int"}],type:"geochats.Messages"},{id:"146319145",method:"geochats.setTyping",params:[{name:"peer",type:"InputGeoChat"},{name:"typing",type:"Bool"}],type:"Bool"},{id:"102432836",method:"geochats.sendMessage",params:[{name:"peer",type:"InputGeoChat"},{name:"message",type:"string"},{name:"random_id",type:"long"}],type:"geochats.StatedMessage"},{id:"-1192173825",method:"geochats.sendMedia",params:[{name:"peer",type:"InputGeoChat"},{name:"media",type:"InputMedia"},{name:"random_id",type:"long"}],type:"geochats.StatedMessage"},{id:"235482646",method:"geochats.createGeoChat",params:[{name:"title",type:"string"},{name:"geo_point",type:"InputGeoPoint"},{name:"address",type:"string"},{name:"venue",type:"string"}],type:"geochats.StatedMessage"},{id:"651135312",method:"messages.getDhConfig",params:[{name:"version",type:"int"},{name:"random_length",type:"int"}],type:"messages.DhConfig"},{id:"-162681021",method:"messages.requestEncryption",params:[{name:"user_id",type:"InputUser"},{name:"random_id",type:"int"},{name:"g_a",type:"bytes"}],type:"EncryptedChat"},{id:"1035731989",method:"messages.acceptEncryption",params:[{name:"peer",type:"InputEncryptedChat"},{name:"g_b",type:"bytes"},{name:"key_fingerprint",type:"long"}],type:"EncryptedChat"},{id:"-304536635",method:"messages.discardEncryption",params:[{name:"chat_id",type:"int"}],type:"Bool"},{id:"2031374829",method:"messages.setEncryptedTyping",params:[{name:"peer",type:"InputEncryptedChat"},{name:"typing",type:"Bool"}],type:"Bool"},{id:"2135648522",method:"messages.readEncryptedHistory",params:[{name:"peer",type:"InputEncryptedChat"},{name:"max_date",type:"int"}],type:"Bool"},{id:"-1451792525",method:"messages.sendEncrypted",params:[{name:"peer",type:"InputEncryptedChat"},{name:"random_id",type:"long"},{name:"data",type:"bytes"}],type:"messages.SentEncryptedMessage"},{id:"-1701831834",method:"messages.sendEncryptedFile",params:[{name:"peer",type:"InputEncryptedChat"},{name:"random_id",type:"long"},{name:"data",type:"bytes"},{name:"file",type:"InputEncryptedFile"}],type:"messages.SentEncryptedMessage"},{id:"852769188",method:"messages.sendEncryptedService",params:[{name:"peer",type:"InputEncryptedChat"},{name:"random_id",type:"long"},{name:"data",type:"bytes"}],type:"messages.SentEncryptedMessage"},{id:"1436924774",method:"messages.receivedQueue",params:[{name:"max_qts",type:"int"}],type:"Vector<long>"},{id:"-562337987",method:"upload.saveBigFilePart",params:[{name:"file_id",type:"long"},{name:"file_part",type:"int"},{name:"file_total_parts",type:"int"},{name:"bytes",type:"bytes"}],type:"Bool"},{id:"1769565673",method:"initConnection",params:[{name:"api_id",type:"int"},{name:"device_model",type:"string"},{name:"system_version",type:"string"},{name:"app_version",type:"string"},{name:"lang_code",type:"string"},{name:"query",type:"!X"}],type:"X"},{id:"-1663104819",method:"help.getSupport",params:[],type:"help.Support"},{id:"229241832",method:"auth.sendSms",params:[{name:"phone_number",type:"string"},{name:"phone_code_hash",type:"string"}],type:"Bool"},{id:"916930423",method:"messages.readMessageContents",params:[{name:"id",type:"Vector<int>"}],type:"messages.AffectedMessages"},{id:"655677548",method:"account.checkUsername",params:[{name:"username",type:"string"}],type:"Bool"},{id:"1040964988",method:"account.updateUsername",params:[{name:"username",type:"string"}],type:"User"},{id:"301470424",method:"contacts.search",params:[{name:"q",type:"string"},{name:"limit",type:"int"}],type:"contacts.Found"},{id:"-623130288",method:"account.getPrivacy",params:[{name:"key",type:"InputPrivacyKey"}],type:"account.PrivacyRules"},{id:"-906486552",method:"account.setPrivacy",params:[{name:"key",type:"InputPrivacyKey"},{name:"rules",type:"Vector<InputPrivacyRule>"}],type:"account.PrivacyRules"},{id:"1099779595",method:"account.deleteAccount",params:[{name:"reason",type:"string"}],type:"Bool"},{id:"150761757",method:"account.getAccountTTL",params:[],type:"AccountDaysTTL"},{id:"608323678",method:"account.setAccountTTL",params:[{name:"ttl",type:"AccountDaysTTL"}],type:"Bool"},{id:"-627372787",method:"invokeWithLayer",params:[{name:"layer",type:"int"},{name:"query",type:"!X"}],type:"X"},{id:"200282908",method:"contacts.resolveUsername",params:[{name:"username",type:"string"}],type:"User"},{id:"-1543001868",method:"account.sendChangePhoneCode",params:[{name:"phone_number",type:"string"}],type:"account.SentChangePhoneCode"},{id:"1891839707",method:"account.changePhone",params:[{name:"phone_number",type:"string"},{name:"phone_code_hash",type:"string"},{name:"phone_code",type:"string"}],type:"User"},{id:"-1373446075",method:"messages.getStickers",params:[{name:"emoticon",type:"string"},{name:"hash",type:"string"}],type:"messages.Stickers"},{id:"-1438922648",method:"messages.getAllStickers",params:[{name:"hash",type:"string"}],type:"messages.AllStickers"},{id:"954152242",method:"account.updateDeviceLocked",params:[{name:"period",type:"int"}],type:"Bool"},{id:"623001124",method:"messages.getWebPagePreview",params:[{name:"message",type:"string"}],type:"MessageMedia"},{id:"-484392616",method:"account.getAuthorizations",params:[],type:"account.Authorizations"},{id:"-545786948",method:"account.resetAuthorization",params:[{name:"hash",type:"long"}],type:"Bool"},{id:"1418342645",method:"account.getPassword",params:[],type:"account.Password"},{id:"-1131605573",method:"account.getPasswordSettings",params:[{name:"current_password_hash",type:"bytes"}],type:"account.PasswordSettings"},{id:"-92517498",method:"account.updatePasswordSettings",params:[{name:"current_password_hash",type:"bytes"},{name:"new_settings",type:"account.PasswordInputSettings"}],type:"Bool"},{id:"174260510",method:"auth.checkPassword",params:[{name:"password_hash",type:"bytes"}],type:"auth.Authorization"},{id:"-661144474",method:"auth.requestPasswordRecovery",params:[],type:"auth.PasswordRecovery"},{id:"1319464594",method:"auth.recoverPassword",params:[{name:"code",type:"string"}],type:"auth.Authorization"},{id:"-1080796745",method:"invokeWithoutUpdates",params:[{name:"query",type:"!X"}],type:"X"},{id:"2106086025",method:"messages.exportChatInvite",params:[{name:"chat_id",type:"int"}],type:"ExportedChatInvite"},{id:"1051570619",method:"messages.checkChatInvite",params:[{name:"hash",type:"string"}],type:"ChatInvite"},{id:"1817183516",method:"messages.importChatInvite",params:[{name:"hash",type:"string"}],type:"Updates"},{id:"639215886",method:"messages.getStickerSet",params:[{name:"stickerset",type:"InputStickerSet"}],type:"messages.StickerSet"},{id:"-272893207",method:"messages.installStickerSet",params:[{name:"stickerset",type:"InputStickerSet"}],type:"Bool"},{id:"-110209570",method:"messages.uninstallStickerSet",params:[{name:"stickerset",type:"InputStickerSet"}],type:"Bool"}]},Config.Schema.API.layer=29,
Config.Emoji={"00a9":["",["copyright"]],"00ae":["",["registered"]],"203c":["",["bangbang"]],2049:["",["interrobang"]],2122:["",["tm"]],2139:["",["information_source"]],2194:["",["left_right_arrow"]],2195:["",["arrow_up_down"]],2196:["",["arrow_upper_left"]],2197:["",["arrow_upper_right"]],2198:["",["arrow_lower_right"]],2199:["",["arrow_lower_left"]],"21a9":["",["leftwards_arrow_with_hook"]],"21aa":["",["arrow_right_hook"]],"231a":["",["watch"]],"231b":["",["hourglass"]],"23e9":["",["fast_forward"]],"23ea":["",["rewind"]],"23eb":["",["arrow_double_up"]],"23ec":["",["arrow_double_down"]],"23f0":["",["alarm_clock"]],"23f3":["",["hourglass_flowing_sand"]],"24c2":["",["m"]],"25aa":["",["black_small_square"]],"25ab":["",["white_small_square"]],"25b6":["",["arrow_forward"]],"25c0":["",["arrow_backward"]],"25fb":["",["white_medium_square"]],"25fc":["",["black_medium_square"]],"25fd":["",["white_medium_small_square"]],"25fe":["",["black_medium_small_square"]],2600:["",["sunny"]],2601:["",["cloud"]],"260e":["",["phone","telephone"]],2611:["",["ballot_box_with_check"]],2614:["",["umbrella"]],2615:["",["coffee"]],"261d":["",["point_up"]],"263a":["",["relaxed"]],2648:["",["aries"]],2649:["",["taurus"]],"264a":["",["gemini"]],"264b":["",["cancer"]],"264c":["",["leo"]],"264d":["",["virgo"]],"264e":["",["libra"]],"264f":["",["scorpius"]],2650:["",["sagittarius"]],2651:["",["capricorn"]],2652:["",["aquarius"]],2653:["",["pisces"]],2660:["",["spades"]],2663:["",["clubs"]],2665:["",["hearts"]],2666:["",["diamonds"]],2668:["",["hotsprings"]],"267b":["",["recycle"]],"267f":["",["wheelchair"]],2693:["",["anchor"]],"26a0":["",["warning"]],"26a1":["",["zap"]],"26aa":["",["white_circle"]],"26ab":["",["black_circle"]],"26bd":["",["soccer"]],"26be":["",["baseball"]],"26c4":["",["snowman"]],"26c5":["",["partly_sunny"]],"26ce":["",["ophiuchus"]],"26d4":["",["no_entry"]],"26ea":["",["church"]],"26f2":["",["fountain"]],"26f3":["",["golf"]],"26f5":["",["boat","sailboat"]],"26fa":["",["tent"]],"26fd":["",["fuelpump"]],2702:["",["scissors"]],2705:["",["white_check_mark"]],2708:["",["airplane"]],2709:["",["email","envelope"]],"270a":["",["fist"]],"270b":["",["hand","raised_hand"]],"270c":["",["v"]],"270f":["",["pencil2"]],2712:["",["black_nib"]],2714:["",["heavy_check_mark"]],2716:["",["heavy_multiplication_x"]],2728:["",["sparkles"]],2733:["",["eight_spoked_asterisk"]],2734:["",["eight_pointed_black_star"]],2744:["",["snowflake"]],2747:["",["sparkle"]],"274c":["",["x"]],"274e":["",["negative_squared_cross_mark"]],2753:["",["question"]],2754:["",["grey_question"]],2755:["",["grey_exclamation"]],2757:["",["exclamation","heavy_exclamation_mark"]],2764:["",["heart"],"<3"],2795:["",["heavy_plus_sign"]],2796:["",["heavy_minus_sign"]],2797:["",["heavy_division_sign"]],"27a1":["",["arrow_right"]],"27b0":["",["curly_loop"]],"27bf":["",["loop"]],2934:["",["arrow_heading_up"]],2935:["",["arrow_heading_down"]],"2b05":["",["arrow_left"]],"2b06":["",["arrow_up"]],"2b07":["",["arrow_down"]],"2b1b":["",["black_large_square"]],"2b1c":["",["white_large_square"]],"2b50":["",["star"]],"2b55":["",["o"]],3030:["",["wavy_dash"]],"303d":["",["part_alternation_mark"]],3297:["",["congratulations"]],3299:["",["secret"]],"1f004":["",["mahjong"]],"1f0cf":["",["black_joker"]],"1f170":["",["a"]],"1f171":["",["b"]],"1f17e":["",["o2"]],"1f17f":["",["parking"]],"1f18e":["",["ab"]],"1f191":["",["cl"]],"1f192":["",["cool"]],"1f193":["",["free"]],"1f194":["",["id"]],"1f195":["",["new"]],"1f196":["",["ng"]],"1f197":["",["ok"]],"1f198":["",["sos"]],"1f199":["",["up"]],"1f19a":["",["vs"]],"1f201":["",["koko"]],"1f202":["",["sa"]],"1f21a":["",["u7121"]],"1f22f":["",["u6307"]],"1f232":["",["u7981"]],"1f233":["",["u7a7a"]],"1f234":["",["u5408"]],"1f235":["",["u6e80"]],"1f236":["",["u6709"]],"1f237":["",["u6708"]],"1f238":["",["u7533"]],"1f239":["",["u5272"]],"1f23a":["",["u55b6"]],"1f250":["",["ideograph_advantage"]],"1f251":["",["accept"]],"1f300":["",["cyclone"]],"1f301":["",["foggy"]],"1f302":["",["closed_umbrella"]],"1f303":["",["night_with_stars"]],"1f304":["",["sunrise_over_mountains"]],"1f305":["",["sunrise"]],"1f306":["",["city_sunset"]],"1f307":["",["city_sunrise"]],"1f308":["",["rainbow"]],"1f309":["",["bridge_at_night"]],"1f30a":["",["ocean"]],"1f30b":["",["volcano"]],"1f30c":["",["milky_way"]],"1f30d":["",["earth_africa"]],"1f30e":["",["earth_americas"]],"1f30f":["",["earth_asia"]],"1f310":["",["globe_with_meridians"]],"1f311":["",["new_moon"]],"1f312":["",["waxing_crescent_moon"]],"1f313":["",["first_quarter_moon"]],"1f314":["",["moon","waxing_gibbous_moon"]],"1f315":["",["full_moon"]],"1f316":["",["waning_gibbous_moon"]],"1f317":["",["last_quarter_moon"]],"1f318":["",["waning_crescent_moon"]],"1f319":["",["crescent_moon"]],"1f320":["",["stars"]],"1f31a":["",["new_moon_with_face"]],"1f31b":["",["first_quarter_moon_with_face"]],"1f31c":["",["last_quarter_moon_with_face"]],"1f31d":["",["full_moon_with_face"]],"1f31e":["",["sun_with_face"]],"1f31f":["",["star2"]],"1f330":["",["chestnut"]],"1f331":["",["seedling"]],"1f332":["",["evergreen_tree"]],"1f333":["",["deciduous_tree"]],"1f334":["",["palm_tree"]],"1f335":["",["cactus"]],"1f337":["",["tulip"]],"1f338":["",["cherry_blossom"]],"1f339":["",["rose"]],"1f33a":["",["hibiscus"]],"1f33b":["",["sunflower"]],"1f33c":["",["blossom"]],"1f33d":["",["corn"]],"1f33e":["",["ear_of_rice"]],"1f33f":["",["herb"]],"1f340":["",["four_leaf_clover"]],"1f341":["",["maple_leaf"]],"1f342":["",["fallen_leaf"]],"1f343":["",["leaves"]],"1f344":["",["mushroom"]],"1f345":["",["tomato"]],"1f346":["",["eggplant"]],"1f347":["",["grapes"]],"1f348":["",["melon"]],"1f349":["",["watermelon"]],"1f34a":["",["tangerine"]],"1f34b":["",["lemon"]],"1f34c":["",["banana"]],"1f34d":["",["pineapple"]],"1f34e":["",["apple"]],"1f34f":["",["green_apple"]],"1f350":["",["pear"]],"1f351":["",["peach"]],"1f352":["",["cherries"]],"1f353":["",["strawberry"]],"1f354":["",["hamburger"]],"1f355":["",["pizza"]],"1f356":["",["meat_on_bone"]],"1f357":["",["poultry_leg"]],"1f358":["",["rice_cracker"]],"1f359":["",["rice_ball"]],"1f35a":["",["rice"]],"1f35b":["",["curry"]],"1f35c":["",["ramen"]],"1f35d":["",["spaghetti"]],"1f35e":["",["bread"]],"1f35f":["",["fries"]],"1f360":["",["sweet_potato"]],"1f361":["",["dango"]],"1f362":["",["oden"]],"1f363":["",["sushi"]],"1f364":["",["fried_shrimp"]],"1f365":["",["fish_cake"]],"1f366":["",["icecream"]],"1f367":["",["shaved_ice"]],"1f368":["",["ice_cream"]],"1f369":["",["doughnut"]],"1f36a":["",["cookie"]],"1f36b":["",["chocolate_bar"]],"1f36c":["",["candy"]],"1f36d":["",["lollipop"]],"1f36e":["",["custard"]],"1f36f":["",["honey_pot"]],"1f370":["",["cake"]],"1f371":["",["bento"]],"1f372":["",["stew"]],"1f373":["",["egg"]],"1f374":["",["fork_and_knife"]],"1f375":["",["tea"]],"1f376":["",["sake"]],"1f377":["",["wine_glass"]],"1f378":["",["cocktail"]],"1f379":["",["tropical_drink"]],"1f37a":["",["beer"]],"1f37b":["",["beers"]],"1f37c":["",["baby_bottle"]],"1f380":["",["ribbon"]],"1f381":["",["gift"]],"1f382":["",["birthday"]],"1f383":["",["jack_o_lantern"]],"1f384":["",["christmas_tree"]],"1f385":["",["santa"]],"1f386":["",["fireworks"]],"1f387":["",["sparkler"]],"1f388":["",["balloon"]],"1f389":["",["tada"]],"1f38a":["",["confetti_ball"]],"1f38b":["",["tanabata_tree"]],"1f38c":["",["crossed_flags"]],"1f38d":["",["bamboo"]],"1f38e":["",["dolls"]],"1f38f":["",["flags"]],"1f390":["",["wind_chime"]],"1f391":["",["rice_scene"]],"1f392":["",["school_satchel"]],"1f393":["",["mortar_board"]],"1f3a0":["",["carousel_horse"]],"1f3a1":["",["ferris_wheel"]],"1f3a2":["",["roller_coaster"]],"1f3a3":["",["fishing_pole_and_fish"]],"1f3a4":["",["microphone"]],"1f3a5":["",["movie_camera"]],"1f3a6":["",["cinema"]],"1f3a7":["",["headphones"]],"1f3a8":["",["art"]],"1f3a9":["",["tophat"]],"1f3aa":["",["circus_tent"]],"1f3ab":["",["ticket"]],"1f3ac":["",["clapper"]],"1f3ad":["",["performing_arts"]],"1f3ae":["",["video_game"]],"1f3af":["",["dart"]],"1f3b0":["",["slot_machine"]],"1f3b1":["",["8ball"]],"1f3b2":["",["game_die"]],"1f3b3":["",["bowling"]],"1f3b4":["",["flower_playing_cards"]],"1f3b5":["",["musical_note"]],"1f3b6":["",["notes"]],"1f3b7":["",["saxophone"]],"1f3b8":["",["guitar"]],"1f3b9":["",["musical_keyboard"]],"1f3ba":["",["trumpet"]],"1f3bb":["",["violin"]],"1f3bc":["",["musical_score"]],"1f3bd":["",["running_shirt_with_sash"]],"1f3be":["",["tennis"]],"1f3bf":["",["ski"]],"1f3c0":["",["basketball"]],"1f3c1":["",["checkered_flag"]],"1f3c2":["",["snowboarder"]],"1f3c3":["",["runner","running"]],"1f3c4":["",["surfer"]],"1f3c6":["",["trophy"]],"1f3c7":["",["horse_racing"]],"1f3c8":["",["football"]],"1f3c9":["",["rugby_football"]],"1f3ca":["",["swimmer"]],"1f3e0":["",["house"]],"1f3e1":["",["house_with_garden"]],"1f3e2":["",["office"]],"1f3e3":["",["post_office"]],"1f3e4":["",["european_post_office"]],"1f3e5":["",["hospital"]],"1f3e6":["",["bank"]],"1f3e7":["",["atm"]],"1f3e8":["",["hotel"]],"1f3e9":["",["love_hotel"]],"1f3ea":["",["convenience_store"]],"1f3eb":["",["school"]],"1f3ec":["",["department_store"]],"1f3ed":["",["factory"]],"1f3ee":["",["izakaya_lantern","lantern"]],"1f3ef":["",["japanese_castle"]],"1f3f0":["",["european_castle"]],"1f400":["",["rat"]],"1f401":["",["mouse2"]],"1f402":["",["ox"]],"1f403":["",["water_buffalo"]],"1f404":["",["cow2"]],"1f405":["",["tiger2"]],"1f406":["",["leopard"]],"1f407":["",["rabbit2"]],"1f408":["",["cat2"]],"1f409":["",["dragon"]],"1f40a":["",["crocodile"]],"1f40b":["",["whale2"]],"1f40c":["",["snail"]],"1f40d":["",["snake"]],"1f40e":["",["racehorse"]],"1f40f":["",["ram"]],"1f410":["",["goat"]],"1f411":["",["sheep"]],"1f412":["",["monkey"]],"1f413":["",["rooster"]],"1f414":["",["chicken"]],"1f415":["",["dog2"]],"1f416":["",["pig2"]],"1f417":["",["boar"]],"1f418":["",["elephant"]],"1f419":["",["octopus"]],"1f41a":["",["shell"]],"1f41b":["",["bug"]],"1f41c":["",["ant"]],"1f41d":["",["bee","honeybee"]],"1f41e":["",["beetle"]],"1f41f":["",["fish"]],"1f420":["",["tropical_fish"]],"1f421":["",["blowfish"]],"1f422":["",["turtle"]],"1f423":["",["hatching_chick"]],"1f424":["",["baby_chick"]],"1f425":["",["hatched_chick"]],"1f426":["",["bird"]],"1f427":["",["penguin"]],"1f428":["",["koala"]],"1f429":["",["poodle"]],"1f42a":["",["dromedary_camel"]],"1f42b":["",["camel"]],"1f42c":["",["dolphin","flipper"]],"1f42d":["",["mouse"]],"1f42e":["",["cow"]],"1f42f":["",["tiger"]],"1f430":["",["rabbit"]],"1f431":["",["cat"]],"1f432":["",["dragon_face"]],"1f433":["",["whale"]],"1f434":["",["horse"]],"1f435":["",["monkey_face"]],"1f436":["",["dog"]],"1f437":["",["pig"]],"1f438":["",["frog"]],"1f439":["",["hamster"]],"1f43a":["",["wolf"]],"1f43b":["",["bear"]],"1f43c":["",["panda_face"]],"1f43d":["",["pig_nose"]],"1f43e":["",["feet","paw_prints"]],"1f440":["",["eyes"]],"1f442":["",["ear"]],"1f443":["",["nose"]],"1f444":["",["lips"]],"1f445":["",["tongue"]],"1f446":["",["point_up_2"]],"1f447":["",["point_down"]],"1f448":["",["point_left"]],"1f449":["",["point_right"]],"1f44a":["",["facepunch","punch"]],"1f44b":["",["wave"]],"1f44c":["",["ok_hand"]],"1f44d":["",["+1","thumbsup"]],"1f44e":["",["-1","thumbsdown"]],"1f44f":["",["clap"]],"1f450":["",["open_hands"]],"1f451":["",["crown"]],"1f452":["",["womans_hat"]],"1f453":["",["eyeglasses"]],"1f454":["",["necktie"]],"1f455":["",["shirt","tshirt"]],"1f456":["",["jeans"]],"1f457":["",["dress"]],"1f458":["",["kimono"]],"1f459":["",["bikini"]],"1f45a":["",["womans_clothes"]],"1f45b":["",["purse"]],"1f45c":["",["handbag"]],"1f45d":["",["pouch"]],"1f45e":["",["mans_shoe","shoe"]],"1f45f":["",["athletic_shoe"]],"1f460":["",["high_heel"]],"1f461":["",["sandal"]],"1f462":["",["boot"]],"1f463":["",["footprints"]],"1f464":["",["bust_in_silhouette"]],"1f465":["",["busts_in_silhouette"]],"1f466":["",["boy"]],"1f467":["",["girl"]],"1f468":["",["man"]],"1f469":["",["woman"]],"1f46a":["",["family"]],"1f46b":["",["couple"]],"1f46c":["",["two_men_holding_hands"]],"1f46d":["",["two_women_holding_hands"]],"1f46e":["",["cop"]],"1f46f":["",["dancers"]],"1f470":["",["bride_with_veil"]],"1f471":["",["person_with_blond_hair"]],"1f472":["",["man_with_gua_pi_mao"]],"1f473":["",["man_with_turban"]],"1f474":["",["older_man"]],"1f475":["",["older_woman"]],"1f476":["",["baby"]],"1f477":["",["construction_worker"]],"1f478":["",["princess"]],"1f479":["",["japanese_ogre"]],"1f47a":["",["japanese_goblin"]],"1f47b":["",["ghost"]],"1f47c":["",["angel"]],"1f47d":["",["alien"]],"1f47e":["",["space_invader"]],"1f47f":["",["imp"]],"1f480":["",["skull"]],"1f481":["",["information_desk_person"]],"1f482":["",["guardsman"]],"1f483":["",["dancer"]],"1f484":["",["lipstick"]],"1f485":["",["nail_care"]],"1f486":["",["massage"]],"1f487":["",["haircut"]],"1f488":["",["barber"]],"1f489":["",["syringe"]],"1f48a":["",["pill"]],"1f48b":["",["kiss"]],"1f48c":["",["love_letter"]],"1f48d":["",["ring"]],"1f48e":["",["gem"]],"1f48f":["",["couplekiss"]],"1f490":["",["bouquet"]],"1f491":["",["couple_with_heart"]],"1f492":["",["wedding"]],"1f493":["",["heartbeat"]],"1f494":["",["broken_heart"],"</3"],"1f495":["",["two_hearts"]],"1f496":["",["sparkling_heart"]],"1f497":["",["heartpulse"]],"1f498":["",["cupid"]],"1f499":["",["blue_heart"],"<3"],"1f49a":["",["green_heart"],"<3"],"1f49b":["",["yellow_heart"],"<3"],"1f49c":["",["purple_heart"],"<3"],"1f49d":["",["gift_heart"]],"1f49e":["",["revolving_hearts"]],"1f49f":["",["heart_decoration"]],"1f4a0":["",["diamond_shape_with_a_dot_inside"]],"1f4a1":["",["bulb"]],"1f4a2":["",["anger"]],"1f4a3":["",["bomb"]],"1f4a4":["",["zzz"]],"1f4a5":["",["boom","collision"]],"1f4a6":["",["sweat_drops"]],"1f4a7":["",["droplet"]],"1f4a8":["",["dash"]],"1f4a9":["",["hankey","poop","shit"]],"1f4aa":["",["muscle"]],"1f4ab":["",["dizzy"]],"1f4ac":["",["speech_balloon"]],"1f4ad":["",["thought_balloon"]],"1f4ae":["",["white_flower"]],"1f4af":["",["100"]],"1f4b0":["",["moneybag"]],"1f4b1":["",["currency_exchange"]],"1f4b2":["",["heavy_dollar_sign"]],"1f4b3":["",["credit_card"]],"1f4b4":["",["yen"]],"1f4b5":["",["dollar"]],"1f4b6":["",["euro"]],"1f4b7":["",["pound"]],"1f4b8":["",["money_with_wings"]],"1f4b9":["",["chart"]],"1f4ba":["",["seat"]],"1f4bb":["",["computer"]],"1f4bc":["",["briefcase"]],"1f4bd":["",["minidisc"]],"1f4be":["",["floppy_disk"]],"1f4bf":["",["cd"]],"1f4c0":["",["dvd"]],"1f4c1":["",["file_folder"]],"1f4c2":["",["open_file_folder"]],"1f4c3":["",["page_with_curl"]],"1f4c4":["",["page_facing_up"]],"1f4c5":["",["date"]],"1f4c6":["",["calendar"]],"1f4c7":["",["card_index"]],"1f4c8":["",["chart_with_upwards_trend"]],"1f4c9":["",["chart_with_downwards_trend"]],"1f4ca":["",["bar_chart"]],"1f4cb":["",["clipboard"]],"1f4cc":["",["pushpin"]],"1f4cd":["",["round_pushpin"]],"1f4ce":["",["paperclip"]],"1f4cf":["",["straight_ruler"]],"1f4d0":["",["triangular_ruler"]],"1f4d1":["",["bookmark_tabs"]],"1f4d2":["",["ledger"]],"1f4d3":["",["notebook"]],"1f4d4":["",["notebook_with_decorative_cover"]],"1f4d5":["",["closed_book"]],"1f4d6":["",["book","open_book"]],"1f4d7":["",["green_book"]],"1f4d8":["",["blue_book"]],"1f4d9":["",["orange_book"]],"1f4da":["",["books"]],"1f4db":["",["name_badge"]],"1f4dc":["",["scroll"]],"1f4dd":["",["memo","pencil"]],"1f4de":["",["telephone_receiver"]],"1f4df":["",["pager"]],"1f4e0":["",["fax"]],"1f4e1":["",["satellite"]],"1f4e2":["",["loudspeaker"]],"1f4e3":["",["mega"]],"1f4e4":["",["outbox_tray"]],"1f4e5":["",["inbox_tray"]],"1f4e6":["",["package"]],"1f4e7":["",["e-mail"]],"1f4e8":["",["incoming_envelope"]],"1f4e9":["",["envelope_with_arrow"]],"1f4ea":["",["mailbox_closed"]],"1f4eb":["",["mailbox"]],"1f4ec":["",["mailbox_with_mail"]],"1f4ed":["",["mailbox_with_no_mail"]],"1f4ee":["",["postbox"]],"1f4ef":["",["postal_horn"]],"1f4f0":["",["newspaper"]],"1f4f1":["",["iphone"]],"1f4f2":["",["calling"]],"1f4f3":["",["vibration_mode"]],"1f4f4":["",["mobile_phone_off"]],"1f4f5":["",["no_mobile_phones"]],"1f4f6":["",["signal_strength"]],"1f4f7":["",["camera"]],"1f4f9":["",["video_camera"]],"1f4fa":["",["tv"]],"1f4fb":["",["radio"]],"1f4fc":["",["vhs"]],"1f500":["",["twisted_rightwards_arrows"]],"1f501":["",["repeat"]],"1f502":["",["repeat_one"]],"1f503":["",["arrows_clockwise"]],"1f504":["",["arrows_counterclockwise"]],"1f505":["",["low_brightness"]],"1f506":["",["high_brightness"]],"1f507":["",["mute"]],"1f508":["",["speaker"]],"1f509":["",["sound"]],"1f50a":["",["loud_sound"]],"1f50b":["",["battery"]],"1f50c":["",["electric_plug"]],"1f50d":["",["mag"]],"1f50e":["",["mag_right"]],"1f50f":["",["lock_with_ink_pen"]],"1f510":["",["closed_lock_with_key"]],"1f511":["",["key"]],"1f512":["",["lock"]],"1f513":["",["unlock"]],"1f514":["",["bell"]],"1f515":["",["no_bell"]],"1f516":["",["bookmark"]],"1f517":["",["link"]],"1f518":["",["radio_button"]],"1f519":["",["back"]],"1f51a":["",["end"]],"1f51b":["",["on"]],"1f51c":["",["soon"]],"1f51d":["",["top"]],"1f51e":["",["underage"]],"1f51f":["",["keycap_ten"]],"1f520":["",["capital_abcd"]],"1f521":["",["abcd"]],"1f522":["",["1234"]],"1f523":["",["symbols"]],"1f524":["",["abc"]],"1f525":["",["fire"]],"1f526":["",["flashlight"]],"1f527":["",["wrench"]],"1f528":["",["hammer"]],"1f529":["",["nut_and_bolt"]],"1f52a":["",["hocho"]],"1f52b":["",["gun"]],"1f52c":["",["microscope"]],"1f52d":["",["telescope"]],"1f52e":["",["crystal_ball"]],"1f52f":["",["six_pointed_star"]],"1f530":["",["beginner"]],"1f531":["",["trident"]],"1f532":["",["black_square_button"]],"1f533":["",["white_square_button"]],"1f534":["",["red_circle"]],"1f535":["",["large_blue_circle"]],"1f536":["",["large_orange_diamond"]],"1f537":["",["large_blue_diamond"]],"1f538":["",["small_orange_diamond"]],"1f539":["",["small_blue_diamond"]],"1f53a":["",["small_red_triangle"]],"1f53b":["",["small_red_triangle_down"]],"1f53c":["",["arrow_up_small"]],"1f53d":["",["arrow_down_small"]],"1f550":["",["clock1"]],"1f551":["",["clock2"]],"1f552":["",["clock3"]],"1f553":["",["clock4"]],"1f554":["",["clock5"]],"1f555":["",["clock6"]],"1f556":["",["clock7"]],"1f557":["",["clock8"]],"1f558":["",["clock9"]],"1f559":["",["clock10"]],"1f55a":["",["clock11"]],"1f55b":["",["clock12"]],"1f55c":["",["clock130"]],"1f55d":["",["clock230"]],"1f55e":["",["clock330"]],"1f55f":["",["clock430"]],"1f560":["",["clock530"]],"1f561":["",["clock630"]],"1f562":["",["clock730"]],"1f563":["",["clock830"]],"1f564":["",["clock930"]],"1f565":["",["clock1030"]],"1f566":["",["clock1130"]],"1f567":["",["clock1230"]],"1f5fb":["",["mount_fuji"]],"1f5fc":["",["tokyo_tower"]],"1f5fd":["",["statue_of_liberty"]],"1f5fe":["",["japan"]],"1f5ff":["",["moyai"]],"1f600":["",["grinning"]],"1f601":["",["grin"]],"1f602":["",["joy"]],"1f603":["",["smiley"],":)"],"1f604":["",["smile"],":)"],"1f605":["",["sweat_smile"]],"1f606":["",["laughing","satisfied"]],"1f607":["",["innocent"]],"1f608":["",["smiling_imp"]],"1f609":["",["wink"],";)"],"1f60a":["",["blush"]],"1f60b":["",["yum"]],"1f60c":["",["relieved"]],"1f60d":["",["heart_eyes"]],"1f60e":["",["sunglasses"]],"1f60f":["",["smirk"]],"1f610":["",["neutral_face"]],"1f611":["",["expressionless"]],"1f612":["",["unamused"]],"1f613":["",["sweat"]],"1f614":["",["pensive"]],"1f615":["",["confused"]],"1f616":["",["confounded"]],"1f617":["",["kissing"]],"1f618":["",["kissing_heart"]],"1f619":["",["kissing_smiling_eyes"]],"1f61a":["",["kissing_closed_eyes"]],"1f61b":["",["stuck_out_tongue"]],"1f61c":["",["stuck_out_tongue_winking_eye"],";p"],"1f61d":["",["stuck_out_tongue_closed_eyes"]],"1f61e":["",["disappointed"],":("],"1f61f":["",["worried"]],"1f620":["",["angry"]],"1f621":["",["rage"]],"1f622":["",["cry"],":'("],"1f623":["",["persevere"]],"1f624":["",["triumph"]],"1f625":["",["disappointed_relieved"]],"1f626":["",["frowning"]],"1f627":["",["anguished"]],"1f628":["",["fearful"]],"1f629":["",["weary"]],"1f62a":["",["sleepy"]],"1f62b":["",["tired_face"]],"1f62c":["",["grimacing"]],"1f62d":["",["sob"],":'("],"1f62e":["",["open_mouth"]],"1f62f":["",["hushed"]],"1f630":["",["cold_sweat"]],"1f631":["",["scream"]],"1f632":["",["astonished"]],"1f633":["",["flushed"]],"1f634":["",["sleeping"]],"1f635":["",["dizzy_face"]],"1f636":["",["no_mouth"]],"1f637":["",["mask"]],"1f638":["",["smile_cat"]],"1f639":["",["joy_cat"]],"1f63a":["",["smiley_cat"]],"1f63b":["",["heart_eyes_cat"]],"1f63c":["",["smirk_cat"]],"1f63d":["",["kissing_cat"]],"1f63e":["",["pouting_cat"]],"1f63f":["",["crying_cat_face"]],"1f640":["",["scream_cat"]],"1f645":["",["no_good"]],"1f646":["",["ok_woman"]],"1f647":["",["bow"]],"1f648":["",["see_no_evil"]],"1f649":["",["hear_no_evil"]],"1f64a":["",["speak_no_evil"]],"1f64b":["",["raising_hand"]],"1f64c":["",["raised_hands"]],"1f64d":["",["person_frowning"]],"1f64e":["",["person_with_pouting_face"]],"1f64f":["",["pray"]],"1f680":["",["rocket"]],"1f681":["",["helicopter"]],"1f682":["",["steam_locomotive"]],"1f683":["",["railway_car"]],"1f68b":["",["train"]],"1f684":["",["bullettrain_side"]],"1f685":["",["bullettrain_front"]],"1f686":["",["train2"]],"1f687":["",["metro"]],"1f688":["",["light_rail"]],"1f689":["",["station"]],"1f68a":["",["tram"]],"1f68c":["",["bus"]],"1f68d":["",["oncoming_bus"]],"1f68e":["",["trolleybus"]],"1f68f":["",["busstop"]],"1f690":["",["minibus"]],"1f691":["",["ambulance"]],"1f692":["",["fire_engine"]],"1f693":["",["police_car"]],"1f694":["",["oncoming_police_car"]],"1f695":["",["taxi"]],"1f696":["",["oncoming_taxi"]],"1f697":["",["car","red_car"]],"1f698":["",["oncoming_automobile"]],"1f699":["",["blue_car"]],"1f69a":["",["truck"]],"1f69b":["",["articulated_lorry"]],"1f69c":["",["tractor"]],"1f69d":["",["monorail"]],"1f69e":["",["mountain_railway"]],"1f69f":["",["suspension_railway"]],"1f6a0":["",["mountain_cableway"]],"1f6a1":["",["aerial_tramway"]],"1f6a2":["",["ship"]],"1f6a3":["",["rowboat"]],"1f6a4":["",["speedboat"]],"1f6a5":["",["traffic_light"]],"1f6a6":["",["vertical_traffic_light"]],"1f6a7":["",["construction"]],"1f6a8":["",["rotating_light"]],"1f6a9":["",["triangular_flag_on_post"]],"1f6aa":["",["door"]],"1f6ab":["",["no_entry_sign"]],"1f6ac":["",["smoking"]],"1f6ad":["",["no_smoking"]],"1f6ae":["",["put_litter_in_its_place"]],"1f6af":["",["do_not_litter"]],"1f6b0":["",["potable_water"]],"1f6b1":["",["non-potable_water"]],"1f6b2":["",["bike"]],"1f6b3":["",["no_bicycles"]],"1f6b4":["",["bicyclist"]],"1f6b5":["",["mountain_bicyclist"]],"1f6b6":["",["walking"]],"1f6b7":["",["no_pedestrians"]],"1f6b8":["",["children_crossing"]],"1f6b9":["",["mens"]],"1f6ba":["",["womens"]],"1f6bb":["",["restroom"]],"1f6bc":["",["baby_symbol"]],"1f6bd":["",["toilet"]],"1f6be":["",["wc"]],"1f6bf":["",["shower"]],"1f6c0":["",["bath"]],"1f6c1":["",["bathtub"]],"1f6c2":["",["passport_control"]],"1f6c3":["",["customs"]],"1f6c4":["",["baggage_claim"]],"1f6c5":["",["left_luggage"]],"0023":["#",["hash"]],"0030":["0",["zero"]],"0031":["1",["one"]],"0032":["2",["two"]],"0033":["3",["three"]],"0034":["4",["four"]],"0035":["5",["five"]],"0036":["6",["six"]],"0037":["7",["seven"]],"0038":["8",["eight"]],"0039":["9",["nine"]],"1f1e8-1f1f3":["",["cn"]],"1f1e9-1f1ea":["",["de"]],"1f1ea-1f1f8":["",["es"]],"1f1eb-1f1f7":["",["fr"]],"1f1ec-1f1e7":["",["gb","uk"]],"1f1ee-1f1f9":["",["it"]],"1f1ef-1f1f5":["",["jp"]],"1f1f0-1f1f7":["",["kr"]],"1f1f7-1f1fa":["",["ru"]],"1f1fa-1f1f8":["",["us"]]},Config.EmojiCategories=[["1f604","1f603","1f600","1f60a","263a","1f609","1f60d","1f618","1f61a","1f617","1f619","1f61c","1f61d","1f61b","1f633","1f601","1f614","1f60c","1f612","1f61e","1f623","1f622","1f602","1f62d","1f62a","1f625","1f630","1f605","1f613","1f629","1f62b","1f628","1f631","1f620","1f621","1f624","1f616","1f606","1f60b","1f637","1f60e","1f634","1f635","1f632","1f61f","1f626","1f627","1f608","1f47f","1f62e","1f62c","1f610","1f615","1f62f","1f636","1f607","1f60f","1f611","1f472","1f473","1f46e","1f477","1f482","1f476","1f466","1f467","1f468","1f469","1f474","1f475","1f471","1f47c","1f478","1f63a","1f638","1f63b","1f63d","1f63c","1f640","1f63f","1f639","1f63e","1f479","1f47a","1f648","1f649","1f64a","1f480","1f47d","1f4a9","1f525","2728","1f31f","1f4ab","1f4a5","1f4a2","1f4a6","1f4a7","1f4a4","1f4a8","1f442","1f440","1f443","1f445","1f444","1f44d","1f44e","1f44c","1f44a","270a","270c","1f44b","270b","1f450","1f446","1f447","1f449","1f448","1f64c","1f64f","261d","1f44f","1f4aa","1f6b6","1f3c3","1f483","1f46b","1f46a","1f46c","1f46d","1f48f","1f491","1f46f","1f646","1f645","1f481","1f64b","1f486","1f487","1f485","1f470","1f64e","1f64d","1f647","1f3a9","1f451","1f452","1f45f","1f45e","1f461","1f460","1f462","1f455","1f454","1f45a","1f457","1f3bd","1f456","1f458","1f459","1f4bc","1f45c","1f45d","1f45b","1f453","1f380","1f302","1f484","1f49b","1f499","1f49c","1f49a","2764","1f494","1f497","1f493","1f495","1f496","1f49e","1f498","1f48c","1f48b","1f48d","1f48e","1f464","1f465","1f4ac","1f463","1f4ad"],["1f436","1f43a","1f431","1f42d","1f439","1f430","1f438","1f42f","1f428","1f43b","1f437","1f43d","1f42e","1f417","1f435","1f412","1f434","1f411","1f418","1f43c","1f427","1f426","1f424","1f425","1f423","1f414","1f40d","1f422","1f41b","1f41d","1f41c","1f41e","1f40c","1f419","1f41a","1f420","1f41f","1f42c","1f433","1f40b","1f404","1f40f","1f400","1f403","1f405","1f407","1f409","1f40e","1f410","1f413","1f415","1f416","1f401","1f402","1f432","1f421","1f40a","1f42b","1f42a","1f406","1f408","1f429","1f43e","1f490","1f338","1f337","1f340","1f339","1f33b","1f33a","1f341","1f343","1f342","1f33f","1f33e","1f344","1f335","1f334","1f332","1f333","1f330","1f331","1f33c","1f310","1f31e","1f31d","1f31a","1f311","1f312","1f313","1f314","1f315","1f316","1f317","1f318","1f31c","1f31b","1f319","1f30d","1f30e","1f30f","1f30b","1f30c","1f320","2b50","2600","26c5","2601","26a1","2614","2744","26c4","1f300","1f301","1f308","1f30a"],["1f38d","1f49d","1f38e","1f392","1f393","1f38f","1f386","1f387","1f390","1f391","1f383","1f47b","1f385","1f384","1f381","1f38b","1f389","1f38a","1f388","1f38c","1f52e","1f3a5","1f4f7","1f4f9","1f4fc","1f4bf","1f4c0","1f4bd","1f4be","1f4bb","1f4f1","260e","1f4de","1f4df","1f4e0","1f4e1","1f4fa","1f4fb","1f50a","1f509","1f508","1f507","1f514","1f515","1f4e3","1f4e2","23f3","231b","23f0","231a","1f513","1f512","1f50f","1f510","1f511","1f50e","1f4a1","1f526","1f506","1f505","1f50c","1f50b","1f50d","1f6c0","1f6c1","1f6bf","1f6bd","1f527","1f529","1f528","1f6aa","1f6ac","1f4a3","1f52b","1f52a","1f48a","1f489","1f4b0","1f4b4","1f4b5","1f4b7","1f4b6","1f4b3","1f4b8","1f4f2","1f4e7","1f4e5","1f4e4","2709","1f4e9","1f4e8","1f4ef","1f4eb","1f4ea","1f4ec","1f4ed","1f4ee","1f4e6","1f4dd","1f4c4","1f4c3","1f4d1","1f4ca","1f4c8","1f4c9","1f4dc","1f4cb","1f4c5","1f4c6","1f4c7","1f4c1","1f4c2","2702","1f4cc","1f4ce","2712","270f","1f4cf","1f4d0","1f4d5","1f4d7","1f4d8","1f4d9","1f4d3","1f4d4","1f4d2","1f4da","1f4d6","1f516","1f4db","1f52c","1f52d","1f4f0","1f3a8","1f3ac","1f3a4","1f3a7","1f3bc","1f3b5","1f3b6","1f3b9","1f3bb","1f3ba","1f3b7","1f3b8","1f47e","1f3ae","1f0cf","1f3b4","1f004","1f3b2","1f3af","1f3c8","1f3c0","26bd","26be","1f3be","1f3b1","1f3c9","1f3b3","26f3","1f6b5","1f6b4","1f3c1","1f3c7","1f3c6","1f3bf","1f3c2","1f3ca","1f3c4","1f3a3","2615","1f375","1f376","1f37c","1f37a","1f37b","1f378","1f379","1f377","1f374","1f355","1f354","1f35f","1f357","1f356","1f35d","1f35b","1f364","1f371","1f363","1f365","1f359","1f358","1f35a","1f35c","1f372","1f362","1f361","1f373","1f35e","1f369","1f36e","1f366","1f368","1f367","1f382","1f370","1f36a","1f36b","1f36c","1f36d","1f36f","1f34e","1f34f","1f34a","1f34b","1f352","1f347","1f349","1f353","1f351","1f348","1f34c","1f350","1f34d","1f360","1f346","1f345","1f33d"],["1f3e0","1f3e1","1f3eb","1f3e2","1f3e3","1f3e5","1f3e6","1f3ea","1f3e9","1f3e8","1f492","26ea","1f3ec","1f3e4","1f307","1f306","1f3ef","1f3f0","26fa","1f3ed","1f5fc","1f5fe","1f5fb","1f304","1f305","1f303","1f5fd","1f309","1f3a0","1f3a1","26f2","1f3a2","1f6a2","26f5","1f6a4","1f6a3","2693","1f680","2708","1f4ba","1f681","1f682","1f68a","1f689","1f69e","1f686","1f684","1f685","1f688","1f687","1f69d","1f683","1f68b","1f68e","1f68c","1f68d","1f699","1f698","1f697","1f695","1f696","1f69b","1f69a","1f6a8","1f693","1f694","1f692","1f691","1f690","1f6b2","1f6a1","1f69f","1f6a0","1f69c","1f488","1f68f","1f3ab","1f6a6","1f6a5","26a0","1f6a7","1f530","26fd","1f3ee","1f3b0","2668","1f5ff","1f3aa","1f3ad","1f4cd","1f6a9","1f1ef-1f1f5","1f1f0-1f1f7","1f1e9-1f1ea","1f1e8-1f1f3","1f1fa-1f1f8","1f1eb-1f1f7","1f1ea-1f1f8","1f1ee-1f1f9","1f1f7-1f1fa","1f1ec-1f1e7"],["0031","0032","0033","0034","0035","0036","0037","0038","0039","0030","1f51f","1f522","0023","1f523","2b06","2b07","2b05","27a1","1f520","1f521","1f524","2197","2196","2198","2199","2194","2195","1f504","25c0","25b6","1f53c","1f53d","21a9","21aa","2139","23ea","23e9","23eb","23ec","2935","2934","1f197","1f500","1f501","1f502","1f195","1f199","1f192","1f193","1f196","1f4f6","1f3a6","1f201","1f22f","1f233","1f235","1f234","1f232","1f250","1f239","1f23a","1f236","1f21a","1f6bb","1f6b9","1f6ba","1f6bc","1f6be","1f6b0","1f6ae","1f17f","267f","1f6ad","1f237","1f238","1f202","24c2","1f6c2","1f6c4","1f6c5","1f6c3","1f251","3299","3297","1f191","1f198","1f194","1f6ab","1f51e","1f4f5","1f6af","1f6b1","1f6b3","1f6b7","1f6b8","26d4","2733","2747","274e","2705","2734","1f49f","1f19a","1f4f3","1f4f4","1f170","1f171","1f18e","1f17e","1f4a0","27bf","267b","2648","2649","264a","264b","264c","264d","264e","264f","2650","2651","2652","2653","26ce","1f52f","1f3e7","1f4b9","1f4b2","1f4b1","00a9","00ae","2122","274c","203c","2049","2757","2753","2755","2754","2b55","1f51d","1f51a","1f519","1f51b","1f51c","1f503","1f55b","1f567","1f550","1f55c","1f551","1f55d","1f552","1f55e","1f553","1f55f","1f554","1f560","1f555","1f556","1f557","1f558","1f559","1f55a","1f561","1f562","1f563","1f564","1f565","1f566","2716","2795","2796","2797","2660","2665","2663","2666","1f4ae","1f4af","2714","2611","1f518","1f517","27b0","3030","303d","1f531","25fc","25fb","25fe","25fd","25aa","25ab","1f53a","1f532","1f533","26ab","26aa","1f534","1f535","1f53b","2b1c","2b1b","1f536","1f537","1f538","1f539"]],Config.EmojiCategorySpritesheetDimens=[[7,27],[4,29],[7,33],[3,34],[7,34]],Config.LatinizeMap={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D",
"":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"ET","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"F","":"G","":"R","":"S","":"T","":"IS","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"E","":"O","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"C","":"E","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"SS","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"A","":"L","":"M","":"V","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"IJ","":"OE","":"A","":"AE","":"B","":"B","":"C","":"D","":"E","":"F","":"G","":"G","":"H","":"I","":"R","":"J","":"K","":"L","":"L","":"M","":"N","":"O","":"OE","":"O","":"OU","":"P","":"R","":"N","":"R","":"S","":"T","":"E","":"R","":"U","":"V","":"W","":"Y","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"o","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"i","":"j","":"j","":"j","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"et","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"f","":"g","":"r","":"s","":"t","":"is","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"s","":"s","":"s","":"s","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"oo","":"e","":"e","":"o","":"o","":"ou","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"c","":"c","":"e","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"g","":"ss","":"o","":"o","":"u","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"th","":"a","":"ae","":"e","":"g","":"h","":"h","":"h","":"i","":"k","":"l","":"m","":"m","":"oe","":"r","":"r","":"r","":"r","":"t","":"v","":"w","":"y","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"ue","":"um","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"ff","":"ffi","":"ffl","":"fi","":"fl","":"ij","":"oe","":"st","":"a","":"e","":"i","":"j","":"o","":"r","":"u","":"v","":"x","":"YO","":"I","":"TS","":"U","":"K","":"E","":"N","":"G","":"SH","":"SCH","":"Z","":"H","":"","":"yo","":"i","":"ts","":"u","":"k","":"e","":"n","":"g","":"sh","":"sch","":"z","":"h","":"","":"F","":"I","":"V","":"A","":"P","":"R","":"O","":"L","":"D","":"ZH","":"E","":"f","":"i","":"v","":"a","":"p","":"r","":"o","":"l","":"d","":"zh","":"e","":"Ya","":"CH","":"S","":"M","":"I","":"T","":"","":"B","":"YU","":"ya","":"ch","":"s","":"m","":"i","":"t","":"","":"b","":"yu"},Config.CountryCodes=[["AB","country_select_modal_country_ab","+7 840","+7 940","+995 44"],["AF","country_select_modal_country_af","+93"],["AX","country_select_modal_country_ax","+358 18"],["AL","country_select_modal_country_al","+355"],["DZ","country_select_modal_country_dz","+213"],["AS","country_select_modal_country_as","+1 684"],["AD","country_select_modal_country_ad","+376"],["AO","country_select_modal_country_ao","+244"],["AI","country_select_modal_country_ai","+1 264"],["AG","country_select_modal_country_ag","+1 268"],["AR","country_select_modal_country_ar","+54"],["AM","country_select_modal_country_am","+374"],["AW","country_select_modal_country_aw","+297"],["SH","country_select_modal_country_sh_ac","+247"],["AU","country_select_modal_country_au","+61"],["AU","country_select_modal_country_au_et","+672"],["AT","country_select_modal_country_at","+43"],["AZ","country_select_modal_country_az","+994"],["BS","country_select_modal_country_bs","+1 242"],["BH","country_select_modal_country_bh","+973"],["BD","country_select_modal_country_bd","+880"],["BB","country_select_modal_country_bb","+1 246"],["AG","country_select_modal_country_ag_bar","+1 268"],["BY","country_select_modal_country_by","+375"],["BE","country_select_modal_country_be","+32"],["BZ","country_select_modal_country_bz","+501"],["BJ","country_select_modal_country_bj","+229"],["BM","country_select_modal_country_bm","+1 441"],["BT","country_select_modal_country_bt","+975"],["BO","country_select_modal_country_bo","+591"],["BQ","country_select_modal_country_bq","+599 7"],["BA","country_select_modal_country_ba","+387"],["BW","country_select_modal_country_bw","+267"],["BR","country_select_modal_country_br","+55"],["IO","country_select_modal_country_io","+246"],["VG","country_select_modal_country_vg","+1 284"],["BN","country_select_modal_country_bn","+673"],["BG","country_select_modal_country_bg","+359"],["BF","country_select_modal_country_bf","+226"],["MY","country_select_modal_country_mm","+95"],["BI","country_select_modal_country_bi","+257"],["KH","country_select_modal_country_kh","+855"],["CM","country_select_modal_country_cm","+237"],["CA","country_select_modal_country_ca","+1"],["CV","country_select_modal_country_cv","+238"],["KY","country_select_modal_country_ky","+1 345"],["CF","country_select_modal_country_cf","+236"],["TD","country_select_modal_country_td","+235"],["CL","country_select_modal_country_cl","+56"],["CN","country_select_modal_country_cn","+86"],["CX","country_select_modal_country_cx","+61"],["CC","country_select_modal_country_cc","+61"],["CO","country_select_modal_country_co","+57"],["KM","country_select_modal_country_km","+269"],["CG","country_select_modal_country_cg","+242"],["CD","country_select_modal_country_cd","+243"],["CK","country_select_modal_country_ck","+682"],["CR","country_select_modal_country_cr","+506"],["CI","country_select_modal_country_ci","+225"],["HR","country_select_modal_country_hr","+385"],["CU","country_select_modal_country_cu","+53"],["CW","country_select_modal_country_cw","+599 9"],["CY","country_select_modal_country_cy","+357"],["CZ","country_select_modal_country_cz","+420"],["DK","country_select_modal_country_dk","+45"],["DG","country_select_modal_country_dg","+246"],["DJ","country_select_modal_country_dj","+253"],["DM","country_select_modal_country_dm","+1 767"],["DO","country_select_modal_country_do","+1 809","+1 829","+1 849"],["TL","country_select_modal_country_tl","+670"],["EC","country_select_modal_country_ec","+593"],["EG","country_select_modal_country_eg","+20"],["SV","country_select_modal_country_sv","+503"],["GQ","country_select_modal_country_gq","+240"],["ER","country_select_modal_country_er","+291"],["EE","country_select_modal_country_ee","+372"],["ET","country_select_modal_country_et","+251"],["FK","country_select_modal_country_fk","+500"],["FO","country_select_modal_country_fo","+298"],["FJ","country_select_modal_country_fj","+679"],["FI","country_select_modal_country_fi","+358"],["FR","country_select_modal_country_fr","+33"],["GF","country_select_modal_country_gf","+594"],["PF","country_select_modal_country_pf","+689"],["GA","country_select_modal_country_ga","+241"],["GM","country_select_modal_country_gm","+220"],["GE","country_select_modal_country_ge","+995"],["DE","country_select_modal_country_de","+49"],["GH","country_select_modal_country_gh","+233"],["GI","country_select_modal_country_gi","+350"],["GR","country_select_modal_country_gr","+30"],["GL","country_select_modal_country_gl","+299"],["GD","country_select_modal_country_gd","+1 473"],["GP","country_select_modal_country_gp","+590"],["GU","country_select_modal_country_gu","+1 671"],["GT","country_select_modal_country_gt","+502"],["GG","country_select_modal_country_gg","+44"],["GN","country_select_modal_country_gn","+224"],["GW","country_select_modal_country_gw","+245"],["GY","country_select_modal_country_gy","+592"],["HT","country_select_modal_country_ht","+509"],["HN","country_select_modal_country_hn","+504"],["HK","country_select_modal_country_hk","+852"],["HU","country_select_modal_country_hu","+36"],["IS","country_select_modal_country_is","+354"],["IN","country_select_modal_country_in","+91"],["ID","country_select_modal_country_id","+62"],["IR","country_select_modal_country_ir","+98"],["IQ","country_select_modal_country_iq","+964"],["IE","country_select_modal_country_ie","+353"],["IL","country_select_modal_country_il","+972"],["IT","country_select_modal_country_it","+39"],["JM","country_select_modal_country_jm","+1 876"],["SJ","country_select_modal_country_sj","+47 79"],["JP","country_select_modal_country_jp","+81"],["JE","country_select_modal_country_je","+44"],["JO","country_select_modal_country_jo","+962"],["KZ","country_select_modal_country_kz","+7 6","+7 7"],["KE","country_select_modal_country_ke","+254"],["KI","country_select_modal_country_ki","+686"],["KP","country_select_modal_country_kp","+850"],["KR","country_select_modal_country_kr","+82"],["KW","country_select_modal_country_kw","+965"],["KG","country_select_modal_country_kg","+996"],["LA","country_select_modal_country_la","+856"],["LV","country_select_modal_country_lv","+371"],["LB","country_select_modal_country_lb","+961"],["LS","country_select_modal_country_ls","+266"],["LR","country_select_modal_country_lr","+231"],["LY","country_select_modal_country_ly","+218"],["LI","country_select_modal_country_li","+423"],["LT","country_select_modal_country_lt","+370"],["LU","country_select_modal_country_lu","+352"],["MO","country_select_modal_country_mo","+853"],["MK","country_select_modal_country_mk","+389"],["MG","country_select_modal_country_mg","+261"],["MW","country_select_modal_country_mw","+265"],["MY","country_select_modal_country_my","+60"],["MV","country_select_modal_country_mv","+960"],["ML","country_select_modal_country_ml","+223"],["MT","country_select_modal_country_mt","+356"],["MH","country_select_modal_country_mh","+692"],["MQ","country_select_modal_country_mq","+596"],["MR","country_select_modal_country_mr","+222"],["MU","country_select_modal_country_mu","+230"],["YT","country_select_modal_country_yt","+262"],["MX","country_select_modal_country_mx","+52"],["FM","country_select_modal_country_fm","+691"],["MD","country_select_modal_country_md","+373"],["MC","country_select_modal_country_mc","+377"],["MN","country_select_modal_country_mn","+976"],["ME","country_select_modal_country_me","+382"],["MS","country_select_modal_country_ms","+1 664"],["MA","country_select_modal_country_ma","+212"],["MZ","country_select_modal_country_mz","+258"],["NA","country_select_modal_country_na","+264"],["NR","country_select_modal_country_nr","+674"],["NP","country_select_modal_country_np","+977"],["NL","country_select_modal_country_nl","+31"],["NC","country_select_modal_country_nc","+687"],["NZ","country_select_modal_country_nz","+64"],["NI","country_select_modal_country_ni","+505"],["NE","country_select_modal_country_ne","+227"],["NG","country_select_modal_country_ng","+234"],["NU","country_select_modal_country_nu","+683"],["NF","country_select_modal_country_nf","+672"],["MP","country_select_modal_country_mp","+1 670"],["NO","country_select_modal_country_no","+47"],["OM","country_select_modal_country_om","+968"],["PK","country_select_modal_country_pk","+92"],["PW","country_select_modal_country_pw","+680"],["PS","country_select_modal_country_ps","+970"],["PA","country_select_modal_country_pa","+507"],["PG","country_select_modal_country_pg","+675"],["PY","country_select_modal_country_py","+595"],["PE","country_select_modal_country_pe","+51"],["PH","country_select_modal_country_ph","+63"],["PN","country_select_modal_country_pn","+64"],["PL","country_select_modal_country_pl","+48"],["PT","country_select_modal_country_pt","+351"],["PR","country_select_modal_country_pr","+1 787","+1 939"],["QA","country_select_modal_country_qa","+974"],["RE","country_select_modal_country_re","+262"],["RO","country_select_modal_country_ro","+40"],["RU","country_select_modal_country_ru","+7"],["RW","country_select_modal_country_rw","+250"],["BL","country_select_modal_country_bl","+590"],["SH","country_select_modal_country_sh","+290"],["KN","country_select_modal_country_kn","+1 869"],["LC","country_select_modal_country_lc","+1 758"],["MF","country_select_modal_country_mf","+590"],["PM","country_select_modal_country_pm","+508"],["VC","country_select_modal_country_vc","+1 784"],["WS","country_select_modal_country_ws","+685"],["SM","country_select_modal_country_sm","+378"],["ST","country_select_modal_country_st","+239"],["SA","country_select_modal_country_sa","+966"],["SN","country_select_modal_country_sn","+221"],["RS","country_select_modal_country_rs","+381"],["SC","country_select_modal_country_sc","+248"],["SL","country_select_modal_country_sl","+232"],["SG","country_select_modal_country_sg","+65"],["BQ","country_select_modal_country_nl_bq3","+599 3"],["SX","country_select_modal_country_sx","+1 721"],["SK","country_select_modal_country_sk","+421"],["SI","country_select_modal_country_si","+386"],["SB","country_select_modal_country_sb","+677"],["SO","country_select_modal_country_so","+252"],["ZA","country_select_modal_country_za","+27"],["GS","country_select_modal_country_gs","+500"],[!1,"country_select_modal_country_ge_so","+995 34"],["SS","country_select_modal_country_ss","+211"],["ES","country_select_modal_country_es","+34"],["LK","country_select_modal_country_lk","+94"],["SD","country_select_modal_country_sd","+249"],["SR","country_select_modal_country_sr","+597"],["SJ","country_select_modal_country_sj_no","+47 79"],["SZ","country_select_modal_country_sz","+268"],["SE","country_select_modal_country_se","+46"],["CH","country_select_modal_country_ch","+41"],["SY","country_select_modal_country_sy","+963"],["TW","country_select_modal_country_tw","+886"],["TJ","country_select_modal_country_tj","+992"],["TZ","country_select_modal_country_tz","+255"],["TH","country_select_modal_country_th","+66"],["TG","country_select_modal_country_tg","+228"],["TK","country_select_modal_country_tk","+690"],["TO","country_select_modal_country_to","+676"],["TT","country_select_modal_country_tt","+1 868"],["TN","country_select_modal_country_tn","+216"],["TR","country_select_modal_country_tr","+90"],["TM","country_select_modal_country_tm","+993"],["TC","country_select_modal_country_tc","+1 649"],["TV","country_select_modal_country_tv","+688"],["UG","country_select_modal_country_ug","+256"],["UA","country_select_modal_country_ua","+380"],["AE","country_select_modal_country_ae","+971"],["UK","country_select_modal_country_uk","+44"],["US","country_select_modal_country_us","+1"],["UY","country_select_modal_country_uy","+598"],["VI","country_select_modal_country_vi","+1 340"],["UZ","country_select_modal_country_uz","+998"],["VU","country_select_modal_country_vu","+678"],["VE","country_select_modal_country_ve","+58"],["VA","country_select_modal_country_va","+39 06 698","+379"],["VN","country_select_modal_country_vn","+84"],["WF","country_select_modal_country_wf","+681"],["YE","country_select_modal_country_ye","+967"],["ZM","country_select_modal_country_zm","+260"],[!1,"country_select_modal_country_tz_uk","+255"],["ZW","country_select_modal_country_zw","+263"]],Config.LangCountries={es:"ES",ru:"RU",en:"US",de:"DE",it:"IT",nl:"NL",fr:"FR",ca:"ES","es-419":"MX",ar:"SA",he:"IL",tr:"TR",id:"ID",pl:"PL"},function(e){function t(e){s=e}function n(){c=!0}function r(){return c?(c=!1,""):s}function i(){var e,t,n,i=Array.prototype.slice.call(arguments),a=i.pop(),o=[],s=1==i.length,c=!0,p=r();for(t=0;t<i.length;t++)if(n=i[t]=p+i[t],"xt_"!=n.substr(0,3)&&void 0!==l[n])o.push(l[n]);else if(u){try{e=localStorage.getItem(n)}catch(m){u=!1}try{e=void 0===e||null===e?!1:JSON.parse(e)}catch(m){e=!1}o.push(l[n]=e)}else d?c=!1:o.push(l[n]=!1);return c?a(s?o[0]:o):void chrome.storage.local.get(i,function(e){var r;for(o=[],t=0;t<i.length;t++)n=i[t],r=e[n],r=void 0===r||null===r?!1:JSON.parse(r),o.push(l[n]=r);a(s?o[0]:o)})}function a(e,t){var n,i,a={},o=r();for(n in e)if(e.hasOwnProperty(n))if(i=e[n],n=o+n,l[n]=i,i=JSON.stringify(i),u)try{localStorage.setItem(n,i)}catch(s){u=!1}else a[n]=i;return u||!d?void(t&&t()):void chrome.storage.local.set(a,t)}function o(){var e,t,n,i=Array.prototype.slice.call(arguments),a=r();for("function"==typeof i[i.length-1]&&(n=i.pop()),e=0;e<i.length;e++)if(t=i[e]=a+i[e],delete l[t],u)try{localStorage.removeItem(t)}catch(o){u=!1}d?chrome.storage.local.remove(i,n):n&&n()}var s="",c=!1,l={},d=!!(e.chrome&&chrome.storage&&chrome.storage.local),u=!d&&!!e.localStorage;e.ConfigStorage={prefix:t,noPrefix:n,get:i,set:a,remove:o}}(this),function(){try{window==window.top||window.chrome&&chrome.app&&chrome.app.window?document.documentElement.style.display="block":top.location=self.location}catch(e){console.error("CJ protection",e)}if(window.safeConfirm=function(e,t){"string"==typeof e&&(e={message:e});var n=!1;try{n=confirm(e.message)}catch(r){n=!0}setTimeout(function(){t(n)},10)},window.applicationCache&&!Config.Modes.packed&&window.addEventListener){var t=window.applicationCache,n=!1,r=!1,i=function(e){clearTimeout(r),r=setTimeout(function(){try{t.update()}catch(e){console.log("appCache.update: "+e)}},e||3e5)},a=function(){t.addEventListener("updateready",function(e){t.status==t.UPDATEREADY&&(n||(safeConfirm({type:"WEBOGRAM_UPDATED_RELOAD",message:"A new version of Webogram is downloaded. Launch it?"},function(e){e?window.location.reload():n=!0}),i()))},!1),t.addEventListener("noupdate",function(){i()},!1),t.addEventListener("error",function(){i()},!1)};i(3e3),window.addEventListener("load",a)}}(),function(){var e=[Config.Navigator.osX?"osx":"non_osx",Config.Navigator.retina?"is_2x":"is_1x"];Config.Modes.ios_standalone&&e.push("ios_standalone"),$(document.body).addClass(e.join(" ")),ConfigStorage.get("layout_selected","i18n_locale",function(e){var t=e[0],n=e[1],r="en-us",i={dom:!1,i18n_ng:!1,i18n_messages:!1,i18n_fallback:!1},a=function(){var e,t=!0;for(e in i)if(i.hasOwnProperty(e)&&i[e]===!1){t=!1;break}t&&(i.boot=!1,angular.bootstrap(document,["myApp"]))};switch(t){case"mobile":Config.Mobile=!0;break;case"desktop":Config.Mobile=!1;break;default:var o=$(window).width();Config.Mobile=Config.Navigator.mobile||o>10&&480>o}$("head").append('<link rel="stylesheet" href="css/'+(Config.Mobile?"mobile.css":"desktop.css")+'" />'),n||(n=(navigator.language||"").toLowerCase(),n=Config.I18n.aliases[n]||n);for(var s=0;s<Config.I18n.supported.length;s++)if(Config.I18n.supported[s]==n){Config.I18n.locale=n;break}i.i18n_ng=Config.I18n.locale==r,$.getJSON("js/locales/"+Config.I18n.locale+".json").success(function(e){Config.I18n.messages=e,i.i18n_messages=!0,Config.I18n.locale==r&&(i.i18n_fallback=!0),a()}),Config.I18n.locale!=r&&$.getJSON("js/locales/"+r+".json").success(function(e){Config.I18n.fallback_messages=e,i.i18n_fallback=!0,a()}),$(document).ready(function(){i.dom=!0,i.i18n_ng?a():$("<script>").appendTo("body").on("load",function(){i.i18n_ng=!0,a()}).attr("src","vendor/angular/i18n/angular-locale_"+Config.I18n.locale+".js")})})}(),function(e,t,n){"use strict";var r,i,a,o,s,c,l,d,u,p,m,h,g,f,_,v,y,b,w,k,$,S,C,M,A,x,E,T,I,D,P;C={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},b="scrollbar",y="scroll",u="mousedown",p="mouseenter",m="mousemove",g="mousewheel",h="mouseup",v="resize",s="drag",c="enter",k="up",_="panedown",a="DOMMouseScroll",o="down",$="wheel",l="keydown",d="keyup",w="touchmove",r="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,i=null,E=t.requestAnimationFrame,S=t.cancelAnimationFrame,I=n.createElement("div").style,P=function(){var e,t,n,r,i,a;for(r=["t","webkitT","MozT","msT","OT"],e=i=0,a=r.length;a>i;e=++i)if(n=r[e],t=r[e]+"ransform",t in I)return r[e].substr(0,r[e].length-1);return!1}(),D=function(e){return P===!1?!1:""===P?e:P+e.charAt(0).toUpperCase()+e.substr(1)},T=D("transform"),A=T!==!1,M=function(){var e,t,r;return e=n.createElement("div"),t=e.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=y,t.top="-9999px",n.body.appendChild(e),r=e.offsetWidth-e.clientWidth,n.body.removeChild(e),r},x=function(){var e,n,r;return n=t.navigator.userAgent,(e=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(r=/Firefox\/\d{2}\./.exec(n),r&&(r=r[0].replace(/\D+/g,"")),e&&+r>23):!1},f=function(){function l(r,a){this.el=r,this.options=a,i||(i=M()),this.$el=e(this.el),this.doc=e(this.options.documentContext||n),this.win=e(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+a.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&(null!=this.el.style.WebkitOverflowScrolling||navigator.userAgent.match(/mobi.+Gecko/i))?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return l.prototype.preventScrolling=function(e,t){if(this.isActive)if(e.type===a)(t===o&&e.originalEvent.detail>0||t===k&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===g){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===o&&e.originalEvent.wheelDelta<0||t===k&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}},l.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},l.prototype.updateScrollValues=function(){var e,t;e=this.content,this.maxScrollTop=e.scrollHeight-e.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=e.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},l.prototype.setOnScrollStyles=function(){var e;A?(e={},e[T]="translate(0, "+this.sliderTop+"px)"):e={top:this.sliderTop},E?(S&&this.scrollRAF&&S(this.scrollRAF),this.scrollRAF=E(function(t){return function(){return t.scrollRAF=null,t.slider.css(e)}}(this))):this.slider.css(e)},l.prototype.createEvents=function(){this.events={down:function(e){return function(t){return e.isBeingDragged=!0,e.offsetY=t.pageY-e.slider.offset().top,e.slider.is(t.target)||(e.offsetY=0),e.pane.addClass("active"),e.doc.bind(m,e.events[s]).bind(h,e.events[k]),e.body.bind(p,e.events[c]),!1}}(this),drag:function(e){return function(t){return e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||.5*e.sliderHeight),e.scroll(),e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):0===e.contentScrollTop&&0!==e.prevScrollTop&&e.$el.trigger("scrolltop"),!1}}(this),up:function(e){return function(t){return e.isBeingDragged=!1,e.pane.removeClass("active"),e.doc.unbind(m,e.events[s]).unbind(h,e.events[k]),e.body.unbind(p,e.events[c]),!1}}(this),resize:function(e){return function(t){e.reset()}}(this),panedown:function(e){return function(t){return e.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*e.sliderHeight,e.scroll(),e.events.down(t),!1}}(this),scroll:function(e){return function(t){e.updateScrollValues(),e.isBeingDragged||(e.iOSNativeScrolling||(e.sliderY=e.sliderTop,e.setOnScrollStyles()),null!=t&&(e.contentScrollTop>=e.maxScrollTop?(e.options.preventPageScrolling&&e.preventScrolling(t,o),e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")):0===e.contentScrollTop&&(e.options.preventPageScrolling&&e.preventScrolling(t,k),0!==e.prevScrollTop&&e.$el.trigger("scrolltop"))))}}(this),wheel:function(e){return function(t){var n;if(null!=t)return n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,n&&(e.sliderY+=-n/3),e.scroll(),!1}}(this),enter:function(e){return function(t){var n;if(e.isBeingDragged)return 1!==(t.buttons||t.which)?(n=e.events)[k].apply(n,arguments):void 0}}(this)}},l.prototype.addEvents=function(){var e;this.removeEvents(),e=this.events,this.options.disableResize||this.win.bind(v,e[v]),this.iOSNativeScrolling||(this.slider.bind(u,e[o]),this.pane.bind(u,e[_]).bind(""+g+" "+a,e[$])),this.$content.bind(""+y+" "+g+" "+a+" "+w,e[y])},l.prototype.removeEvents=function(){var e;e=this.events,this.win.unbind(v,e[v]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+y+" "+g+" "+a+" "+w,e[y])},l.prototype.generate=function(){var e,n,r,a,o,s,c;return a=this.options,s=a.paneClass,c=a.sliderClass,e=a.contentClass,(o=this.$el.children("."+s)).length||o.children("."+c).length||this.$el.append('<div class="'+s+'"><div class="'+c+'" /></div>'),this.pane=this.$el.children("."+s),this.slider=this.pane.find("."+c),0===i&&x()?(r=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),n={right:-14,paddingRight:+r+14}):i&&(n={right:-i},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},l.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},l.prototype.reset=function(){var e,t,n,a,o,s,c,l,d,u,p,m;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),e=this.content,a=e.style,o=a.overflowY,r&&this.$content.css({height:this.$content.height()}),t=e.scrollHeight+i,u=parseInt(this.$el.css("max-height"),10),u>0&&(this.$el.height(""),this.$el.height(e.scrollHeight>u?u:e.scrollHeight)),c=this.pane.outerHeight(!1),d=parseInt(this.pane.css("top"),10),s=parseInt(this.pane.css("bottom"),10),l=c+d+s,m=Math.round(l/t*l),m<this.options.sliderMinHeight?m=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&m>this.options.sliderMaxHeight&&(m=this.options.sliderMaxHeight),o===y&&a.overflowX!==y&&(m+=i),this.maxSliderTop=l-m,this.contentHeight=t,this.paneHeight=c,this.paneOuterHeight=l,this.sliderHeight=m,this.paneTop=d,this.slider.height(m),this.events.scroll(),this.pane.show(),this.isActive=!0,e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&o!==y?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===e.scrollHeight&&o===y?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(p=parseInt(this.$content.css("right"),10),p&&this.$content.css({right:"",marginRight:p})),this)},l.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},l.prototype.scrollBottom=function(e){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(g),this.stop().restore(),this):void 0},l.prototype.scrollTop=function(e){return this.isActive?(this.$content.scrollTop(+e).trigger(g),this.stop().restore(),this):void 0},l.prototype.scrollTo=function(e){return this.isActive?(this.scrollTop(this.$el.find(e).get(0).offsetTop),this):void 0},l.prototype.stop=function(){return S&&this.scrollRAF&&(S(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},l.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),r&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},l.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(e){return function(){e.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0;

},l}(),e.fn.nanoScroller=function(t){return this.each(function(){var n,r;if((r=this.nanoscroller)||(n=e.extend({},C,t),this.nanoscroller=r=new f(this,n)),t&&"object"==typeof t){if(e.extend(r.options,t),null!=t.scrollBottom)return r.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return r.scrollTop(t.scrollTop);if(t.scrollTo)return r.scrollTo(t.scrollTo);if("bottom"===t.scroll)return r.scrollBottom(0);if("top"===t.scroll)return r.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return r.scrollTo(t.scroll);if(t.stop)return r.stop();if(t.destroy)return r.destroy();if(t.flash)return r.flash()}return r.reset()})},e.fn.nanoScroller.Constructor=f}(jQuery,window,document),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=arguments[0],a="["+(e?e+":":"")+i+"] ",o=arguments[1],s=arguments,c=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(n=a+o.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<s.length?(t=s[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?j(t):t):e}),n=n+"\nhttp://errors.angularjs.org/1.3.2/"+(e?e+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(c(arguments[r]));return new t(n)}}function i(e){if(null==e||C(e))return!1;var t=e.length;return e.nodeType===lr&&t?!0:b(e)||nr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r,o;if(e)if($(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(nr(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);return e}function o(e){return Object.keys(e).sort()}function s(e,t,n){for(var r=o(e),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function c(e){return function(t,n){e(n,t)}}function l(){return++er}function d(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e){for(var t=e.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var a=Object.keys(i),o=0,s=a.length;s>o;o++){var c=a[o];e[c]=i[c]}}return d(e,t),e}function p(e){return parseInt(e,10)}function m(e,t){return u(new(u(function(){},{prototype:e})),t)}function h(){}function g(e){return e}function f(e){return function(){return e}}function _(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return"string"==typeof e}function w(e){return"number"==typeof e}function k(e){return"[object Date]"===Xn.call(e)}function $(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Xn.call(e)}function C(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"[object File]"===Xn.call(e)}function x(e){return"[object Blob]"===Xn.call(e)}function E(e){return"boolean"==typeof e}function T(e){return e&&$(e.then)}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function D(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function P(e){return Bn(e.nodeName||e[0].nodeName)}function N(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function U(e,t,n,r){if(C(e)||M(e))throw Jn("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw Jn("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],y(e)){var i=n.indexOf(e);if(-1!==i)return r[i];n.push(e),r.push(t)}var o;if(nr(e)){t.length=0;for(var s=0;s<e.length;s++)o=U(e[s],null,n,r),y(e[s])&&(n.push(e[s]),r.push(o)),t.push(o)}else{var c=t.$$hashKey;nr(t)?t.length=0:a(t,function(e,n){delete t[n]});for(var l in e)e.hasOwnProperty(l)&&(o=U(e[l],null,n,r),y(e[l])&&(n.push(e[l]),r.push(o)),t[l]=o);d(t,c)}}else if(t=e,e)if(nr(e))t=U(e,[],n,r);else if(k(e))t=new Date(e.getTime());else if(S(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(y(e)){var u=Object.create(Object.getPrototypeOf(e));t=U(e,u,n,r)}return t}function O(e,t){if(nr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function L(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,a,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!nr(e)){if(k(e))return k(t)?L(e.getTime(),t.getTime()):!1;if(S(e)&&S(t))return e.toString()==t.toString();if(M(e)||M(t)||C(e)||C(t)||nr(t))return!1;a={};for(i in e)if("$"!==i.charAt(0)&&!$(e[i])){if(!L(e[i],t[i]))return!1;a[i]=!0}for(i in t)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!$(t[i]))return!1;return!0}if(!nr(t))return!1;if((r=e.length)==t.length){for(i=0;r>i;i++)if(!L(e[i],t[i]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(Kn.call(t,n))}function B(e,t){return Kn.call(e,t||0)}function F(e,t){var n=arguments.length>2?B(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Kn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:C(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":M(r)&&(i="$SCOPE"),i}function j(e,t){return"undefined"==typeof e?n:JSON.stringify(e,q,t?"  ":null)}function H(e){return b(e)?JSON.parse(e):e}function z(e){e=Vn(e).clone();try{e.empty()}catch(t){}var n=Vn("<div>").append(e).html();try{return e[0].nodeType===dr?Bn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Bn(t)})}catch(t){return Bn(n)}}function V(e){try{return decodeURIComponent(e)}catch(t){}}function W(e){var t,n,r={};return a((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=V(t[0]),v(n))){var i=v(t[1])?V(t[1]):!0;Fn.call(r,n)?nr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function G(e){var t=[];return a(e,function(e,n){nr(e)?a(e,function(e){t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(e===!0?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function K(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,r,i=or.length;for(e=Vn(e),r=0;i>r;++r)if(n=or[r]+t,b(n=e.attr(n)))return n;return null}function X(e,t){var n,r,i={};a(or,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),a(or,function(t){var i,a=t+"app";!n&&(i=e.querySelector("["+a.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(a))}),n&&(i.strictDi=null!==Z(n,"strict-di"),t(n,r?[r]:[],i))}function J(n,r,i){y(i)||(i={});var o={strictDi:!1};i=u(o,i);var s=function(){if(n=Vn(n),n.injector()){var e=n[0]===t?"document":z(n);throw Jn("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var a=Fe(r,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),void(Qn.resumeBootstrap=function(e){a(e,function(e){r.push(e)}),s()}))}function Q(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ee(e){return Qn.element(e).injector().get("$$testability")}function te(e,t){return t=t||"_",e.replace(sr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ne(){var t;cr||(Wn=e.jQuery,Wn&&Wn.fn.on?(Vn=Wn,u(Wn.fn,{scope:xr.scope,isolateScope:xr.isolateScope,controller:xr.controller,injector:xr.injector,inheritedData:xr.inheritedData}),t=Wn.cleanData,Wn.cleanData=function(e){var n;if(tr)tr=!1;else for(var r,i=0;null!=(r=e[i]);i++)n=Wn._data(r,"events"),n&&n.$destroy&&Wn(r).triggerHandler("$destroy");t(e)}):Vn=_e,Qn.element=Vn,cr=!0)}function re(e,t,n){if(!e)throw Jn("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ie(e,t,n){return n&&nr(e)&&(e=e[e.length-1]),re($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ae(e,t){if("hasOwnProperty"===e)throw Jn("badname","hasOwnProperty is not a valid {0} name",t)}function oe(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;o>s;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&$(e)?F(a,e):e}function se(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return Vn(r)}function ce(){return Object.create(null)}function le(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||r,t(a,"module",function(){var e={};return function(r,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),l}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var t=[],i=[],s=[],c=e("$injector","invoke","push",i),l={_invokeQueue:t,_configBlocks:i,_runBlocks:s,requires:a,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(e){return s.push(e),this}};return o&&c(o),l})}})}function de(t){u(t,{bootstrap:J,copy:U,extend:u,equals:L,element:Vn,forEach:a,injector:Fe,noop:h,bind:F,toJson:j,fromJson:H,identity:g,isUndefined:_,isDefined:v,isString:b,isFunction:$,isObject:y,isNumber:w,isElement:I,isArray:nr,version:hr,isDate:k,lowercase:Bn,uppercase:qn,callbacks:{counter:0},getTestability:ee,$$minErr:r,$$csp:ar,reloadWithDebugInfo:Q}),Gn=le(e);try{Gn("ngLocale")}catch(n){Gn("ngLocale",[]).provider("$locale",ut)}Gn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:jt}),e.provider("$compile",Ge).directive({a:yi,input:Ri,textarea:Ri,form:Si,script:Ea,select:Da,style:Na,option:Pa,ngBind:ra,ngBindHtml:aa,ngBindTemplate:ia,ngClass:oa,ngClassEven:ca,ngClassOdd:sa,ngCloak:la,ngController:da,ngForm:Ci,ngHide:$a,ngIf:ma,ngInclude:ha,ngInit:fa,ngNonBindable:_a,ngPluralize:va,ngRepeat:ya,ngShow:ka,ngStyle:Sa,ngSwitch:Ca,ngSwitchWhen:Ma,ngSwitchDefault:Aa,ngOptions:Ia,ngTransclude:xa,ngModel:Gi,ngList:Qi,ngChange:Ki,pattern:Zi,ngPattern:Zi,required:Yi,ngRequired:Yi,minlength:Ji,ngMinlength:Ji,maxlength:Xi,ngMaxlength:Xi,ngValue:ta,ngModelOptions:na}).directive({ngInclude:ga}).directive(bi).directive(ua),e.provider({$anchorScroll:qe,$animate:Rr,$browser:ze,$cacheFactory:Ve,$controller:Xe,$document:Je,$exceptionHandler:Qe,$filter:en,$interpolate:lt,$interval:dt,$http:at,$httpBackend:st,$location:St,$log:Ct,$parse:Ot,$rootScope:qt,$q:Lt,$$q:Rt,$sce:Wt,$sceDelegate:Vt,$sniffer:Gt,$templateCache:We,$templateRequest:Kt,$$testability:Yt,$timeout:Zt,$window:Qt,$$rAF:Ft,$$asyncCallback:je})}])}function ue(){return++fr}function pe(e){return e.replace(yr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(br,"Moz$1")}function me(e){return!Sr.test(e)}function he(e){var t=e.nodeType;return t===lr||!t||t===pr}function ge(e,t){var n,r,i,o,s=t.createDocumentFragment(),c=[];if(me(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(Cr.exec(e)||["",""])[1].toLowerCase(),i=Ar[r]||Ar._default,n.innerHTML=i[1]+e.replace(Mr,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;c=R(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(c,function(e){s.appendChild(e)}),s}function fe(e,n){n=n||t;var r;return(r=$r.exec(e))?[n.createElement(r[1])]:(r=ge(e,n))?r.childNodes:[]}function _e(e){if(e instanceof _e)return e;var t;if(b(e)&&(e=rr(e),t=!0),!(this instanceof _e)){if(t&&"<"!=e.charAt(0))throw kr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new _e(e)}t?Ae(this,fe(e)):Ae(this,e)}function ve(e){return e.cloneNode(!0)}function ye(e,t){if(t||we(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)we(n[r])}function be(e,t,n,r){if(v(r))throw kr("offargs","jqLite#off() does not support the `selector` argument");var i=ke(e),o=i&&i.events,s=i&&i.handle;if(s)if(t)a(t.split(" "),function(t){if(v(n)){var r=o[t];if(N(r||[],n),r&&r.length>0)return}vr(e,t,s),delete o[t]});else for(t in o)"$destroy"!==t&&vr(e,t,s),delete o[t]}function we(e,t){var r=e.ng339,i=r&&gr[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),be(e)),delete gr[r],e.ng339=n}}function ke(e,t){var r=e.ng339,i=r&&gr[r];return t&&!i&&(e.ng339=r=ue(),i=gr[r]={events:{},data:{},handle:n}),i}function $e(e,t,n){if(he(e)){var r=v(n),i=!r&&t&&!y(t),a=!t,o=ke(e,!i),s=o&&o.data;if(r)s[t]=n;else{if(a)return s;if(i)return s&&s[t];u(s,t)}}}function Se(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ce(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",rr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+rr(t)+" "," ")))})}function Me(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=rr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",rr(n))}}function Ae(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function xe(e,t){return Ee(e,"$"+(t||"ngController")+"Controller")}function Ee(e,t,r){e.nodeType==pr&&(e=e.documentElement);for(var i=nr(t)?t:[t];e;){for(var a=0,o=i.length;o>a;a++)if((r=Vn.data(e,i[a]))!==n)return r;e=e.parentNode||e.nodeType===mr&&e.host}}function Te(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ie(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function De(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Vn(n).on("load",t)}function Pe(e,t){var n=Er[t.toLowerCase()];return n&&Tr[P(e)]&&n}function Ne(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Ir[t]}function Ue(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(_(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(i=O(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(e,n)}};return n.elem=e,n}function Oe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function Le(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function Re(e){var t=e.toString().replace(Ur,""),n=t.match(Dr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Be(e,t,n){var r,i,o,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw b(n)&&n||(n=e.name||Re(e)),Or("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Ur,""),o=i.match(Dr),a(o[1].split(Pr),function(e){e.replace(Nr,function(e,t,n){r.push(n)})})}e.$inject=r}}else nr(e)?(s=e.length-1,ie(e[s],"fn"),r=e.slice(0,s)):ie(e,"fn",!0);return r}function Fe(e,t){function r(e){return function(t,n){return y(t)?void a(t,c(e)):e(t,n)}}function i(e,t){if(ae(e,"service"),($(t)||nr(t))&&(t=M.instantiate(t)),!t.$get)throw Or("pget","Provider '{0}' must define $get factory method.",e);return C[e+w]=t}function o(e,t){return function(){var r=x.invoke(t,this,n,e);if(_(r))throw Or("undef","Provider '{0}' must return a value from $get factory method.",e);return r}}function s(e,t,n){return i(e,{$get:n!==!1?o(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function d(e,t){return s(e,f(t),!1)}function u(e,t){ae(e,"constant"),C[e]=t,A[e]=t}function p(e,t){var n=M.get(e+w),r=n.$get;n.$get=function(){var e=x.invoke(r,n);return x.invoke(t,null,{$delegate:e})}}function m(e){var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=M.get(r[0]);i[r[1]].apply(i,r[2])}}if(!S.get(e)){S.put(e,!0);try{b(e)?(t=Gn(e),n=n.concat(m(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):$(e)?n.push(M.invoke(e)):nr(e)?n.push(M.invoke(e)):ie(e,"module")}catch(i){throw nr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Or("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function g(e,n){function r(t){if(e.hasOwnProperty(t)){if(e[t]===v)throw Or("cdep","Circular dependency found: {0}",t+" <- "+k.join(" <- "));return e[t]}try{return k.unshift(t),e[t]=v,e[t]=n(t)}catch(r){throw e[t]===v&&delete e[t],r}finally{k.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,c,l=[],d=Be(e,t,a);for(s=0,o=d.length;o>s;s++){if(c=d[s],"string"!=typeof c)throw Or("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:r(c))}return nr(e)&&(e=e[o]),e.apply(n,l)}function a(e,t,n){var r,a,o=function(){};return o.prototype=(nr(e)?e[e.length-1]:e).prototype,r=new o,a=i(e,r,t,n),y(a)||$(a)?a:r}return{invoke:i,instantiate:a,get:r,annotate:Be,has:function(t){return C.hasOwnProperty(t+w)||e.hasOwnProperty(t)}}}t=t===!0;var v={},w="Provider",k=[],S=new Le([],!0),C={$provide:{provider:r(i),factory:r(s),service:r(l),value:r(d),constant:r(u),decorator:p}},M=C.$injector=g(C,function(){throw Or("unpr","Unknown provider: {0}",k.join(" <- "))}),A={},x=A.$injector=g(A,function(e){var t=M.get(e+w);return x.invoke(t.$get,t,n,e)});return a(m(e),function(e){x.invoke(e||h)}),x}function qe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===P(e)?(t=e,!0):void 0}),t}function a(){var e=s.yOffset;if($(e))e=e();else if(I(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=c.getElementById(t))?o(e):(e=i(c.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&De(function(){r.$evalAsync(s)})}),s}]}function je(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function He(e,t,r,i){function o(e){try{e.apply(null,B(arguments,1))}finally{if(k--,0===k)for(;$.length;)try{$.pop()()}catch(t){r.error(t)}}}function s(e,t){!function n(){a(C,function(e){e()}),S=t(n,e)}()}function c(){l(),d()}function l(){M=e.history.state,M=_(M)?null:M,L(M,P)&&(M=P),P=M}function d(){(x!==p.url()||A!==M)&&(x=p.url(),A=M,a(I,function(e){e(p.url(),M)}))}function u(e){try{return decodeURIComponent(e)}catch(t){return e}}var p=this,m=t[0],g=e.location,f=e.history,v=e.setTimeout,y=e.clearTimeout,w={};p.isMock=!1;var k=0,$=[];p.$$completeOutstandingRequest=o,p.$$incOutstandingRequestCount=function(){k++},p.notifyWhenNoOutstandingRequests=function(e){a(C,function(e){e()}),0===k?e():$.push(e)};var S,C=[];p.addPollFn=function(e){return _(S)&&s(100,v),C.push(e),e};var M,A,x=g.href,E=t.find("base"),T=null;l(),A=M,p.url=function(t,n,r){if(_(r)&&(r=null),g!==e.location&&(g=e.location),f!==e.history&&(f=e.history),t){var a=A===r;if(x===t&&(!i.history||a))return;var o=x&&ft(x)===ft(t);return x=t,A=r,!i.history||o&&a?(o||(T=t),n?g.replace(t):g.href=t):(f[n?"replaceState":"pushState"](r,"",t),l(),A=M),p}return T||g.href.replace(/%27/g,"'")},p.state=function(){return M};var I=[],D=!1,P=null;p.onUrlChange=function(t){return D||(i.history&&Vn(e).on("popstate",c),Vn(e).on("hashchange",c),D=!0),I.push(t),t},p.$$checkUrlChange=d,p.baseHref=function(){var e=E.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var N={},U="",O=p.baseHref();p.cookies=function(e,t){var i,a,o,s,c;if(!e){if(m.cookie!==U)for(U=m.cookie,a=U.split("; "),N={},s=0;s<a.length;s++)o=a[s],c=o.indexOf("="),c>0&&(e=u(o.substring(0,c)),N[e]===n&&(N[e]=u(o.substring(c+1))));return N}t===n?m.cookie=encodeURIComponent(e)+"=;path="+O+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(t)&&(i=(m.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+O).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},p.defer=function(e,t){var n;return k++,n=v(function(){delete w[n],o(e)},t||0),w[n]=!0,n},p.defer.cancel=function(e){return w[e]?(delete w[e],y(e),o(h),!0):!1}}function ze(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new He(e,r,t,n)}]}function Ve(){this.$get=function(){function e(e,n){function i(e){e!=p&&(m?m==e&&(m=e.n):m=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=u({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,d={},p=null,m=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}if(!_(t))return e in c||o++,c[e]=t,o>l&&this.remove(m.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==m&&(m=t.n),a(t.n,t.p),delete d[e]}delete c[e],o--},removeAll:function(){c={},o=0,d={},p=m=null},destroy:function(){c=null,s=null,d=null,delete t[e]},info:function(){return u({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function We(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ge(e,r){function i(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(e,function(e,i){var a=e.match(n);if(!a)throw Br("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e);r[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),r}var o={},s="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=D("ngSrc,ngSrcset,src,srcset"),_=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function S(t,n){return ae(t,"directive"),b(t)?(re(n,"directiveFactory"),o.hasOwnProperty(t)||(o[t]=[],e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var r=[];return a(o[t],function(a,o){try{var s=e.invoke(a);$(s)?s={compile:f(s)}:!s.compile&&s.link&&(s.compile=f(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(c){n(c)}}),r}])),o[t].push(n)):a(t,c(S)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(e){return v(e)?(k=e,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,c,f,v,S,C,A,x,E){function T(e,t){try{e.addClass(t)}catch(n){}}function I(e,t,n,r,i){e instanceof Vn||(e=Vn(e)),a(e,function(t,n){t.nodeType==dr&&t.nodeValue.match(/\S+/)&&(e[n]=Vn(t).wrap("<span></span>").parent()[0])});var o=U(e,t,e,n,r,i);I.$$addScopeClass(e);var s=null;return function(t,n,r){re(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,c=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=D(c));var l;if(l="html"!==s?Vn(J(s,Vn("<div>").append(e).html())):n?xr.clone.call(e):e,a)for(var d in a)l.data("$"+d+"Controller",a[d].instance);return I.$$addScopeInfo(l,t),n&&n(l,t),o&&o(t,l,l,i),l}}function D(e){var t=e&&e[0];return t&&"foreignobject"!==P(t)&&t.toString().match(/SVG/)?"svg":"html"}function U(e,t,r,i,a,o){function s(e,r,i,a){var o,s,c,l,d,u,p,m,f;if(h){var _=r.length;for(f=new Array(_),d=0;d<g.length;d+=3)p=g[d],f[p]=r[p]}else f=r;for(d=0,u=g.length;u>d;)c=f[g[d++]],o=g[d++],s=g[d++],o?(o.scope?(l=e.$new(),I.$$addScopeInfo(Vn(c),l)):l=e,m=o.transcludeOnThisElement?O(e,o.transclude,a,o.elementTranscludeOnThisElement):!o.templateOnThisElement&&a?a:!a&&t?O(e,t):null,o(s,l,c,i,m)):s&&s(e,c.childNodes,n,a)}for(var c,l,d,u,p,m,h,g=[],f=0;f<e.length;f++)c=new oe,l=R(e[f],[],c,0===f?i:n,a),d=l.length?j(l,e[f],c,t,r,null,[],[],o):null,d&&d.scope&&I.$$addScopeClass(c.$$element),p=d&&d.terminal||!(u=e[f].childNodes)||!u.length?null:U(u,d?(d.transcludeOnThisElement||!d.templateOnThisElement)&&d.transclude:t),(d||p)&&(g.push(f,d,p),m=!0,h=h||d),o=null;return m?s:null}function O(e,t,n,r){var i=function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function R(e,t,n,r,i){var a,o,s=e.nodeType,c=n.$attr;switch(s){case lr:V(t,Ke(P(e)),"E",r,i);for(var u,p,m,h,g,f,_=e.attributes,v=0,y=_&&_.length;y>v;v++){var w=!1,k=!1;u=_[v],p=u.name,g=rr(u.value),h=Ke(p),(f=ue.test(h))&&(p=te(h.substr(6),"-"));var $=h.replace(/(Start|End)$/,"");W($)&&h===$+"Start"&&(w=p,k=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),m=Ke(p.toLowerCase()),c[m]=p,(f||!n.hasOwnProperty(m))&&(n[m]=g,Pe(e,m)&&(n[m]=!0)),ee(e,t,g,m,f),V(t,m,"A",r,i,w,k)}if(o=e.className,b(o)&&""!==o)for(;a=d.exec(o);)m=Ke(a[2]),V(t,m,"C",r,i)&&(n[m]=rr(a[3])),o=o.substr(a.index+a[0].length);break;case dr:X(t,e.nodeValue);break;case ur:try{a=l.exec(e.nodeValue),a&&(m=Ke(a[1]),V(t,m,"M",r,i)&&(n[m]=rr(a[2])))}catch(S){}}return t.sort(Y),t}function F(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Br("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==lr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Vn(r)}function q(e,t,n){return function(r,i,a,o,s){return i=F(i[0],t,n),e(r,i,a,o,s)}}function j(e,o,s,c,l,d,u,p,m){function h(e,t,n,r){e&&(n&&(e=q(e,n,r)),e.require=C.require,e.directiveName=A,(N===C||C.$$isolateScope)&&(e=ie(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=q(t,n,r)),t.require=C.require,t.directiveName=A,(N===C||C.$$isolateScope)&&(t=ie(t,{isolateScope:!0})),p.push(t))}function g(e,t,n,r){var i,o,s="data",c=!1,l=n;if(b(t)){if(o=t.match(_),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?s="inheritedData":"^^"===o[1]&&(s="inheritedData",l=n.parent()),"?"===o[2]&&(c=!0),i=null,r&&"data"===s&&(i=r[t])&&(i=i.instance),i=i||l[s]("$"+t+"Controller"),!i&&!c)throw Br("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return nr(t)&&(i=[],a(t,function(t){i.push(g(e,t,n,r))})),i}function w(e,t,i,c,l){function d(e,t,r){var i;return M(e)||(r=t,t=e,e=n),W&&(i=w),r||(r=W?$.parent():$),l(e,t,i,r,E)}var m,h,_,y,b,w,k,$,C;if(o===i?(C=s,$=s.$$element):($=Vn(i),C=new oe($,s)),N&&(b=t.$new(!0)),l&&(k=d,k.$$boundTransclude=l),P&&(S={},w={},a(P,function(e){var n,r={$scope:e===N||e.$$isolateScope?b:t,$element:$,$attrs:C,$transclude:k};y=e.controller,"@"==y&&(y=C[e.name]),n=v(y,r,!0,e.controllerAs),w[e.name]=n,W||$.data("$"+e.name+"Controller",n.instance),S[e.name]=n})),N){I.$$addScopeInfo($,b,!0,!(U&&(U===N||U===N.$$originalDirective))),I.$$addScopeClass($,!0);var A=S&&S[N.name],x=b;A&&A.identifier&&N.bindToController===!0&&(x=A.instance),a(b.$$isolateBindings=N.$$isolateBindings,function(e,n){var i,a,o,s,c=e.attrName,l=e.optional,d=e.mode;switch(d){case"@":C.$observe(c,function(e){x[n]=e}),C.$$observers[c].$$scope=t,C[c]&&(x[n]=r(C[c])(t));break;case"=":if(l&&!C[c])return;a=f(C[c]),s=a.literal?L:function(e,t){return e===t||e!==e&&t!==t},o=a.assign||function(){throw i=x[n]=a(t),Br("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",C[c],N.name)},i=x[n]=a(t);var u=function(e){return s(e,x[n])||(s(e,i)?o(t,e=x[n]):x[n]=e),i=e};u.$stateful=!0;var p;p=e.collection?t.$watchCollection(C[c],u):t.$watch(f(C[c],u),null,a.literal),b.$on("$destroy",p);break;case"&":a=f(C[c]),x[n]=function(e){return a(t,e)}}})}for(S&&(a(S,function(e){e()}),S=null),m=0,h=u.length;h>m;m++)_=u[m],ae(_,_.isolateScope?b:t,$,C,_.require&&g(_.directiveName,_.require,$,w),k);var E=t;for(N&&(N.template||null===N.templateUrl)&&(E=b),e&&e(E,i.childNodes,n,l),m=p.length-1;m>=0;m--)_=p[m],ae(_,_.isolateScope?b:t,$,C,_.require&&g(_.directiveName,_.require,$,w),k)}m=m||{};for(var k,S,C,A,x,E,T,D=-Number.MAX_VALUE,P=m.controllerDirectives,N=m.newIsolateScopeDirective,U=m.templateDirective,O=m.nonTlbTranscludeDirective,j=!1,V=!1,W=m.hasElementTranscludeDirective,Y=s.$$element=Vn(o),X=d,Q=c,ee=0,te=e.length;te>ee;ee++){C=e[ee];var re=C.$$start,se=C.$$end;if(re&&(Y=F(o,re,se)),x=n,D>C.priority)break;if((T=C.scope)&&(C.templateUrl||(y(T)?(Z("new/isolated scope",N||k,C,Y),N=C):Z("new/isolated scope",N,C,Y)),k=k||C),A=C.name,!C.templateUrl&&C.controller&&(T=C.controller,P=P||{},Z("'"+A+"' controller",P[A],C,Y),P[A]=C),(T=C.transclude)&&(j=!0,C.$$tlb||(Z("transclusion",O,C,Y),O=C),"element"==T?(W=!0,D=C.priority,x=Y,Y=s.$$element=Vn(t.createComment(" "+A+": "+s[A]+" ")),o=Y[0],ne(l,B(x),o),Q=I(x,c,D,X&&X.name,{nonTlbTranscludeDirective:O})):(x=Vn(ve(o)).contents(),Y.empty(),Q=I(x,c))),C.template)if(V=!0,Z("template",U,C,Y),U=C,T=$(C.template)?C.template(Y,s):C.template,T=de(T),C.replace){if(X=C,x=me(T)?[]:Ze(J(C.templateNamespace,rr(T))),o=x[0],1!=x.length||o.nodeType!==lr)throw Br("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"");ne(l,Y,o);var ce={$attr:{}},le=R(o,[],ce),ue=e.splice(ee+1,e.length-(ee+1));N&&H(le),e=e.concat(le).concat(ue),G(s,ce),te=e.length}else Y.html(T);if(C.templateUrl)V=!0,Z("template",U,C,Y),U=C,C.replace&&(X=C),w=K(e.splice(ee,e.length-ee),Y,s,l,j&&Q,u,p,{controllerDirectives:P,newIsolateScopeDirective:N,templateDirective:U,nonTlbTranscludeDirective:O}),te=e.length;else if(C.compile)try{E=C.compile(Y,s,Q),$(E)?h(null,E,re,se):E&&h(E.pre,E.post,re,se)}catch(pe){i(pe,z(Y))}C.terminal&&(w.terminal=!0,D=Math.max(D,C.priority))}return w.scope=k&&k.scope===!0,w.transcludeOnThisElement=j,w.elementTranscludeOnThisElement=W,w.templateOnThisElement=V,w.transclude=Q,m.hasElementTranscludeDirective=W,w}function H(e){for(var t=0,n=e.length;n>t;t++)e[t]=m(e[t],{$$isolateScope:!0})}function V(t,r,a,c,l,d,u){if(r===l)return null;var p=null;if(o.hasOwnProperty(r))for(var h,g=e.get(r+s),f=0,_=g.length;_>f;f++)try{h=g[f],(c===n||c>h.priority)&&-1!=h.restrict.indexOf(a)&&(d&&(h=m(h,{$$start:d,$$end:u
})),t.push(h),p=h)}catch(v){i(v)}return p}function W(t){if(o.hasOwnProperty(t))for(var n,r=e.get(t+s),i=0,a=r.length;a>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function G(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(T(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function K(e,t,n,r,i,o,s,l){var d,p,m=[],h=t[0],g=e.shift(),f=u({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),_=$(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,v=g.templateNamespace;return t.empty(),c(A.getTrustedResourceUrl(_)).then(function(c){var u,b,w,k;if(c=de(c),g.replace){if(w=me(c)?[]:Ze(J(v,rr(c))),u=w[0],1!=w.length||u.nodeType!==lr)throw Br("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,_);b={$attr:{}},ne(r,t,u);var $=R(u,[],b);y(g.scope)&&H($),e=$.concat(e),G(n,b)}else u=h,t.html(c);for(e.unshift(f),d=j(e,u,n,i,t,g,o,s,l),a(r,function(e,n){e==u&&(r[n]=t[0])}),p=U(t[0].childNodes,i);m.length;){var S=m.shift(),C=m.shift(),M=m.shift(),A=m.shift(),x=t[0];if(!S.$$destroyed){if(C!==h){var E=C.className;l.hasElementTranscludeDirective&&g.replace||(x=ve(u)),ne(M,Vn(C),x),T(Vn(x),E)}k=d.transcludeOnThisElement?O(S,d.transclude,A):A,d(p,S,x,r,k)}}m=null}),function(e,t,n,r,i){var a=i;t.$$destroyed||(m?(m.push(t),m.push(n),m.push(r),m.push(a)):(d.transcludeOnThisElement&&(a=O(t,d.transclude,i)),d(p,t,n,r,a)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Z(e,t,n,r){if(t)throw Br("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,z(r))}function X(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&I.$$addBindingClass(t),function(e,t){var i=t.parent();r||I.$$addBindingClass(i),I.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Bn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return A.HTML;var n=P(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?A.RESOURCE_URL:void 0}function ee(e,t,n,i,a){var o=r(n,!0);if(o){if("multiple"===i&&"select"===P(e))throw Br("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",z(e));t.push({priority:100,compile:function(){return{pre:function(t,n,s){var c=s.$$observers||(s.$$observers={});if(w.test(i))throw Br("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");s[i]&&(o=r(s[i],!0,Q(e,i),p[i]||a),o&&(s[i]=o(t),(c[i]||(c[i]=[])).$$inter=!0,(s.$$observers&&s.$$observers[i].$$scope||t).$watch(o,function(e,t){"class"===i&&e!=t?s.$updateClass(e,t):s.$set(i,e)})))}}}})}}function ne(e,n,r){var i,a,o=n[0],s=n.length,c=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r;for(var l=i,d=l+s-1,u=e.length;u>l;l++,d++)u>d?e[l]=e[d]:delete e[l];e.length-=s-1,e.context===o&&(e.context=r);break}c&&c.replaceChild(r,o);var p=t.createDocumentFragment();p.appendChild(o),Vn(r).data(Vn(o).data()),Wn?(tr=!0,Wn.cleanData([o])):delete Vn.cache[o[Vn.expando]];for(var m=1,h=n.length;h>m;m++){var g=n[m];Vn(g).remove(),p.appendChild(g),delete n[m]}n[0]=r,n.length=1}function ie(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,z(n))}}var oe=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Ke,$addClass:function(e){e&&e.length>0&&x.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&x.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ye(e,t);n&&n.length&&x.addClass(this.$$element,n);var r=Ye(t,e);r&&r.length&&x.removeClass(this.$$element,r)},$set:function(e,t,r,o){var s,c=this.$$element[0],l=Pe(c,e),d=Ne(c,e),u=e;if(l?(this.$$element.prop(e,t),o=l):d&&(this[d]=t,u=d),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=te(e,"-"))),s=P(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===s&&"srcset"===e){for(var p="",m=rr(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(m)?h:/(,)/,f=m.split(g),_=Math.floor(f.length/2),v=0;_>v;v++){var y=2*v;p+=E(rr(f[y]),!0),p+=" "+rr(f[y+1])}var b=rr(f[2*v]).split(/\s/);p+=E(rr(b[0]),!0),2===b.length&&(p+=" "+rr(b[1])),this[e]=t=p}r!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t));var w=this.$$observers;w&&a(w[u],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ce()),i=r[e]||(r[e]=[]);return i.push(t),S.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){N(i,t)}}};var se=r.startSymbol(),le=r.endSymbol(),de="{{"==se||"}}"==le?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,le)},ue=/^ngAttr[A-Z]/;return I.$$addBindingInfo=k?function(e,t){var n=e.data("$binding")||[];nr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,I.$$addBindingClass=k?function(e){T(e,"ng-binding")}:h,I.$$addScopeInfo=k?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:h,I.$$addScopeClass=k?function(e,t){T(e,t?"ng-isolate-scope":"ng-scope")}:h,I}]}function Ke(e){return pe(e.replace(Fr,""))}function Ye(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function Ze(e){e=Vn(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===ur&&Yn.call(e,t,1)}return e}function Xe(){var e={},t=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){ae(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(a,o){function s(e,t,n,i){if(!e||!y(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,c,l,d){var p,m,h,g;if(l=l===!0,d&&b(d)&&(g=d),b(r)&&(m=r.match(i),h=m[1],g=g||m[3],r=e.hasOwnProperty(h)?e[h]:oe(c.$scope,h,!0)||(t?oe(o,h,!0):n),ie(r,h,!0)),l){var f=function(){};return f.prototype=(nr(r)?r[r.length-1]:r).prototype,p=new f,g&&s(c,g,p,h||r.name),u(function(){return a.invoke(r,p,c,h),p},{instance:p,identifier:g})}return p=a.instantiate(r,c,h),g&&s(c,g,p,h||r.name),p}}]}function Je(){this.$get=["$window",function(e){return Vn(e.document)}]}function Qe(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function et(e,t){if(b(e)){e=e.replace(Vr,"");var n=t("Content-Type");(n&&0===n.indexOf(qr)||Hr.test(e)&&zr.test(e))&&(e=H(e))}return e}function tt(e){var t,n,r,i={};return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=Bn(rr(e.substr(0,r))),n=rr(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function nt(e){var t=y(e)?e:n;return function(n){return t||(t=tt(e)),n?t[Bn(n)]||null:t}}function rt(e,t,n){return $(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function it(e){return e>=200&&300>e}function at(){var e=this.defaults={transformResponse:[et],transformRequest:[function(e){return!y(e)||A(e)||x(e)?e:j(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(jr),put:O(jr),patch:O(jr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return v(e)?(t=!!e,this):t};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(i,o,c,l,d,p){function m(t){function r(e){var t=u({},e);return t.data=e.data?rt(e.data,e.headers,o.transformResponse):e.data,it(e.status)?t:d.reject(t)}function i(t){function n(e){var t;a(e,function(n,r){$(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var r,i,o,s=e.headers,c=u({},t.headers);s=u({},s.common,s[Bn(t.method)]);e:for(r in s){i=Bn(r);for(o in c)if(Bn(o)===i)continue e;c[r]=s[r]}return n(c),c}var o={method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},s=i(t);u(o,t),o.headers=s,o.method=qn(o.method);var c=function(t){s=t.headers;var n=rt(t.data,nt(s),t.transformRequest);return _(n)&&a(s,function(e,t){"content-type"===Bn(t)&&delete s[t]}),_(t.withCredentials)&&!_(e.withCredentials)&&(t.withCredentials=e.withCredentials),f(t,n,s).then(r,r)},l=[c,n],p=d.when(o);for(a(C,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){var m=l.shift(),h=l.shift();p=p.then(m,h)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,o)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,o)}),p},p}function h(e){a(arguments,function(e){m[e]=function(t,n){return m(u(n||{},{method:e,url:t}))}})}function g(e){a(arguments,function(e){m[e]=function(t,n,r){return m(u(r||{},{method:e,url:t,data:n}))}})}function f(r,a,s){function c(e,n,r,i){function a(){u(n,e,r,i)}h&&(it(e)?h.put(k,[e,n,tt(r),i]):h.remove(k)),t?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}function u(e,t,n,i){t=Math.max(t,0),(it(t)?f.resolve:f.reject)({data:e,status:t,headers:nt(n),config:r,statusText:i})}function p(){var e=m.pendingRequests.indexOf(r);-1!==e&&m.pendingRequests.splice(e,1)}var h,g,f=d.defer(),b=f.promise,k=w(r.url,r.params);if(m.pendingRequests.push(r),b.then(p,p),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(h=y(r.cache)?r.cache:y(e.cache)?e.cache:S),h)if(g=h.get(k),v(g)){if(T(g))return g.then(p,p),g;nr(g)?u(g[1],g[0],O(g[2]),g[3]):u(g,200,{},"OK")}else h.put(k,b);if(_(g)){var $=Jt(r.url)?o.cookies()[r.xsrfCookieName||e.xsrfCookieName]:n;$&&(s[r.xsrfHeaderName||e.xsrfHeaderName]=$),i(r.method,k,a,c,s,r.timeout,r.withCredentials,r.responseType)}return b}function w(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||_(e)||(nr(e)||(e=[e]),a(e,function(e){y(e)&&(e=k(e)?e.toISOString():j(e)),n.push(Y(t)+"="+Y(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var S=c("$http"),C=[];return a(r,function(e){C.unshift(b(e)?p.get(e):p.invoke(e))}),m.pendingRequests=[],h("get","delete","head","jsonp"),g("post","put","patch"),m.defaults=e,m}]}function ot(){return new e.XMLHttpRequest}function st(){this.$get=["$browser","$window","$document",function(e,t,n){return ct(e,ot,e.defer,t.angular.callbacks,n[0])}]}function ct(e,t,n,r,i){function o(e,t,n){var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){vr(a,"load",o),vr(a,"error",o),i.body.removeChild(a),a=null;var s=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},_r(a,"load",o),_r(a,"error",o),i.body.appendChild(a),o}return function(i,s,c,l,d,u,p,m){function g(){y&&y(),b&&b.abort()}function f(t,r,i,a,o){$&&n.cancel($),y=b=null,t(r,i,a,o),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Bn(i)){var _="_"+(r.counter++).toString(36);r[_]=function(e){r[_].data=e,r[_].called=!0};var y=o(s.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(e,t){f(l,e,r[_].data,"",t),r[_]=h})}else{var b=t();b.open(i,s,!0),a(d,function(e,t){v(e)&&b.setRequestHeader(t,e)}),b.onload=function(){var e=b.statusText||"",t="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=t?200:"file"==Xt(s).protocol?404:0),f(l,n,t,b.getAllResponseHeaders(),e)};var w=function(){f(l,-1,null,null,"")};if(b.onerror=w,b.onabort=w,p&&(b.withCredentials=!0),m)try{b.responseType=m}catch(k){if("json"!==m)throw k}b.send(c||null)}if(u>0)var $=n(g,u);else T(u)&&u.then(g)}}function lt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(a,o,p,m){function h(n){return n.replace(l,e).replace(d,t)}function g(e){try{return E(x(e))}catch(t){var n=Wr("interr","Can't interpolate: {0}\n{1}",a,t.toString());r(n)}}m=!!m;for(var f,v,y,b=0,w=[],k=[],S=a.length,C=[],M=[];S>b;){if(-1==(f=a.indexOf(e,b))||-1==(v=a.indexOf(t,f+s))){b!==S&&C.push(h(a.substring(b)));break}b!==f&&C.push(h(a.substring(b,f))),y=a.substring(f+s,v),w.push(y),k.push(n(y,g)),b=v+c,M.push(C.length),C.push("")}if(p&&C.length>1)throw Wr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);if(!o||w.length){var A=function(e){for(var t=0,n=w.length;n>t;t++){if(m&&_(e[t]))return;C[M[t]]=e[t]}return C.join("")},x=function(e){return p?i.getTrusted(p,e):i.valueOf(e)},E=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=j(e)}return e};return u(function(e){var t=0,n=w.length,i=new Array(n);try{for(;n>t;t++)i[t]=k[t](e);return A(i)}catch(o){var s=Wr("interr","Can't interpolate: {0}\n{1}",a,o.toString());r(s)}},{exp:a,expressions:w,$$watchDelegate:function(e,t,n){var r;return e.$watchGroup(k,function(n,i){var a=A(n);$(t)&&t.call(this,a,n!==i?r:a,e),r=a},n)}})}}var s=e.length,c=t.length,l=new RegExp(e.replace(/./g,a),"g"),d=new RegExp(t.replace(/./g,a),"g");return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function dt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,c){var l=t.setInterval,d=t.clearInterval,u=0,p=v(c)&&!c,m=(p?r:n).defer(),h=m.promise;return s=v(s)?s:0,h.then(null,null,i),h.$$intervalId=l(function(){m.notify(u++),s>0&&u>=s&&(m.resolve(u),d(h.$$intervalId),delete a[h.$$intervalId]),p||e.$apply()},o),a[h.$$intervalId]=m,h}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function ut(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function pt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=K(t[n]);return t.join("/")}function mt(e,t,n){var r=Xt(e,n);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=p(r.port)||Kr[r.protocol]||null}function ht(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e);var i=Xt(e,n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=W(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function ft(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function _t(e){return e.substr(0,ft(e).lastIndexOf("/")+1)}function vt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function yt(e,t){this.$$html5=!0,t=t||"";var r=_t(e);mt(e,this,e),this.$$parse=function(t){var n=gt(r,t);if(!b(n))throw Yr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);ht(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),t=this.$$hash?"#"+K(this.$$hash):"";this.$$url=pt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s,c;return(o=gt(e,i))!==n?(s=o,c=(o=gt(t,o))!==n?r+(gt("/",o)||o):e+s):(o=gt(r,i))!==n?c=r+o:r==i+"/"&&(c=r),c&&this.$$parse(c),!!c}}function bt(e,t){var n=_t(e);mt(e,this,e),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a=gt(e,r)||gt(n,r),o="#"==a.charAt(0)?gt(t,a):this.$$html5?a:"";if(!b(o))throw Yr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,t);ht(o,this,e),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=pt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return ft(e)==ft(t)?(this.$$parse(t),!0):!1}}function wt(e,t){this.$$html5=!0,bt.apply(this,arguments);var n=_t(e);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==ft(r)?a=r:(o=gt(n,r))?a=e+t+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=pt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function kt(e){return function(){return this[e]}}function $t(e,t){return function(n){return _(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function St(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return v(e)?(t=e,this):t},this.html5Mode=function(e){return E(e)?(n.enabled=e,this):y(e)?(E(e.enabled)&&(n.enabled=e.enabled),E(e.requireBase)&&(n.requireBase=e.requireBase),E(e.rewriteLinks)&&(n.rewriteLinks=e.rewriteLinks),this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,a,o){function s(e,t,n){var r=l.url(),a=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(o){throw l.url(r),l.$$state=a,o}}function c(e,t){r.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,d,u,p=i.baseHref(),m=i.url();if(n.enabled){if(!p&&n.requireBase)throw Yr("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=vt(m)+(p||"/"),d=a.history?yt:wt}else u=ft(m),d=bt;l=new d(u,"#"+t),l.$$parseLinkUrl(m,m),l.$$state=i.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var a=Vn(t.target);"a"!==P(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;var s=a.prop("href"),c=a.attr("href")||a.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Xt(s.animVal).href),h.test(s)||!s||a.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(t.preventDefault(),l.absUrl()!=i.url()&&(r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=m&&i.url(l.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){r.$evalAsync(function(){var n=l.absUrl(),i=l.$$state;l.$$parse(e),l.$$state=t,r.$broadcast("$locationChangeStart",e,n,t,i).defaultPrevented?(l.$$parse(n),l.$$state=i,s(n,!1,i)):(g=!1,c(n,i))}),r.$$phase||r.$digest()}),r.$watch(function(){var e=i.url(),t=i.state(),n=l.$$replace,o=e!==l.absUrl()||l.$$html5&&a.history&&t!==l.$$state;(g||o)&&(g=!1,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),e,l.$$state,t).defaultPrevented?(l.$$parse(e),l.$$state=t):(o&&s(l.absUrl(),n,t===l.$$state?null:l.$$state),c(e,t))})),l.$$replace=!1}),l}]}function Ct(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Mt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Xr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function At(e,t){if(e){if(e.constructor===e)throw Xr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Xr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Xr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Xr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function xt(e,t){if(e){if(e.constructor===e)throw Xr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Jr||e===Qr||e===ei)throw Xr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Et(e){return e.constant}function Tt(e,t,n,r){At(e,r);for(var i,a=t.split("."),o=0;a.length>1;o++){i=Mt(a.shift(),r);var s=At(e[i],r);s||(s={},e[i]=s),e=s}return i=Mt(a.shift(),r),At(e[i],r),e[i]=n,n}function It(e){return"constructor"==e}function Dt(e,t,r,i,a,o,s){Mt(e,o),Mt(t,o),Mt(r,o),Mt(i,o),Mt(a,o);var c=function(e){return At(e,o)},l=s||It(e)?c:g,d=s||It(t)?c:g,u=s||It(r)?c:g,p=s||It(i)?c:g,m=s||It(a)?c:g;return function(o,s){var c=s&&s.hasOwnProperty(e)?s:o;return null==c?c:(c=l(c[e]),t?null==c?n:(c=d(c[t]),r?null==c?n:(c=u(c[r]),i?null==c?n:(c=p(c[i]),a?null==c?n:c=m(c[a]):c):c):c):c)}}function Pt(e,t){return function(n,r){return e(n,r,At,t)}}function Nt(e,t,r){var i=t.expensiveChecks,o=i?si:oi,s=o[e];if(s)return s;var c=e.split("."),l=c.length;if(t.csp)s=6>l?Dt(c[0],c[1],c[2],c[3],c[4],r,i):function(e,t){var a,o=0;do a=Dt(c[o++],c[o++],c[o++],c[o++],c[o++],r,i)(e,t),t=n,e=a;while(l>o);return a};else{var d="";i&&(d+="s = eso(s, fe);\nl = eso(l, fe);\n");var u=i;a(c,function(e,t){Mt(e,r);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(i||It(e))&&(n="eso("+n+", fe)",u=!0),d+="if(s == null) return undefined;\ns="+n+";\n"}),d+="return s;";var p=new Function("s","l","eso","fe",d);p.toString=f(d),u&&(p=Pt(p,r)),s=p}return s.sharedGetter=!0,s.assign=function(t,n){return Tt(t,e,n,e)},o[e]=s,s}function Ut(e){return $(e.valueOf)?e.valueOf():ci.call(e)}function Ot(){var e=ce(),t=ce();this.$get=["$filter","$sniffer",function(n,r){function i(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function o(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];i.constant||(i.inputs?o(i.inputs,t):-1===t.indexOf(i)&&t.push(i))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Ut(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,r){var i,a=r.$$inputs||(r.$$inputs=o(r.inputs,[]));if(1===a.length){var c=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,c)||(i=r(e),c=t&&Ut(t)),i},t,n)}for(var l=[],d=0,u=a.length;u>d;d++)l[d]=s;return e.$watch(function(e){for(var t=!1,n=0,o=a.length;o>n;n++){var c=a[n](e);(t||(t=!s(c,l[n])))&&(l[n]=c&&Ut(c))}return t&&(i=r(e)),i},t,n)}function l(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,$(t)&&t.apply(this,arguments),v(e)&&r.$$postDigest(function(){v(a)&&i()})},n)}function d(e,t,n,r){function i(e){var t=!0;return a(e,function(e){v(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,$(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function u(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){$(t)&&t.apply(this,arguments),i()},n)}function p(e,t){if(!t)return e;var n=function(n,r){var i=e(n,r),a=t(i,n,r);return v(i)||t.$stateful?a:i};return e.$$watchDelegate&&e.$$watchDelegate!==c?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=c,n.inputs=[e]),n}var m={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,a,o){var s,f,_;switch(typeof r){case"string":_=r=r.trim();var v=o?t:e;if(s=v[_],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(f=!0,r=r.substring(2));var y=o?g:m,b=new ii(y),w=new ai(b,n,y);s=w.parse(r),s.constant?s.$$watchDelegate=u:f?(s=i(s),s.$$watchDelegate=s.literal?d:l):s.inputs&&(s.$$watchDelegate=c),v[_]=s}return p(s,a);case"function":return p(r,a);default:return p(h,a)}}}]}function Lt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Bt(function(t){e.$evalAsync(t)},t)}]}function Rt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Bt(function(t){e.defer(t)},t)}]}function Bt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var r,i,a;a=e.pending,e.processScheduled=!1,e.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],r=a[o][e.status];try{$(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(c){i.reject(c),t(c)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function d(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function u(e){var t=new d,n=0,r=nr(e)?[]:{};return a(e,function(e,i){n++,_(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var p=r("$q",TypeError),m=function(){return new d};o.prototype={then:function(e,t,n){var r=new d;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}},d.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(e)||$(e))&&(n=e&&e.then),$(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify($(e)?e(n):n)}catch(s){t(s)}}})}};var h=function(e){var t=new d;return t.reject(e),t.promise},g=function(e,t){var n=new d;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var r=null;try{$(n)&&(r=n())}catch(i){return g(i,!1)}return T(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},_=function(e,t,n,r){var i=new d;return i.resolve(e),i.promise.then(t,n,r)},v=function b(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!$(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof b))return new b(e);var r=new d;return e(t,n),r.promise};return v.defer=m,v.reject=h,v.when=_,v.all=u,v}function Ft(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function qt(){var e=10,t=r("$rootScope"),n=null,o=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,s,c,d){function u(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function p(e){if(w.$$phase)throw t("inprog","{0} already in progress",w.$$phase);w.$$phase=e}function m(){w.$$phase=null}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function f(){}function v(){for(;C.length;)try{C.shift()()}catch(e){s(e)}o=null}function b(){null===o&&(o=d.defer(function(){w.$apply(v)}))}u.prototype={constructor:u,$new:function(e,t){function n(){r.$$destroyed=!0}var r;return t=t||this,e?(r=new u,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),r=new this.$$ChildScope),r.$parent=t,r.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=r,t.$$childTail=r):t.$$childHead=t.$$childTail=r,(e||t!=this)&&r.$on("$destroy",n),r},$watch:function(e,t,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,r,i);var a=this,o=a.$$watchers,s={fn:t,last:f,get:i,exp:e,eq:!!r};return n=null,$(t)||(s.fn=h),o||(o=a.$$watchers=[]),o.unshift(s),function(){N(o,s),n=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),o=[],s=this,c=!1,l=!0;if(!e.length){var d=!0;return s.$evalAsync(function(){d&&t(i,i,s)}),function(){d=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,c||(c=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){a=e;var t,n,r,s,c;if(!_(a)){if(y(a))if(i(a)){o!==m&&(o=m,f=o.length=0,u++),t=a.length,f!==t&&(u++,o.length=f=t);for(var l=0;t>l;l++)c=o[l],s=a[l],r=c!==c&&s!==s,r||c===s||(u++,o[l]=s)}else{o!==h&&(o=h={},f=0,u++),t=0;for(n in a)a.hasOwnProperty(n)&&(t++,s=a[n],c=o[n],n in o?(r=c!==c&&s!==s,r||c===s||(u++,o[n]=s)):(f++,o[n]=s,u++));if(f>t){u++;for(n in o)a.hasOwnProperty(n)||(f--,delete o[n])}}else o!==a&&(o=a,u++);return u}}function r(){if(g?(g=!1,t(a,a,l)):t(a,s,l),d)if(y(a))if(i(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var n in a)Fn.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,l=this,d=t.length>1,u=0,p=c(e,n),m=[],h={},g=!0,f=0;return this.$watch(p,r)},$digest:function(){var r,i,a,c,l,u,h,g,_,y,b,C=e,M=this,A=[];p("$digest"),d.$$checkUrlChange(),this===w&&null!==o&&(d.defer.cancel(o),v()),n=null;do{for(u=!1,g=M;k.length;){try{b=k.shift(),b.scope.$eval(b.expression)}catch(x){s(x)}n=null}e:do{if(c=g.$$watchers)for(l=c.length;l--;)try{if(r=c[l])if((i=r.get(g))===(a=r.last)||(r.eq?L(i,a):"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))){if(r===n){u=!1;break e}}else u=!0,n=r,r.last=r.eq?U(i,null):i,r.fn(i,a===f?i:a,g),5>C&&(_=4-C,A[_]||(A[_]=[]),y=$(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,y+="; newVal: "+j(i)+"; oldVal: "+j(a),A[_].push(y))}catch(x){s(x)}if(!(h=g.$$childHead||g!==M&&g.$$nextSibling))for(;g!==M&&!(h=g.$$nextSibling);)g=g.$parent}while(g=h);if((u||k.length)&&!C--)throw m(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,j(A));

}while(u||k.length);for(m();S.length;)try{S.shift()()}catch(x){s(x)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==w){for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e){w.$$phase||k.length||d.defer(function(){k.length&&w.$digest()}),k.push({scope:this,expression:e})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{return p("$apply"),this.$eval(e)}catch(t){s(t)}finally{m();try{w.$digest()}catch(t){throw s(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),b()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,g(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],o=this,c=!1,l={name:e,targetScope:o,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},d=R([l],arguments,1);do{for(n=o.$$listeners[e]||a,l.currentScope=o,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,d)}catch(u){s(u)}else n.splice(r,1),r--,i--;if(c)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var o,c,l,d=R([a],arguments,1);r=i;){for(a.currentScope=r,o=r.$$listeners[e]||[],c=0,l=o.length;l>c;c++)if(o[c])try{o[c].apply(null,d)}catch(u){s(u)}else o.splice(c,1),c--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var w=new u,k=w.$$asyncQueue=[],S=w.$$postDigestQueue=[],C=w.$$applyAsyncQueue=[];return w}]}function jt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=Xt(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Ht(e){if("self"===e)return e;if(b(e)){if(e.indexOf("***")>-1)throw li("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ir(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw li("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function zt(e){var t=[];return v(e)&&a(e,function(e){t.push(Ht(e))}),t}function Vt(){this.SCE_CONTEXTS=di;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=zt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=zt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?Jt(t):!!e.exec(t.href)}function a(n){var r,a,o=Xt(n.toString()),s=!1;for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=p.hasOwnProperty(e)?p[e]:null;if(!r)throw li("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw li("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=p.hasOwnProperty(e)?p[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===di.RESOURCE_URL){if(a(t))return t;throw li("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===di.HTML)return d(t);throw li("unsafe","Attempting to use an unsafe value in a safe context.")}var d=function(e){throw li("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(d=r.get("$sanitize"));var u=o(),p={};return p[di.HTML]=o(u),p[di.CSS]=o(u),p[di.URL]=o(u),p[di.JS]=o(u),p[di.RESOURCE_URL]=o(p[di.URL]),{trustAs:s,getTrusted:l,valueOf:c}}]}function Wt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>zn)throw li("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=O(di);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a(di,function(e,t){var n=Bn(t);r[pe("parse_as_"+n)]=function(t){return i(e,t)},r[pe("get_trusted_"+n)]=function(t){return o(e,t)},r[pe("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Gt(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=p((/android (\d+)/.exec(Bn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,d=!1,u=!1;if(l){for(var m in l)if(r=c.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),d=!!("transition"in l||n+"Transition"in l),u=!!("animation"in l||n+"Animation"in l),!a||d&&u||(d=b(s.body.style.webkitTransition),u=b(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>a||o),hasEvent:function(e){if("input"==e&&9==zn)return!1;if(_(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:ar(),vendorPrefix:n,transitions:d,animations:u,android:a}}]}function Kt(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,a){function o(){if(s.totalPendingRequests--,!a)throw Br("tpload","Failed to load template: {0}",i);return n.reject()}var s=r;s.totalPendingRequests++;var c=t.defaults&&t.defaults.transformResponse;if(nr(c)){var l=c;c=[];for(var d=0;d<l.length;++d){var u=l[d];u!==et&&c.push(u)}}else c===et&&(c=null);var p={cache:e,transformResponse:c};return t.get(i,p).then(function(t){var n=t.data;return s.totalPendingRequests--,e.put(i,n),n},o)}return r.totalPendingRequests=0,r}]}function Yt(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return a(r,function(e){var r=Qn.element(e).data("$binding");r&&a(r,function(r){if(n){var a=new RegExp("(^|\\s)"+ir(t)+"(\\s|\\||$)");a.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Zt(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,c){var l,d=v(c)&&!c,u=(d?r:n).defer(),p=u.promise;return l=t.defer(function(){try{u.resolve(a())}catch(t){u.reject(t),i(t)}finally{delete o[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=l,o[l]=u,p}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function Xt(e,t){var n=e;return zn&&(ui.setAttribute("href",n),n=ui.href),ui.setAttribute("href",n),{href:ui.href,protocol:ui.protocol?ui.protocol.replace(/:$/,""):"",host:ui.host,search:ui.search?ui.search.replace(/^\?/,""):"",hash:ui.hash?ui.hash.replace(/^#/,""):"",hostname:ui.hostname,port:ui.port,pathname:"/"===ui.pathname.charAt(0)?ui.pathname:"/"+ui.pathname}}function Jt(e){var t=b(e)?Xt(e):e;return t.protocol===pi.protocol&&t.host===pi.host}function Qt(){this.$get=f(e)}function en(e){function t(r,i){if(y(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",nn),t("date",hn),t("filter",tn),t("json",gn),t("limitTo",fn),t("lowercase",_i),t("number",rn),t("orderBy",_n),t("uppercase",vi)}function tn(){return function(e,t,n){if(!nr(e))return e;var r=typeof n,i=[];i.check=function(e,t){for(var n=0;n<i.length;n++)if(!i[n](e,t))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return Qn.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var r in e)if("$"!==r.charAt(0)&&Fn.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var a=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!a(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&a(e[r],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(a(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)!function(e){"undefined"!=typeof t[e]&&i.push(function(n){return a("$"==e?n:n&&n[e],t[e])})}(o);break;case"function":i.push(t);break;default:return e}for(var s=[],c=0;c<e.length;c++){var l=e[c];i.check(l,c)&&s.push(l)}return s}}function nn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return _(n)&&(n=t.CURRENCY_SYM),_(r)&&(r=2),null==e?e:an(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function rn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:an(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function an(e,t,n,r,i){if(!isFinite(e)||y(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",c=[],l=!1;if(-1!==o.indexOf("e")){var d=o.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?(o="0",e=0):(s=o,l=!0)}if(l)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{var u=(o.split(mi)[1]||"").length;_(i)&&(i=Math.min(Math.max(t.minFrac,u),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i),0===e&&(a=!1);var p=(""+e).split(mi),m=p[0];p=p[1]||"";var h,g=0,f=t.lgSize,v=t.gSize;if(m.length>=f+v)for(g=m.length-f,h=0;g>h;h++)(g-h)%v===0&&0!==h&&(s+=n),s+=m.charAt(h);for(h=g;h<m.length;h++)(m.length-h)%f===0&&0!==h&&(s+=n),s+=m.charAt(h);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return c.push(a?t.negPre:t.posPre),c.push(s),c.push(a?t.negSuf:t.posSuf),c.join("")}function on(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function sn(e,t,n,r){return n=n||0,function(i){var a=i["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),on(a,t,r)}}function cn(e,t){return function(n,r){var i=n["get"+e](),a=qn(t?"SHORT"+e:e);return r[a][i]}}function ln(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=on(Math[t>0?"floor":"ceil"](t/60),2)+on(Math.abs(t%60),2)}function dn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function un(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function pn(e){return function(t){var n=dn(t.getFullYear()),r=un(t),i=+r-+n,a=1+Math.round(i/6048e5);return on(a,e)}}function mn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function hn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),a=p(t[9]+t[11])),o.call(r,p(t[1]),p(t[2])-1,p(t[3]));var c=p(t[4]||0)-i,l=p(t[5]||0)-a,d=p(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,d,u),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,b(n)&&(n=fi.test(n)?p(n):t(n)),w(n)&&(n=new Date(n)),!k(n))return n;for(;r;)s=gi.exec(r),s?(l=R(l,s,1),r=l.pop()):(l.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),a(l,function(t){o=hi[t],c+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function gn(){return function(e){return j(e,!0)}}function fn(){return function(e,t){if(w(e)&&(e=e.toString()),!nr(e)&&!b(e))return e;if(t=Math.abs(Number(t))===1/0?Number(t):p(t),b(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function _n(e){return function(t,n,r){function a(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return t?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,r=typeof t;return n==r?(k(e)&&k(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!i(t))return t;n=nr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,r=t||g;if(b(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return o(function(e,t){return s(e,t)},n);if(r=e(t),r.constant){var i=r();return o(function(e,t){return s(e[i],t[i])},n)}}return o(function(e,t){return s(r(e),r(t))},n)});for(var c=[],l=0;l<t.length;l++)c.push(t[l]);return c.sort(o(a,r))}}function vn(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function yn(e,t){e.$name=t}function bn(e,t,r,i,o){var s=this,c=[],l=s.$$parentForm=e.parent().controller("form")||wi;s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){a(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){ae(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),N(c,e)},Nn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(N(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(e,qi),i.addClass(e,ji),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(e,qi,ji+" "+ki),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(c,function(e){e.$setPristine()})},s.$setUntouched=function(){a(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,ki),s.$submitted=!0,l.$setSubmitted()}}function wn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function kn(e,t,n,r,i,a){$n(e,t,n,r,i,a),wn(r)}function $n(e,t,n,r,i,a){var o=t[0].placeholder,s={},c=Bn(t[0].type);if(!i.android){var l=!1;t.on("compositionstart",function(e){l=!0}),t.on("compositionend",function(){l=!1,d()})}var d=function(e){if(!l){var i=t.val(),a=e&&e.type;if(zn&&"input"===(e||s).type&&t[0].placeholder!==o)return void(o=t[0].placeholder);"password"===c||n.ngTrim&&"false"===n.ngTrim||(i=rr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,a)}};if(i.hasEvent("input"))t.on("input",d);else{var u,p=function(e){u||(u=a.defer(function(){d(e),u=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||p(e)}),i.hasEvent("paste")&&t.on("paste cut",p)}t.on("change",d),r.$render=function(){t.val(r.$isEmpty(r.$modelValue)?"":r.$viewValue)}}function Sn(e,t){if(k(e))return e;if(b(e)){Di.lastIndex=0;var n=Di.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,c=0,l=dn(r),d=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+d,a,o,s,c)}}return 0/0}function Cn(e,t){return function(n,r){var i,o;if(k(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Mi.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function Mn(e,t,r,i){return function(a,o,s,c,l,d,u){function p(e){return v(e)?k(e)?e:r(e):n}An(a,o,s,c),$n(a,o,s,c,l,d);var m,h=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var i=r(e,m);return"UTC"===h&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),c.$formatters.push(function(e){if(!c.$isEmpty(e)){if(!k(e))throw Oi("datefmt","Expected `{0}` to be a date",e);if(m=e,m&&"UTC"===h){var t=6e4*m.getTimezoneOffset();m=new Date(m.getTime()+t)}return u("date")(e,i,h)}return m=null,""}),v(s.min)||s.ngMin){var g;c.$validators.min=function(e){return c.$isEmpty(e)||_(g)||r(e)>=g},s.$observe("min",function(e){g=p(e),c.$validate()})}if(v(s.max)||s.ngMax){var f;c.$validators.max=function(e){return c.$isEmpty(e)||_(f)||r(e)<=f},s.$observe("max",function(e){f=p(e),c.$validate()})}c.$isEmpty=function(e){return!e||e.getTime&&e.getTime()!==e.getTime()}}}function An(e,t,r,i){var a=t[0],o=i.$$hasNativeValidators=y(a.validity);o&&i.$parsers.push(function(e){var r=t.prop(Rn)||{};return r.badInput&&!r.typeMismatch?n:e})}function xn(e,t,r,i,a,o){if(An(e,t,r,i),$n(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Ei.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!w(e))throw Oi("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),r.min||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||_(s)||e>=s},r.$observe("min",function(e){v(e)&&!w(e)&&(e=parseFloat(e,10)),s=w(e)&&!isNaN(e)?e:n,i.$validate()})}if(r.max||r.ngMax){var c;i.$validators.max=function(e){return i.$isEmpty(e)||_(c)||c>=e},r.$observe("max",function(e){v(e)&&!w(e)&&(e=parseFloat(e,10)),c=w(e)&&!isNaN(e)?e:n,i.$validate()})}}function En(e,t,n,r,i,a){$n(e,t,n,r,i,a),wn(r),r.$$parserName="url",r.$validators.url=function(e){return r.$isEmpty(e)||Ai.test(e)}}function Tn(e,t,n,r,i,a){$n(e,t,n,r,i,a),wn(r),r.$$parserName="email",r.$validators.email=function(e){return r.$isEmpty(e)||xi.test(e)}}function In(e,t,n,r){_(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Dn(e,t,n,i,a){var o;if(v(i)){if(o=e(i),!o.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return a}function Pn(e,t,n,r,i,a,o,s){var c=Dn(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Dn(s,e,"ngFalseValue",n.ngFalseValue,!1),d=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",d),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==c},r.$formatters.push(function(e){return L(e,c)}),r.$parsers.push(function(e){return e?c:l})}function Nn(e){function t(e,t,c){t===n?r("$pending",e,c):i("$pending",e,c),E(t)?t?(u(s.$error,e,c),d(s.$$success,e,c)):(d(s.$error,e,c),u(s.$$success,e,c)):(u(s.$error,e,c),u(s.$$success,e,c)),s.$pending?(a(Vi,!0),s.$valid=s.$invalid=n,o("",null)):(a(Vi,!1),s.$valid=Un(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,o(e,l),p.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),d(s[e],t,n)}function i(e,t,r){s[e]&&u(s[e],t,r),Un(s[e])&&(s[e]=n)}function a(e,t){t&&!l[e]?(m.addClass(c,e),l[e]=!0):!t&&l[e]&&(m.removeClass(c,e),l[e]=!1)}function o(e,t){e=e?"-"+te(e,"-"):"",a(Bi+e,t===!0),a(Fi+e,t===!1)}var s=e.ctrl,c=e.$element,l={},d=e.set,u=e.unset,p=e.parentForm,m=e.$animate;l[Fi]=!(l[Bi]=c.hasClass(Bi)),s.$setValidity=t}function Un(e){if(e)for(var t in e)return!1;return!0}function On(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(nr(e))return e;if(b(e))return e.split(" ");if(y(e)){var t=[];return a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(o,s,c){function l(e){var t=u(e,1);c.$addClass(t)}function d(e){var t=u(e,-1);c.$removeClass(t)}function u(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),a=r(e,t);i=u(i,1),a=u(a,-1),i&&i.length&&n.addClass(s,i),a&&a.length&&n.removeClass(s,a)}function m(e){if(t===!0||o.$index%2===t){var n=i(e||[]);if(h){if(!L(e,h)){var r=i(h);p(r,n)}}else l(n)}h=O(e)}var h;o.$watch(c[e],m,!0),c.$observe("class",function(t){m(o.$eval(c[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(c[e]));a===t?l(s):d(s)}})}}}]}var Ln=/^\/(.+)\/([a-z]*)$/,Rn="validity",Bn=function(e){return b(e)?e.toLowerCase():e},Fn=Object.prototype.hasOwnProperty,qn=function(e){return b(e)?e.toUpperCase():e},jn=function(e){return b(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Hn=function(e){return b(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Bn=jn,qn=Hn);var zn,Vn,Wn,Gn,Kn=[].slice,Yn=[].splice,Zn=[].push,Xn=Object.prototype.toString,Jn=r("ng"),Qn=e.angular||(e.angular={}),er=0;zn=t.documentMode,h.$inject=[],g.$inject=[];var tr,nr=Array.isArray,rr=function(e){return b(e)?e.trim():e},ir=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ar=function(){if(v(ar.isActive_))return ar.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return ar.isActive_=e},or=["ng-","data-ng-","ng:","x-ng-"],sr=/[A-Z]/g,cr=!1,lr=1,dr=3,ur=8,pr=9,mr=11,hr={full:"1.3.2",major:1,minor:3,dot:2,codeName:"cardiovasculatory-magnification"};_e.expando="ng339";var gr=_e.cache={},fr=1,_r=function(e,t,n){e.addEventListener(t,n,!1)},vr=function(e,t,n){e.removeEventListener(t,n,!1)};_e._data=function(e){return this.cache[e[this.expando]]||{}};var yr=/([\:\-\_]+(.))/g,br=/^moz([A-Z])/,wr={mouseleave:"mouseout",mouseenter:"mouseover"},kr=r("jqLite"),$r=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sr=/<|&#?\w+;/,Cr=/<([\w:]+)/,Mr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ar={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ar.optgroup=Ar.option,Ar.tbody=Ar.tfoot=Ar.colgroup=Ar.caption=Ar.thead,Ar.th=Ar.td;var xr=_e.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),_e(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Vn(e>=0?this[e]:this[this.length+e])},length:0,push:Zn,sort:[].sort,splice:[].splice},Er={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Er[Bn(e)]=e});var Tr={};a("input,select,option,textarea,button,form,details".split(","),function(e){Tr[e]=!0});var Ir={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:$e,removeData:we},function(e,t){_e[t]=e}),a({data:$e,inheritedData:Ee,scope:function(e){return Vn.data(e,"$scope")||Ee(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Vn.data(e,"$isolateScope")||Vn.data(e,"$isolateScopeNoTemplate")},controller:xe,injector:function(e){return Ee(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Se,css:function(e,t,n){return t=pe(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=Bn(t);if(Er[i]){if(!v(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(v(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(_(t)){var n=e.nodeType;return n===lr||n===dr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(_(t)){if(e.multiple&&"select"===P(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return _(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Te},function(e,t){_e.prototype[t]=function(t,r){var i,a,o=this.length;if(e!==Te&&(2==e.length&&e!==Se&&e!==xe?t:r)===n){if(y(t)){for(i=0;o>i;i++)if(e===$e)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(var s=e.$dv,c=s===n?Math.min(o,1):o,l=0;c>l;l++){var d=e(this[l],t,r);s=s?s+d:d}return s}for(i=0;o>i;i++)e(this[i],t,r);return this}}),a({removeData:we,on:function Ua(e,t,n,r){if(v(r))throw kr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(he(e)){var i=ke(e,!0),a=i.events,o=i.handle;o||(o=i.handle=Ue(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length;c--;){t=s[c];var l=a[t];l||(a[t]=[],"mouseenter"===t||"mouseleave"===t?Ua(e,wr[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&o(e,t)}):"$destroy"!==t&&_r(e,t,o),l=a[t]),l.push(n)}}},off:be,one:function(e,t,n){e=Vn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ye(e),a(new _e(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===lr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===lr||n===mr){t=new _e(t);for(var r=0,i=t.length;i>r;r++){var a=t[r];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===lr){var n=e.firstChild;a(new _e(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Vn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ie,detach:function(e){Ie(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new _e(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Me,removeClass:Ce,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;_(r)&&(r=!Se(e,t)),(r?Me:Ce)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==mr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ve,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,c=ke(e),l=c&&c.events,d=l&&l[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=u(r,t)),i=O(d),o=n?[r].concat(n):[r],a(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){_e.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)_(i)?(i=e(this[a],t,n,r),v(i)&&(i=Vn(i))):Ae(i,e(this[a],t,n,r));return v(i)?i:this},_e.prototype.bind=_e.prototype.on,_e.prototype.unbind=_e.prototype.off}),Le.prototype={put:function(e,t){this[Oe(e,this.nextUid)]=t},get:function(e){return this[Oe(e,this.nextUid)]},remove:function(e){var t=this[e=Oe(e,this.nextUid)];return delete this[e],t}};var Dr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Pr=/,/,Nr=/^\s*(_?)(\S+?)\1\s*$/,Ur=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Or=r("$injector");Fe.$$annotate=Be;var Lr=r("$animate"),Rr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Lr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function r(t){var r,i=e.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=t(function(){i.resolve()})}),i.promise}function i(e,t){var n=[],r=[],i=ce();return a((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0}),a(t,function(e,t){var a=i[t];e===!1&&a?r.push(t):e!==!0||a||n.push(t)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function o(e,t,n){for(var r=0,i=t.length;i>r;++r){var a=t[r];e[a]=n}}function s(){return l||(l=e.defer(),t(function(){l.resolve(),l=null})),l.promise}function c(e,t){if(Qn.isObject(t)){var n=u(t.from||{},t.to||{});e.css(n)}}var l;return{animate:function(e,t,n){return c(e,{from:t,to:n}),s()},enter:function(e,t,n,r){return c(e,r),n?n.after(e):t.prepend(e),s()},leave:function(e,t){return e.remove(),s()},move:function(e,t,n,r){return this.enter(e,t,n,r)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=Vn(e),t=b(t)?t:nr(t)?t.join(" "):"",a(e,function(e){Me(e,t)}),c(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=Vn(e),t=b(t)?t:nr(t)?t.join(" "):"",a(e,function(e){Ce(e,t)}),c(e,n),s()},setClass:function(e,t,n,a){var s=this,c="$$animateClasses",l=!1;e=Vn(e);var d=e.data(c);d?a&&d.options&&(d.options=Qn.extend(d.options||{},a)):(d={classes:{},options:a},l=!0);var u=d.classes;return t=nr(t)?t:t.split(" "),n=nr(n)?n:n.split(" "),o(u,t,!0),o(u,n,!1),l&&(d.promise=r(function(t){var n=e.data(c);if(e.removeData(c),n){var r=i(e,n.classes);r&&s.$$setClassImmediately(e,r[0],r[1],n.options)}t()}),e.data(c,d)),d.promise},$$setClassImmediately:function(e,t,n,r){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),c(e,r),s()},enabled:h,cancel:h}}]}],Br=r("$compile");Ge.$inject=["$provide","$$sanitizeUriProvider"];var Fr=/^((?:x|data)[\:\-_])/i,qr="application/json",jr={"Content-Type":qr+";charset=utf-8"},Hr=/^\s*(\[|\{[^\{])/,zr=/[\}\]]\s*$/,Vr=/^\)\]\}',?\n/,Wr=r("$interpolate"),Gr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Kr={http:80,https:443,ftp:21},Yr=r("$location"),Zr={$$html5:!1,$$replace:!1,absUrl:kt("$$absUrl"),url:function(e){if(_(e))return this.$$url;var t=Gr.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),
this.hash(t[5]||""),this},protocol:kt("$$protocol"),host:kt("$$host"),port:kt("$$port"),path:$t("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||w(e))e=e.toString(),this.$$search=W(e);else{if(!y(e))throw Yr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=U(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:_(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:$t("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([wt,bt,yt],function(e){e.prototype=Object.create(Zr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==yt||!this.$$html5)throw Yr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=_(t)?null:t,this}});var Xr=r("$parse"),Jr=Function.prototype.call,Qr=Function.prototype.apply,ei=Function.prototype.bind,ti=ce();a({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,ti[t]=e}),ti["this"]=function(e){return e},ti["this"].sharedGetter=!0;var ni=u(ce(),{"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),v(r)?v(i)?r+i:r:v(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(v(n)?n:0)-(v(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),ri={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ii=function(e){this.options=e};ii.prototype={constructor:ii,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.tokens=[];this.index<this.text.length;)if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else if(this.isWhitespace(this.ch))this.index++;else{var t=this.ch+this.peek(),r=t+this.peek(2),i=ni[this.ch],a=ni[t],o=ni[r];o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=3):a?(this.tokens.push({index:this.index,text:t,fn:a}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Xr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Bn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,r,i,a=this.text,o="",s=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(e=this.index),o+=i,this.index++;if(e&&"."===o[o.length-1]&&(this.index--,o=o.slice(0,-1),e=o.lastIndexOf("."),-1===e&&(e=n)),e)for(t=this.index;t<this.text.length;){if(i=this.text.charAt(t),"("===i){r=o.substr(e-s+1),o=o.substr(0,e-s),this.index=t;break}if(!this.isWhitespace(i))break;t++}this.tokens.push({index:s,text:o,fn:ti[o]||Nt(o,this.options,a)}),r&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:r}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=ri[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,string:n,constant:!0,fn:function(){return n}});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var ai=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};ai.ZERO=u(function(){return 0},{sharedGetter:!0,constant:!0}),ai.prototype={constructor:ai,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),t.constant&&(e.constant=!0,e.literal=!0)}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,r),r=null):"["===n.text?(r=e,e=this.objectIndex(e)):"."===n.text?(r=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw Xr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw Xr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],a=i.text;if(a===e||a===t||a===n||a===r||!e&&!t&&!n&&!r)return i}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return u(function(n,r){return e(n,r,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,r){return u(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant,inputs:!r&&[e,n]})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0,a=e.length;a>i;i++)r=e[i](t,n);return r}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,r,i=this.expect(),a=this.$filter(i.text);if(this.peek(":"))for(t=[],r=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return u(function(i,o){var s=e(i,o);if(r){r[0]=s;for(var c=t.length;c--;)r[c+1]=t[c](i,o);return a.apply(n,r)}return a(s)},{constant:!a.$stateful&&o.every(Et),inputs:!a.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),u(function(t,r){return n.assign(t,e(t,r),r)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if(t=this.expect("?")){if(e=this.assignment(),t=this.expect(":")){var r=this.assignment();return u(function(t,i){return n(t,i)?e(t,i):r(t,i)},{constant:n.constant&&e.constant&&r.constant})}this.throwError("expected :",t)}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.fn,this.logicalAND(),!0);return t},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND(),!0)),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(ai.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this.text,n=this.expect().text,r=Nt(n,this.options,t);return u(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,a){var o=e(r,a);return o||e.assign(r,o={}),Tt(o,n,i,t)}})},objectIndex:function(e){var t=this.text,r=this.expression();return this.consume("]"),u(function(i,a){var o,s=e(i,a),c=r(i,a);return Mt(c,t),s?o=At(s[c],t):n},{assign:function(n,i,a){var o=Mt(r(n,a),t),s=At(e(n,a),t);return s||e.assign(n,s={}),s[o]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,i=n.length?[]:null;return function(a,o){var s=t?t(a,o):a,c=e(a,o,s)||h;if(i)for(var l=n.length;l--;)i[l]=At(n[l](a,o),r);At(s,r),xt(c,r);var d=c.apply?c.apply(s,i):c(i[0],i[1],i[2],i[3],i[4]);return At(d,r)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var t=this.expression();e.push(t)}while(this.expect(","));return this.consume("]"),u(function(t,n){for(var r=[],i=0,a=e.length;a>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:e.every(Et),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect();e.push(n.string||n.text),this.consume(":");var r=this.expression();t.push(r)}while(this.expect(","));return this.consume("}"),u(function(n,r){for(var i={},a=0,o=t.length;o>a;a++)i[e[a]]=t[a](n,r);return i},{literal:!0,constant:t.every(Et),inputs:t})}};var oi=ce(),si=ce(),ci=Object.prototype.valueOf,li=r("$sce"),di={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Br=r("$compile"),ui=t.createElement("a"),pi=Xt(e.location.href,!0);en.$inject=["$provide"],nn.$inject=["$locale"],rn.$inject=["$locale"];var mi=".",hi={yyyy:sn("FullYear",4),yy:sn("FullYear",2,0,!0),y:sn("FullYear",1),MMMM:cn("Month"),MMM:cn("Month",!0),MM:sn("Month",2,1),M:sn("Month",1,1),dd:sn("Date",2),d:sn("Date",1),HH:sn("Hours",2),H:sn("Hours",1),hh:sn("Hours",2,-12),h:sn("Hours",1,-12),mm:sn("Minutes",2),m:sn("Minutes",1),ss:sn("Seconds",2),s:sn("Seconds",1),sss:sn("Milliseconds",3),EEEE:cn("Day"),EEE:cn("Day",!0),a:mn,Z:ln,ww:pn(2),w:pn(1)},gi=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,fi=/^\-?\d+$/;hn.$inject=["$locale"];var _i=f(Bn),vi=f(qn);_n.$inject=["$parse"];var yi=f({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===Xn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),bi={};a(Er,function(e,t){if("multiple"!=e){var n=Ke("ng-"+t);bi[n]=function(){return{restrict:"A",priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(Ir,function(e,t){bi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Ln);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Ke("ng-"+e);bi[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Xn.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(zn&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var wi={$addControl:h,$$renameControl:yn,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},ki="ng-submitted";bn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var $i=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:bn,compile:function(e){return e.addClass(qi).addClass(Bi),{pre:function(e,r,i,a){if(!("action"in i)){var o=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault?t.preventDefault():t.returnValue=!1};_r(r[0],"submit",o),r.on("$destroy",function(){t(function(){vr(r[0],"submit",o)},0,!1)})}var s=a.$$parentForm,c=a.$name;c&&(Tt(e,c,a,c),i.$observe(i.name?"name":"ngForm",function(t){c!==t&&(Tt(e,c,n,c),c=t,Tt(e,c,a,c),s.$$renameControl(a,c))})),r.on("$destroy",function(){s.$removeControl(a),c&&Tt(e,c,n,c),u(a,wi)})}}}};return r}]},Si=$i(),Ci=$i(!0),Mi=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ai=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,xi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ei=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ti=/^(\d{4})-(\d{2})-(\d{2})$/,Ii=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Di=/^(\d{4})-W(\d\d)$/,Pi=/^(\d{4})-(\d\d)$/,Ni=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ui=/(\s+|^)default(\s+|$)/,Oi=new r("ngModel"),Li={text:kn,date:Mn("date",Ti,Cn(Ti,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Mn("datetimelocal",Ii,Cn(Ii,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Mn("time",Ni,Cn(Ni,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Mn("week",Di,Sn,"yyyy-Www"),month:Mn("month",Pi,Cn(Pi,["yyyy","MM"]),"yyyy-MM"),number:xn,url:En,email:Tn,radio:In,checkbox:Pn,hidden:h,button:h,submit:h,reset:h,file:h},Ri=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Li[Bn(o.type)]||Li.text)(i,a,o,s[0],t,e,n,r)}}}}],Bi="ng-valid",Fi="ng-invalid",qi="ng-pristine",ji="ng-dirty",Hi="ng-untouched",zi="ng-touched",Vi="ng-pending",Wi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,c,l,d,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=u(r.name||"",!1)(e);var p=o(r.ngModel),m=null,g=this,f=function(){var t=p(e);return g.$options&&g.$options.getterSetter&&$(t)&&(t=t()),t},y=function(t){var n;g.$options&&g.$options.getterSetter&&$(n=p(e))?n(g.$modelValue):p.assign(e,g.$modelValue)};this.$$setOptions=function(e){if(g.$options=e,!(p.assign||e&&e.getterSetter))throw Oi("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,z(i))},this.$render=h,this.$isEmpty=function(e){return _(e)||""===e||null===e||e!==e};var b=i.inheritedData("$formController")||wi,k=0;Nn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:b,$animate:s}),this.$setPristine=function(){g.$dirty=!1,g.$pristine=!0,s.removeClass(i,ji),s.addClass(i,qi)},this.$setUntouched=function(){g.$touched=!1,g.$untouched=!0,s.setClass(i,Hi,zi)},this.$setTouched=function(){g.$touched=!0,g.$untouched=!1,s.setClass(i,zi,Hi)},this.$rollbackViewValue=function(){c.cancel(m),g.$viewValue=g.$$lastCommittedViewValue,g.$render()},this.$validate=function(){w(g.$modelValue)&&isNaN(g.$modelValue)||this.$$parseAndValidate()},this.$$runValidators=function(e,t,r,i){function o(e){var t=g.$$parserName||"parse";if(e===n)l(t,null);else if(l(t,e),!e)return a(g.$validators,function(e,t){l(t,null)}),a(g.$asyncValidators,function(e,t){l(t,null)}),!1;return!0}function s(){var e=!0;return a(g.$validators,function(n,i){var a=n(t,r);e=e&&a,l(i,a)}),e?!0:(a(g.$asyncValidators,function(e,t){l(t,null)}),!1)}function c(){var e=[],i=!0;a(g.$asyncValidators,function(a,o){var s=a(t,r);if(!T(s))throw Oi("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(o,n),e.push(s.then(function(){l(o,!0)},function(e){i=!1,l(o,!1)}))}),e.length?d.all(e).then(function(){u(i)},h):u(!0)}function l(e,t){p===k&&g.$setValidity(e,t)}function u(e){p===k&&i(e)}k++;var p=k;return o(e)&&s()?void c():void u(!1)},this.$commitViewValue=function(){var e=g.$viewValue;c.cancel(m),(g.$$lastCommittedViewValue!==e||""===e&&g.$$hasNativeValidators)&&(g.$$lastCommittedViewValue=e,g.$pristine&&(g.$dirty=!0,g.$pristine=!1,s.removeClass(i,qi),s.addClass(i,ji),b.$setDirty()),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){g.$modelValue!==o&&g.$$writeModelToScope()}var t=g.$$lastCommittedViewValue,r=t,i=_(r)?n:!0;if(i)for(var a=0;a<g.$parsers.length;a++)if(r=g.$parsers[a](r),_(r)){i=!1;break}w(g.$modelValue)&&isNaN(g.$modelValue)&&(g.$modelValue=f());var o=g.$modelValue,s=g.$options&&g.$options.allowInvalid;s&&(g.$modelValue=r,e()),g.$$runValidators(i,r,t,function(t){s||(g.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){y(g.$modelValue),a(g.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){g.$viewValue=e,(!g.$options||g.$options.updateOnDefault)&&g.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=g.$options;i&&v(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[t])?r=n[t]:w(n["default"])&&(r=n["default"])),c.cancel(m),r?m=c(function(){g.$commitViewValue()},r):l.$$phase?g.$commitViewValue():e.$apply(function(){g.$commitViewValue()})},e.$watch(function(){var e=f();if(e!==g.$modelValue){g.$modelValue=e;for(var t=g.$formatters,r=t.length,i=e;r--;)i=t[r](i);g.$viewValue!==i&&(g.$viewValue=g.$$lastCommittedViewValue=i,g.$render(),g.$$runValidators(n,e,i,h))}return e})}],Gi=function(){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Wi,priority:1,compile:function(e){return e.addClass(qi).addClass(Hi).addClass(Bi),{pre:function(e,t,n,r){var i=r[0],a=r[1]||wi;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(e){i.$name!==e&&a.$$renameControl(i,e)}),e.$on("$destroy",function(){a.$removeControl(i)})},post:function(e,t,n,r){var i=r[0];i.$options&&i.$options.updateOn&&t.on(i.$options.updateOn,function(e){i.$$debounceViewValueCommit(e&&e.type)}),t.on("blur",function(t){i.$touched||e.$apply(function(){i.$setTouched()})})}}}}},Ki=f({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Yi=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Zi=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(b(e)&&e.length>0&&(e=new RegExp(e)),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,z(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e){return a.$isEmpty(e)||_(o)||o.test(e)}}}}},Xi=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("maxlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.maxlength=function(e,t){return r.$isEmpty(e)||t.length<=i}}}}},Ji=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(e)||t.length>=i}}}}},Qi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,c=s?rr(o):o,l=function(e){if(!_(e)){var t=[];return e&&a(e.split(c),function(e){e&&t.push(s?rr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return nr(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ea=/^(true|false|\d+)$/,ta=function(){return{restrict:"A",priority:100,compile:function(e,t){return ea.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},na=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=rr(this.$options.updateOn.replace(Ui,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ra=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],ia=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,a){var o=e(i.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],a.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],aa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(a(t))||"")})}}}}],oa=On("",!0),sa=On("Odd",0),ca=On("Even",1),la=vn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),da=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ua={},pa={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ke("ng-"+e);ua[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};pa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ma=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,c,l;n.$watch(i.ngIf,function(n){n?c||o(function(n,a){c=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=se(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],ha=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Qn.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",c=a.autoscroll;return function(i,a,l,d,u){var p,m,h,g=0,f=function(){m&&(m.remove(),m=null),p&&(p.$destroy(),p=null),h&&(n.leave(h).then(function(){m=null}),m=h,h=null)};i.$watch(r.parseAsResourceUrl(o),function(r){var o=function(){!v(c)||c&&!i.$eval(c)||t()},l=++g;r?(e(r,!0).then(function(e){if(l===g){var t=i.$new();d.template=e;var c=u(t,function(e){f(),n.enter(e,null,a).then(o)});p=t,h=c,p.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){l===g&&(f(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(f(),d.template=null)})}}}}],ga=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return/SVG/.test(r[0].toString())?(r.empty(),void e(ge(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),void e(r.contents())(n))}}}],fa=vn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),_a=vn({terminal:!0,priority:1e3}),va=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var s=o.count,c=o.$attr.when&&i.attr(o.$attr.when),l=o.offset||0,d=r.$eval(c)||{},u={},p=t.startSymbol(),m=t.endSymbol(),h=/^when(Minus)?(.+)$/;a(o,function(e,t){h.test(t)&&(d[Bn(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))}),a(d,function(e,r){u[r]=t(e.replace(n,p+s+"-"+l+m))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in d||(t=e.pluralCat(t-l)),u[t](r))},function(e){i.text(e)})}}}],ya=["$parse","$animate",function(e,o){var s="$$NG_REMOVED",c=r("ngRepeat"),l=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},d=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var m=p.ngRepeat,h=t.createComment(" end ngRepeat: "+m+" "),g=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var f=g[1],_=g[2],v=g[3],y=g[4];if(g=f.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!g)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);var b=g[3]||g[1],w=g[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(v)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var k,$,S,C,M={$id:Oe};return y?k=e(y):(S=function(e,t){return Oe(t)},C=function(e){return e}),function(e,t,r,p,g){k&&($=function(t,n,r){return w&&(M[w]=t),M[b]=n,M.$index=r,k(e,M)});var f=ce();e.$watchCollection(_,function(r){var p,_,y,k,M,A,x,E,T,I,D,P,N=t[0],U=ce();if(v&&(e[v]=r),i(r))T=r,E=$||S;else{E=$||C,T=[];for(var O in r)r.hasOwnProperty(O)&&"$"!=O.charAt(0)&&T.push(O);T.sort()}for(k=T.length,D=new Array(k),p=0;k>p;p++)if(M=r===T?p:T[p],A=r[M],x=E(M,A,p),f[x])I=f[x],delete f[x],U[x]=I,D[p]=I;else{if(U[x])throw a(D,function(e){e&&e.scope&&(f[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,x,j(A));D[p]={id:x,scope:n,clone:n},U[x]=!0}for(var L in f){if(I=f[L],P=se(I.clone),o.leave(P),P[0].parentNode)for(p=0,_=P.length;_>p;p++)P[p][s]=!0;I.scope.$destroy()}for(p=0;k>p;p++)if(M=r===T?p:T[p],A=r[M],I=D[p],I.scope){y=N;do y=y.nextSibling;while(y&&y[s]);d(I)!=y&&o.move(se(I.clone),null,Vn(N)),N=u(I),l(I.scope,p,b,A,w,M,k)}else g(function(e,t){I.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,o.enter(e,null,Vn(N)),N=n,I.clone=e,U[I.id]=I,l(I.scope,p,b,A,w,M,k)});f=U})}}}}],ba="ng-hide",wa="ng-hide-animate",ka=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ba,{tempClasses:wa})})}}}],$a=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ba,{tempClasses:wa})})}}}],Sa=vn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ca=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,c=[],l=[],d=[],u=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=d.length;i>r;++r)e.cancel(d[r]);for(d.length=0,r=0,i=u.length;i>r;++r){var s=se(l[r].clone);u[r].$destroy();var m=d[r]=e.leave(s);m.then(p(d,r))}l.length=0,u.length=0,(c=o.cases["!"+n]||o.cases["?"])&&a(c,function(n){n.transclude(function(r,i){u.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:r};l.push(o),e.enter(r,a.parent(),a)})})})}}}],Ma=vn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Aa=vn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),xa=vn({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",z(t));a(function(e){t.empty(),t.append(e)})}}),Ea=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Ta=r("ngOptions"),Ia=f({restrict:"A",terminal:!0}),Da=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,a=this,o={},c=s;a.databound=n.ngModel,a.init=function(e,t,n){c=e,r=t,i=n},a.addOption=function(t,n){ae(t,'"option value"'),o[t]=!0,c.$viewValue==t&&(e.val(t),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},a.removeOption=function(e){this.hasOption(e)&&(delete o[e],c.$viewValue==e&&this.renderUnknownOption(e))},a.renderUnknownOption=function(t){var n="? "+Oe(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},a.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){a.renderUnknownOption=h})}],link:function(s,c,l,d){function u(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&h.prop("selected",!0)):_(e)&&h?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new Le(n.$viewValue);a(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){L(r,n.$viewValue)||(r=O(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function m(t,s,c){function l(e,n,r){return R[A]=r,T&&(R[T]=n),e(t,R)}function d(){t.$apply(function(){var e,n=P(t)||[];if(y)e=[],a(s.val(),function(t){t=U?O[t]:t,e.push(u(t,n[t]))});else{var r=U?O[s.val()]:s.val();e=u(r,n[r])}c.$setViewValue(e),_()})}function u(e,t){if("?"===e)return n;if(""===e)return null;var r=E?E:D;return l(r,e,t)}function p(){var e,n=P(t);if(n&&nr(n)){e=new Array(n.length);for(var r=0,i=n.length;i>r;r++)e[r]=l(M,r,n[r]);return e}if(n){e={};for(var a in n)n.hasOwnProperty(a)&&(e[a]=l(M,a,n[a]))}return e}function m(e){var t;if(y)if(U&&nr(e)){t=new Le([]);for(var n=0;n<e.length;n++)t.put(l(U,null,e[n]),!0)}else t=new Le(e);else U&&(e=l(U,null,e));return function(n,r){var i;return i=U?U:E?E:D,y?v(t.remove(l(i,n,r))):e===l(i,n,r);

}}function h(){k||(t.$$postDigest(_),k=!0)}function f(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function _(){k=!1;var e,n,r,i,d,u,p,h,_,b,C,A,x,E,D,N,B,F={"":[]},q=[""],j=c.$viewValue,H=P(t)||[],z=T?o(H):H,V={},W=m(j),G=!1;for(O={},A=0;b=z.length,b>A;A++)p=A,T&&(p=z[A],"$"===p.charAt(0))||(h=H[p],e=l(I,p,h)||"",(n=F[e])||(n=F[e]=[],q.push(e)),x=W(p,h),G=G||x,N=l(M,p,h),N=v(N)?N:"",B=U?U(t,R):T?z[A]:A,U&&(O[B]=p),n.push({id:B,label:N,selected:x}));for(y||(w||null===j?F[""].unshift({id:"",label:"",selected:!G}):G||F[""].unshift({id:"?",label:"",selected:!0})),C=0,_=q.length;_>C;C++){for(e=q[C],n=F[e],L.length<=C?(i={element:S.clone().attr("label",e),label:n.label},d=[i],L.push(d),s.append(i.element)):(d=L[C],i=d[0],i.label!=e&&i.element.attr("label",i.label=e)),E=null,A=0,b=n.length;b>A;A++)r=n[A],(u=d[A+1])?(E=u.element,u.label!==r.label&&(f(V,u.label,!1),f(V,r.label,!0),E.text(u.label=r.label)),u.id!==r.id&&E.val(u.id=r.id),E[0].selected!==r.selected&&(E.prop("selected",u.selected=r.selected),zn&&E.prop("selected",u.selected))):(""===r.id&&w?D=w:(D=$.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).text(r.label),d.push(u={element:D,label:r.label,id:r.id,selected:r.selected}),f(V,r.label,!0),E?E.after(D):i.element.append(D),E=D);for(A++;d.length>A;)r=d.pop(),f(V,r.label,!1),r.element.remove();a(V,function(e,t){e>0?g.addOption(t):0>e&&g.removeOption(t)})}for(;L.length>C;)L.pop()[0].element.remove()}var C;if(!(C=b.match(i)))throw Ta("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,z(s));var M=r(C[2]||C[1]),A=C[4]||C[6],x=/ as /.test(C[0])&&C[1],E=x?r(x):null,T=C[5],I=r(C[3]||""),D=r(C[2]?C[1]:A),P=r(C[7]),N=C[8],U=N?r(C[8]):null,O={},L=[[{element:s,label:""}]],R={};w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",d),c.$render=_,t.$watchCollection(P,h),t.$watchCollection(p,h),y&&t.$watchCollection(function(){return c.$modelValue},h)}if(d[1]){for(var h,g=d[0],f=d[1],y=l.multiple,b=l.ngOptions,w=!1,k=!1,$=Vn(t.createElement("option")),S=Vn(t.createElement("optgroup")),C=$.clone(),M=0,A=c.children(),x=A.length;x>M;M++)if(""===A[M].value){h=w=A.eq(M);break}g.init(f,w,C),y&&(f.$isEmpty=function(e){return!e||0===e.length}),b?m(s,c,f):y?p(s,c,f):u(s,c,f,g)}}}}],Pa=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,r){if(_(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound||(s=t),i?e.$watch(i,function(e,t){r.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Na=f({restrict:"E",terminal:!1});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),de(Qn),void Vn(t).ready(function(){X(t,J)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";function r(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var a="?"===r?r:null,o="*"===r?r:null;return i.push({name:n,optional:!!a}),t=t||"",""+(a?"":t)+"(?:"+(a?t:"")+(o&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var a=t.copy(i);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),r[e]=t.extend(a,e&&n(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[o]=t.extend({redirectTo:e},n(o,a))}return this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,a,o,s,l,d){function u(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;o>a;++a){var s=n[a-1],c=i[a];s&&c&&(r[s.name]=c)}return r}function p(e){var r=y.current;f=h(),_=f&&r&&f.$$route===r.$$route&&t.equals(f.pathParams,r.pathParams)&&!f.reloadOnSearch&&!v,_||!r&&!f||n.$broadcast("$routeChangeStart",f,r).defaultPrevented&&e&&e.preventDefault()}function m(){var e=y.current,r=f;_?(e.params=r.params,t.copy(e.params,a),n.$broadcast("$routeUpdate",e)):(r||e)&&(v=!1,y.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(g(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),o.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?s.get(e):s.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),n=d.getTrustedResourceUrl(n),t.isDefined(n)&&(r.loadedTemplateUrl=n,e=l(n))),t.isDefined(e)&&(i.$template=e),o.all(i)}}).then(function(i){r==y.current&&(r&&(r.locals=i,t.copy(r.params,a)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==y.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function h(){var n,a;return t.forEach(r,function(r,o){!a&&(n=u(i.path(),r))&&(a=e(r,{params:t.extend({},i.search(),n),pathParams:n}),a.$$route=r)}),a||r[null]&&e(r[null],{params:{},pathParams:{}})}function g(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(.*)/),a=i[1];r.push(n[a]),r.push(i[2]||""),delete n[a]}}),r.join("")}var f,_,v=!1,y={routes:r,reload:function(){v=!0,n.$evalAsync(function(){p(),m()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");var n={},r=this;t.forEach(Object.keys(e),function(t){r.current.pathParams[t]||(n[t]=e[t])}),e=t.extend({},this.current.params,e),i.path(g(this.current.$$route.originalPath,e)),i.search(t.extend({},i.search(),n))}};return n.$on("$locationChangeStart",p),n.$on("$locationChangeSuccess",m),y}]}function i(){this.$get=function(){return{}}}function a(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,a,o,s,c){function l(){m&&(r.cancel(m),m=null),u&&(u.$destroy(),u=null),p&&(m=r.leave(p),m.then(function(){m=null}),p=null)}function d(){var o=e.current&&e.current.locals,s=o&&o.$template;if(t.isDefined(s)){var d=i.$new(),m=e.current,f=c(d,function(e){r.enter(e,null,p||a).then(function(){!t.isDefined(h)||h&&!i.$eval(h)||n()}),l()});p=f,u=m.scope=d,u.$emit("$viewContentLoaded"),u.$eval(g)}else l()}var u,p,m,h=o.autoscroll,g=o.onload||"";i.$on("$routeChangeSuccess",d),d()}}}function o(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var s=e(i.contents());if(a.controller){o.$scope=r;var c=t(a.controller,o);a.controllerAs&&(r[a.controllerAs]=c),i.data("$ngControllerController",c),i.children().data("$ngControllerController",c)}s(r)}}}var s=t.module("ngRoute",["ng"]).provider("$route",r),c=t.$$minErr("ngRoute");s.provider("$routeParams",i),s.directive("ngView",a),s.directive("ngView",o),a.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,r,i){var a=i.ngAnimateChildren;t.isString(a)&&0===a.length?r.data(e,!0):n.$watch(a,function(t){r.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(r,i){function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==g)return n}}function o(e){return e&&t.element(e)}function s(e){return t.element(a(e))}function c(e,t){return a(e)==a(t)}var l=t.noop,d=t.forEach,u=i.$$selectors,p=t.isArray,m=t.isString,h=t.isObject,g=1,f="$$ngAnimateState",_="$$ngAnimateChildren",v="ng-animate",y={running:!0};r.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest",function(e,n,r,g,b,w,k,$,S){function C(e,t){var n=e.data(f)||{};return t&&(n.running=!0,n.structural=!0,e.data(f,n)),n.disabled||n.running&&n.structural}function M(e){var t,r=n.defer();return r.promise.$$cancelFn=function(){t&&t()},k.$$postDigest(function(){t=e(function(){r.resolve()})}),r.promise}function A(e){return h(e)?(e.tempClasses&&m(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function x(e,t,n){n=n||{};var r={};d(n,function(e,t){d(t.split(" "),function(t){r[t]=e})});var i=Object.create(null);d((e.attr("class")||"").split(/\s+/),function(e){i[e]=!0});var a=[],o=[];return d(t&&t.classes||[],function(e,t){var n=i[t],s=r[t]||{};e===!1?(n||"addClass"==s.event)&&o.push(t):e===!0&&(n&&"removeClass"!=s.event||a.push(t))}),a.length+o.length>0&&[a.join(" "),o.join(" ")]}function E(e){if(e){var t=[],n={},i=e.substr(1).split(".");(g.transitions||g.animations)&&t.push(r.get(u[""]));for(var a=0;a<i.length;a++){var o=i[a],s=u[o];s&&!n[o]&&(t.push(r.get(s)),n[o]=!0)}return t}}function T(e,n,r,i){function a(e,t){var n=e[t],r=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||r?("leave"==t&&(r=n,n=null),k.push({event:t,fn:n}),y.push({event:t,fn:r}),!0):void 0}function o(t,n,a){function o(e){if(n){if((n[e]||l)(),++p<s.length)return;n=null}a()}var s=[];d(t,function(e){e.fn&&s.push(e)});var p=0;d(s,function(t,a){var s=function(){o(a)};switch(t.event){case"setClass":n.push(t.fn(e,c,u,s,i));break;case"animate":n.push(t.fn(e,r,i.from,i.to,s));break;case"addClass":n.push(t.fn(e,c||r,s,i));break;case"removeClass":n.push(t.fn(e,u||r,s,i));break;default:n.push(t.fn(e,s,i))}}),n&&0===n.length&&a()}var s=e[0];if(s){i&&(i.to=i.to||{},i.from=i.from||{});var c,u;p(r)&&(c=r[0],u=r[1],c?u?r=c+" "+u:(r=c,n="addClass"):(r=u,n="removeClass"));var m="setClass"==n,h=m||"addClass"==n||"removeClass"==n||"animate"==n,g=e.attr("class"),f=g+" "+r;if(R(f)){var _=l,v=[],y=[],b=l,w=[],k=[],$=(" "+f).replace(/\s+/g,".");return d(E($),function(e){var t=a(e,n);!t&&m&&(a(e,"addClass"),a(e,"removeClass"))}),{node:s,event:n,className:r,isClassBased:h,isSetClassOperation:m,applyStyles:function(){i&&e.css(t.extend(i.from||{},i.to||{}))},before:function(e){_=e,o(y,v,function(){_=l,e()})},after:function(e){b=e,o(k,w,function(){b=l,e()})},cancel:function(){v&&(d(v,function(e){(e||l)(!0)}),_(!0)),w&&(d(w,function(e){(e||l)(!0)}),b(!0))}}}}}function I(e,n,r,i,a,o,s,c){function u(t){var i="$animate:"+t;k&&k[i]&&k[i].length>0&&w(function(){r.triggerHandler(i,{event:e,className:n})})}function p(){u("before")}function m(){u("after")}function h(){u("close"),c()}function g(){g.hasBeenRun||(g.hasBeenRun=!0,o())}function _(){if(!_.hasBeenRun){b&&b.applyStyles(),_.hasBeenRun=!0,s&&s.tempClasses&&d(s.tempClasses,function(e){r.removeClass(e)});var t=r.data(f);t&&(b&&b.isClassBased?P(r,n):(w(function(){var t=r.data(f)||{};D==t.index&&P(r,n,e)}),r.data(f,t))),h()}}var y=l,b=T(r,e,n,s);if(!b)return g(),p(),m(),_(),y;e=b.event,n=b.className;var k=t.element._data(b.node);if(k=k&&k.events,i||(i=a?a.parent():r.parent()),N(r,i))return g(),p(),m(),_(),y;var $=r.data(f)||{},S=$.active||{},C=$.totalActive||0,M=$.last,A=!1;if(C>0){var x=[];if(b.isClassBased){if("setClass"==M.event)x.push(M),P(r,n);else if(S[n]){var E=S[n];E.event==e?A=!0:(x.push(E),P(r,n))}}else if("leave"==e&&S["ng-leave"])A=!0;else{for(var I in S)x.push(S[I]);$={},P(r,!0)}x.length>0&&d(x,function(e){e.cancel()})}if(!b.isClassBased||b.isSetClassOperation||"animate"==e||A||(A="addClass"==e==r.hasClass(n)),A)return g(),p(),m(),h(),y;S=$.active||{},C=$.totalActive||0,"leave"==e&&r.one("$destroy",function(e){var n=t.element(this),r=n.data(f);if(r){var i=r.active["ng-leave"];i&&(i.cancel(),P(n,"ng-leave"))}}),r.addClass(v),s&&s.tempClasses&&d(s.tempClasses,function(e){r.addClass(e)});var D=O++;return C++,S[n]=b,r.data(f,{last:b,active:S,index:D,totalActive:C}),p(),b.before(function(t){var i=r.data(f);t=t||!i||!i.active[n]||b.isClassBased&&i.active[n].event!=e,g(),t===!0?_():(m(),b.after(_))}),b.cancel}function D(e){var n=a(e);if(n){var r=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(v):n.querySelectorAll("."+v);d(r,function(e){e=t.element(e);var n=e.data(f);n&&n.active&&d(n.active,function(e){e.cancel()})})}}function P(e,t){if(c(e,b))y.disabled||(y.running=!1,y.structural=!1);else if(t){var n=e.data(f)||{},r=t===!0;!r&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(r||!n.totalActive)&&(e.removeClass(v),e.removeData(f))}}function N(e,n){if(y.disabled)return!0;if(c(e,b))return y.running;var r,i,a;do{if(0===n.length)break;var o=c(n,b),s=o?y:n.data(f)||{};if(s.disabled)return!0;if(o&&(a=!0),r!==!1){var l=n.data(_);t.isDefined(l)&&(r=l)}i=i||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!a||!r&&i}b.data(f,y);var U=k.$watch(function(){return S.totalPendingRequests},function(e,t){0===e&&(U(),k.$$postDigest(function(){k.$$postDigest(function(){y.running=!1})}))}),O=0,L=i.classNameFilter(),R=L?function(e){return L.test(e)}:function(){return!0};return{animate:function(e,t,n,r,i){return r=r||"ng-inline-animate",i=A(i)||{},i.from=n?t:null,i.to=n?n:t,M(function(t){return I("animate",r,s(e),null,null,l,i,t)})},enter:function(n,r,i,a){return a=A(a),n=t.element(n),r=o(r),i=o(i),C(n,!0),e.enter(n,r,i),M(function(e){return I("enter","ng-enter",s(n),r,i,l,a,e)})},leave:function(n,r){return r=A(r),n=t.element(n),D(n),C(n,!0),M(function(t){return I("leave","ng-leave",s(n),null,null,function(){e.leave(n)},r,t)})},move:function(n,r,i,a){return a=A(a),n=t.element(n),r=o(r),i=o(i),D(n),C(n,!0),e.move(n,r,i),M(function(e){return I("move","ng-move",s(n),r,i,l,a,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,r,i,o){o=A(o);var c="$$animateClasses";if(n=t.element(n),n=s(n),C(n))return e.$$setClassImmediately(n,r,i,o);var l,u=n.data(c),m=!!u;return u||(u={},u.classes={}),l=u.classes,r=p(r)?r:r.split(" "),d(r,function(e){e&&e.length&&(l[e]=!0)}),i=p(i)?i:i.split(" "),d(i,function(e){e&&e.length&&(l[e]=!1)}),m?(o&&u.options&&(u.options=t.extend(u.options||{},o)),u.promise):(n.data(c,u={classes:l,options:o}),u.promise=M(function(t){var r=n.parent(),i=a(n),o=i.parentNode;if(!o||o.$$NG_REMOVED||i.$$NG_REMOVED)return void t();var s=n.data(c);n.removeData(c);var l=n.data(f)||{},d=x(n,s,l.active);return d?I("setClass",d,n,r,null,function(){d[0]&&e.$$addClassImmediately(n,d[0]),d[1]&&e.$$removeClassImmediately(n,d[1])},s.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)P(t);else{var n=t.data(f)||{};n.disabled=!0,t.data(f,n)}break;case 1:y.disabled=!e;break;default:e=!y.disabled}return!!e}}}]),i.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,i,o,s){function c(){N||(N=s(function(){G=[],N=null,V={}}))}function u(e,t){N&&N(),G.push(t),N=s(function(){d(G,function(e){e()}),G=[],N=null,V={}})}function h(e,n){var r=a(e);e=t.element(r),Z.push(e);var i=Date.now()+n;Y>=i||(o.cancel(K),Y=i,K=o(function(){f(Z),Z=[]},n,!1))}function f(e){d(e,function(e){var t=e.data(q);t&&d(t.closeAnimationFns,function(e){e()})})}function _(e,t){var n=t?V[t]:null;if(!n){var i=0,a=0,o=0,s=0;d(e,function(e){if(e.nodeType==g){var t=r.getComputedStyle(e)||{},n=t[E+U];i=Math.max(v(n),i);var c=t[E+L];a=Math.max(v(c),a);{t[I+L]}s=Math.max(v(t[I+L]),s);var l=v(t[I+U]);l>0&&(l*=parseInt(t[I+R],10)||1),o=Math.max(l,o)}}),n={total:0,transitionDelay:a,transitionDuration:i,animationDelay:s,animationDuration:o},t&&(V[t]=n)}return n}function v(e){var t=0,n=m(e)?e.split(/\s*,\s*/):[];return d(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function y(e){var t=e.parent(),n=t.data(F);return n||(t.data(F,++W),n=W),n+"-"+a(e).getAttribute("class")}function b(e,t,n,r){var i=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,o=y(t),s=o+" "+n,c=V[s]?++V[s].total:0,l={};if(c>0){var d=n+"-stagger",u=o+" "+d,p=!V[u];p&&t.addClass(d),l=_(t,u),p&&t.removeClass(d)}t.addClass(n);var m=t.data(q)||{},h=_(t,s),g=h.transitionDuration,f=h.animationDuration;if(i&&0===g&&0===f)return t.removeClass(n),!1;var v=r||i&&g>0,b=f>0&&l.animationDelay>0&&0===l.animationDuration,w=m.closeAnimationFns||[];t.data(q,{stagger:l,cacheKey:s,running:m.running||0,itemIndex:c,blockTransition:v,closeAnimationFns:w});var S=a(t);return v&&(k(S,!0),r&&t.css(r)),b&&$(S,!0),!0}function w(e,t,n,r,i){function s(){t.off(L,c),t.removeClass(p),t.removeClass(m),U&&o.cancel(U),A(t,n);var e=a(t);for(var r in f)e.style.removeProperty(f[r])}function c(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(j));Math.max(n-O,0)>=I&&i>=x&&r()}var l=a(t),u=t.data(q);if(-1==l.getAttribute("class").indexOf(n)||!u)return void r();var p="",m="";d(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;p+=n+"-active",m+=n+"-pending"});var g="",f=[],v=u.itemIndex,y=u.stagger,b=0;if(v>0){var w=0;y.transitionDelay>0&&0===y.transitionDuration&&(w=y.transitionDelay*v);var S=0;y.animationDelay>0&&0===y.animationDuration&&(S=y.animationDelay*v,f.push(P+"animation-play-state")),b=Math.round(100*Math.max(w,S))/100}b||(t.addClass(p),u.blockTransition&&k(l,!1));var C=u.cacheKey+" "+p,M=_(t,C),x=Math.max(M.transitionDuration,M.animationDuration);if(0===x)return t.removeClass(p),A(t,n),void r();!b&&i&&(M.transitionDuration||(t.css("transition",M.animationDuration+"s linear all"),f.push("transition")),t.css(i));var E=Math.max(M.transitionDelay,M.animationDelay),I=E*z;if(f.length>0){var N=l.getAttribute("style")||"";";"!==N.charAt(N.length-1)&&(N+=";"),l.setAttribute("style",N+" "+g)}var U,O=Date.now(),L=D+" "+T,R=(E+x)*H,B=(b+R)*z;return b>0&&(t.addClass(m),U=o(function(){U=null,M.transitionDuration>0&&k(l,!1),M.animationDuration>0&&$(l,!1),t.addClass(p),t.removeClass(m),i&&(0===M.transitionDuration&&t.css("transition",M.animationDuration+"s linear all"),t.css(i),f.push("transition"))},b*z,!1)),t.on(L,c),u.closeAnimationFns.push(function(){s(),r()}),u.running++,h(t,B),s}function k(e,t){e.style[E+O]=t?"none":""}function $(e,t){e.style[I+B]=t?"paused":""}function S(e,t,n,r){return b(e,t,n,r)?function(e){e&&A(t,n)}:void 0}function C(e,t,n,r,i){return t.data(q)?w(e,t,n,r,i):(A(t,n),void r())}function M(e,t,n,r,i){var a=S(e,t,n,i.from);if(!a)return c(),void r();var o=a;return u(t,function(){o=C(e,t,n,r,i.to)}),function(e){(o||l)(e)}}function A(e,t){e.removeClass(t);var n=e.data(q);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(q))}function x(e,t){var n="";return e=p(e)?e:e.split(/\s+/),d(e,function(e,r){e&&e.length>0&&(n+=(r>0?" ":"")+e+t)}),n}var E,T,I,D,P="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(P="-webkit-",E="WebkitTransition",T="webkitTransitionEnd transitionend"):(E="transition",T="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(P="-webkit-",I="WebkitAnimation",D="webkitAnimationEnd animationend"):(I="animation",D="animationend");var N,U="Duration",O="Property",L="Delay",R="IterationCount",B="PlayState",F="$$ngAnimateKey",q="$$ngAnimateCSS3Data",j=3,H=1.5,z=1e3,V={},W=0,G=[],K=null,Y=0,Z=[];return{animate:function(e,t,n,r,i,a){return a=a||{},a.from=n,a.to=r,M("animate",e,t,i,a)},enter:function(e,t,n){return n=n||{},M("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},M("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},M("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,r,i){i=i||{};var a=x(n,"-remove")+" "+x(t,"-add"),o=S("setClass",e,a,i.from);return o?(u(e,r),o):(c(),void r())},beforeAddClass:function(e,t,n,r){r=r||{};var i=S("addClass",e,x(t,"-add"),r.from);return i?(u(e,n),i):(c(),void n())},beforeRemoveClass:function(e,t,n,r){r=r||{};var i=S("removeClass",e,x(t,"-remove"),r.from);return i?(u(e,n),i):(c(),void n())},setClass:function(e,t,n,r,i){i=i||{},n=x(n,"-remove"),t=x(t,"-add");var a=n+" "+t;return C("setClass",e,a,r,i.to)},addClass:function(e,t,n,r){return r=r||{},C("addClass",e,x(t,"-add"),n,r.to)},removeClass:function(e,t,n,r){return r=r||{},C("removeClass",e,x(t,"-remove"),n,r.to)}}}])}])}(window,window.angular),function(e,t,n){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,l(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],r=l(n,t.noop);return r.chars(e),n.join("")}function a(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function o(e,n){function r(e,r,a,o){if(r=t.lowercase(r),C[r])for(;y.last()&&M[y.last()];)i("",y.last());S[r]&&y.last()==r&&i("",r),o=w[r]||!!o,o||y.push(r);var c={};a.replace(m,function(e,t,n,r,i){var a=n||r||i||"";c[t]=s(a)}),n.start&&n.start(r,c,o)}function i(e,r){var i,a=0;if(r=t.lowercase(r))for(a=y.length-1;a>=0&&y[a]!=r;a--);if(a>=0){for(i=y.length-1;i>=a;i--)n.end&&n.end(y[i]);y.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,c,l,y=[],b=e;for(y.last=function(){return y[y.length-1]};e;){if(l="",o=!0,y.last()&&x[y.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(f,"$1").replace(v,"$1"),n.chars&&n.chars(s(t)),""}),i("",y.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):_.test(e)?(c=e.match(_),c&&(e=e.replace(c[0],""),o=!1)):g.test(e)?(c=e.match(p),c&&(e=e.substring(c[0].length),c[0].replace(p,i),o=!1)):h.test(e)&&(c=e.match(u),c?(c[4]&&(e=e.substring(c[0].length),c[0].replace(u,r)),o=!1):(l+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),l+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(s(l)))),e==b)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",e);b=e}i()}function s(e){if(!e)return"";var t=U.exec(e),n=t[1],r=t[3],i=t[2];return i&&(N.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in N?N.textContent:N.innerText),n+i+r}function c(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!r&&x[e]&&(r=e),r||E[e]!==!0||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),s="img"===e&&"src"===o||"background"===o;P[o]!==!0||T[o]===!0&&!n(r,s)||(i(" "),i(a),i('="'),i(c(r)),i('"'))}),i(o?"/>":">"))},end:function(e){e=t.lowercase(e),r||E[e]!==!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(c(e))}}}var d=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\//,f=/<!--(.*?)-->/g,_=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=a("area,br,col,hr,img,wbr"),k=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=a("rp,rt"),S=t.extend({},$,k),C=t.extend({},k,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),M=t.extend({},$,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=a("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),x=a("script,style"),E=t.extend({},w,C,M,S,A),T=a("background,cite,href,longdesc,src,usemap,xlink:href"),I=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),D=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),P=t.extend({},T,D,I),N=document.createElement("pre"),U=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(a,o){function s(e){e&&m.push(i(e))}function c(e,n){m.push("<a "),t.isDefined(o)&&(m.push('target="'),m.push(o),m.push('" ')),m.push('href="'),m.push(e),m.push('">'),s(n),m.push("</a>")}if(!a)return a;for(var l,d,u,p=a,m=[];l=p.match(n);)d=l[0],l[2]==l[3]&&(d="mailto:"+d),u=l.index,s(p.substr(0,u)),c(d,l[0].replace(r,"")),p=p.substring(u+l[0].length);return s(p),e(m.join(""))}}])}(window,window.angular),function(e,t,n){"use strict";function r(e,n,r){i.directive(e,["$parse","$swipe",function(i,a){var o=75,s=.3,c=30;return function(l,d,u){function p(e){if(!m)return!1;var t=Math.abs(e.y-m.y),r=(e.x-m.x)*n;return h&&o>t&&r>0&&r>c&&s>t/r}var m,h,g=i(u[e]),f=["touch"];t.isDefined(u.ngSwipeDisableMouse)||f.push("mouse"),a.bind(d,{start:function(e,t){m=e,h=!0},cancel:function(e){h=!1},end:function(e,t){p(e)&&l.$apply(function(){d.triggerHandler(r),g(l,{$event:t})})}},f)}}])}var i=t.module("ngTouch",[]);i.factory("$swipe",[function(){function e(e){var t=e.touches&&e.touches.length?e.touches:[e],n=e.changedTouches&&e.changedTouches[0]||e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]||t[0].originalEvent||t[0];return{x:n.clientX,y:n.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=i[e][n];t&&r.push(t)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,i,a){var o,s,c,l,d=!1;a=a||["mouse","touch"],t.on(n(a,"start"),function(t){c=e(t),d=!0,o=0,s=0,l=c,i.start&&i.start(c,t)});var u=n(a,"cancel");u&&t.on(u,function(e){d=!1,i.cancel&&i.cancel(e)}),t.on(n(a,"move"),function(t){if(d&&c){var n=e(t);if(o+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,!(r>o&&r>s))return s>o?(d=!1,void(i.cancel&&i.cancel(t))):(t.preventDefault(),void(i.move&&i.move(n,t)))}}),t.on(n(a,"end"),function(t){d&&(d=!1,i.end&&i.end(e(t),t))})}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,r){function i(e,t,n,r){return Math.abs(e-n)<g&&Math.abs(t-r)<g}function a(e,t,n){for(var r=0;r<e.length;r+=2)if(i(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function o(e){if(!(Date.now()-l>h)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,r=t[0].clientY;1>n&&1>r||u&&u[0]===n&&u[1]===r||(u&&(u=null),"label"===e.target.tagName.toLowerCase()&&(u=[n,r]),a(d,n,r)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur()))}}function s(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;d.push(r,i),n(function(){for(var e=0;e<d.length;e+=2)if(d[e]==r&&d[e+1]==i)return void d.splice(e,e+2)},h,!1)}function c(e,t){d||(r[0].addEventListener("click",o,!0),r[0].addEventListener("touchstart",s,!0),d=[]),l=Date.now(),a(d,e,t)}var l,d,u,p=750,m=12,h=2500,g=25,f="ng-click-active";return function(n,r,i){function a(){h=!1,r.removeClass(f)}var o,s,l,d,u=e(i.ngClick),h=!1;r.on("touchstart",function(e){h=!0,o=e.target?e.target:e.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(f),s=Date.now();var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].originalEvent||t[0];l=n.clientX,d=n.clientY}),r.on("touchmove",function(e){a()}),r.on("touchcancel",function(e){a()}),r.on("touchend",function(e){var n=Date.now()-s,u=e.changedTouches&&e.changedTouches.length?e.changedTouches:e.touches&&e.touches.length?e.touches:[e],g=u[0].originalEvent||u[0],f=g.clientX,_=g.clientY,v=Math.sqrt(Math.pow(f-l,2)+Math.pow(_-d,2));h&&p>n&&m>v&&(c(f,_),o&&o.blur(),t.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[e])),a()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){u(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(f)}),r.on("mousemove mouseup",function(e){r.removeClass(f)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.dropdown","ui.bootstrap.tooltip","ui.bootstrap.position","ui.bootstrap.bindHtml","ui.bootstrap.modal","ui.bootstrap.transition"]),angular.module("ui.bootstrap.tpls",["template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/modal/backdrop.html","template/modal/window.html"]),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",r)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",r))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},r=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,r,i,a){var o,s=this,c=e.$new(),l=r.openClass,d=angular.noop,u=t.onToggle?n(t.onToggle):angular.noop;this.init=function(r){s.$element=r,t.isOpen&&(o=n(t.isOpen),d=o.assign,e.$watch(o,function(e){c.isOpen=!!e}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return s.toggleElement},c.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},c.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](s.$element,l),t?(c.focusToggleElement(),i.open(c)):i.close(c),d(e,t),angular.isDefined(t)&&t!==n&&u(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()});

}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,r){r.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,r){if(r){r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,a,o,s,c,l){return function(i,d,u){function p(e){var t=e||m.trigger||u,r=n[t]||t;return{show:t,hide:r}}var m=angular.extend({},t,r),h=e(i),g=l.startSymbol(),f=l.endSymbol(),_="<div "+h+'-popup title="'+g+"title"+f+'" content="'+g+"content"+f+'" placement="'+g+"placement"+f+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=a(_);return function(e,t,r){function a(){E.isOpen?u():l()}function l(){(!x||e.$eval(r[d+"Enable"]))&&(v(),E.popupDelay?C||(C=o(h,E.popupDelay,!1),C.then(function(e){e()})):h()())}function u(){e.$apply(function(){g()})}function h(){return C=null,S&&(o.cancel(S),S=null),E.content?(f(),k.css({top:0,left:0,display:"block"}),M?s.find("body").append(k):t.after(k),T(),E.isOpen=!0,E.$digest(),T):angular.noop}function g(){E.isOpen=!1,o.cancel(C),C=null,E.animation?S||(S=o(_,500)):_()}function f(){k&&_(),$=E.$new(),k=n($,angular.noop)}function _(){S=null,k&&(k.remove(),k=null),$&&($.$destroy(),$=null)}function v(){y(),b()}function y(){var e=r[d+"Placement"];E.placement=angular.isDefined(e)?e:m.placement}function b(){var e=r[d+"PopupDelay"],t=parseInt(e,10);E.popupDelay=isNaN(t)?m.popupDelay:t}function w(){var e=r[d+"Trigger"];I(),A=p(e),A.show===A.hide?t.bind(A.show,a):(t.bind(A.show,l),t.bind(A.hide,u))}var k,$,S,C,M=angular.isDefined(m.appendToBody)?m.appendToBody:!1,A=p(void 0),x=angular.isDefined(r[d+"Enable"]),E=e.$new(!0),T=function(){var e=c.positionElements(t,k,E.placement,M);e.top+="px",e.left+="px",k.css(e)};E.isOpen=!1,r.$observe(i,function(e){E.content=e,!e&&E.isOpen&&g()}),r.$observe(d+"Title",function(e){E.title=e});var I=function(){t.unbind(A.show,l),t.unbind(A.hide,u)};w();var D=e.$eval(r[d+"Animation"]);E.animation=angular.isDefined(D)?!!D:m.animation;var P=e.$eval(r[d+"AppendToBody"]);M=angular.isDefined(P)?P:M,M&&e.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),e.$on("$destroy",function(){o.cancel(S),o.cancel(C),I(),_(),E=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function r(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),r={top:0,left:0},a=i(t[0]);a!=e[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,a,o,s,c=n.split("-"),l=c[0],d=c[1]||"center";i=r?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var u={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:p[d](),left:u[l]()};break;case"left":s={top:p[d](),left:i.left-a};break;case"bottom":s={top:p[l](),left:u[d]()};break;default:s={top:i.top-o,left:u[d]()}}return s}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,r){t.backdropClass=r.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e.registerObserverCallback(function(e){n.hiddenBySingle=e||!1}),t(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,a){function o(){angular.forEach(f,function(e,t){for(var n=!1,r=h.keys(),i=0;i<r.length;i++){var a=h.get(r[i]).value;if("single"==a.backdrop&&a.index>t){n=!0;break}}e(n)})}function s(){for(var e=-1,t=h.keys(),n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n);return e}function c(e){var t=n.find("body").eq(0),r=h.get(e).value;h.remove(e),f.splice(r.index,1),d(r.modalDomEl,r.modalScope,0,function(){r.modalScope.$destroy(),t.toggleClass(m,h.length()>0),l()})}function l(){if(u&&-1==s()){var e=p;d(u,p,0,function(){e.$destroy(),e=null}),u=void 0,p=void 0}else o()}function d(n,r,i,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}r.animate=!1;var s=e.transitionEndEventName;if(s){var c=t(o,i);n.bind(s,function(){t.cancel(c),o(),r.$apply()})}else t(o)}var u,p,m="modal-open",h=a.createNew(),g={},f=[];return i.$watch(s,function(e){p&&(p.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=h.top(),t&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){g.dismiss(t.key,"escape key press")})))}),g.registerObserverCallback=function(e){f.push(e)},g.open=function(e,t){h.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),c=s();if(c>=0&&!u){p=i.$new(!0),p.index=c;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),u=r(l)(p),a.append(u)}var d=angular.element("<div modal-window></div>"),g=h.length()-1;d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g,animate:"animate"}).html(t.content);var f=r(d)(t.scope);h.top().value.modalDomEl=f,h.top().value.index=g,a.append(f),a.addClass(m),o()},g.close=function(e,t){var n=h.get(e);n&&(n.value.deferred.resolve(t),c(e))},g.dismiss=function(e,t){var n=h.get(e);n&&(n.value.deferred.reject(t),c(e))},g.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},g.getTop=function(){return h.top()},g}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,a,o,s){function c(e){return e.template?r.when(e.template):i.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:a}).then(function(e){return e.data})}function l(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(r.when(t.invoke(e)))}),n}var d={};return d.open=function(t){var i=r.defer(),a=r.defer(),d={result:i.promise,opened:a.promise,close:function(e){s.close(d,e)},dismiss:function(e){s.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var u=r.all([c(t)].concat(l(t.resolve)));return u.then(function(e){var r=(t.scope||n).$new();r.$close=d.close,r.$dismiss=d.dismiss;var a,c={},l=1;t.controller&&(c.$scope=r,c.$modalInstance=d,angular.forEach(t.resolve,function(t,n){c[n]=e[l++]}),a=o(t.controller,c),t.controllerAs&&(r[t.controllerAs]=a)),s.open(d,{scope:r,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){i.reject(e)}),u.then(function(){a.resolve(!0)},function(){a.reject(!1)}),d},d}]};return e}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var i=function(r,a,o){o=o||{};var s=e.defer(),c=i[o.animation?"animationEndEventName":"transitionEndEventName"],l=function(e){n.$apply(function(){r.unbind(c,l),s.resolve(r)})};return c&&r.bind(c,l),t(function(){angular.isString(a)?r.addClass(a):angular.isFunction(a)?a(r):angular.isObject(a)&&r.css(a),c||s.resolve(r)}),s.promise.cancel=function(){c&&r.unbind(c,l),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(s),i}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: hiddenBySingle ? \'none\' : \'block\'}" ng-click="close($event)">\n  <div class="modal_close_wrap" ng-click="close($event)">\n    <div class="modal_close"></div>\n  </div>\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("mediaPlayer",["mediaPlayer.helpers"]).constant("mp.playerDefaults",{currentTrack:0,ended:void 0,network:void 0,playing:!1,seeking:!1,tracks:0,volume:1,formatDuration:"00:00",formatTime:"00:00",loadPercent:0}).directive("mediaPlayer",["$rootScope","$interpolate","$timeout","mp.throttle","mp.playerDefaults",function(e,t,n,r,i){function a(e){return function(t,r,i){var a,o=null;if(e.$attachPlaylist(t),void 0===t&&void 0!==r)return e.pause();if(e.currentTrack){a=r?r[e.currentTrack-1]:-1;for(var s=0;s<t.length;s++)if(angular.equals(t[s],a)){o=s;break}null!==o?(e.currentTrack=o+1,e.tracks=t.length):(e.pause(),t.length?n(function(){e.$clearSourceList(),e.$addSourceList(t[0]),e.load(),e.tracks=t.length}):e.reset())}else t.length?(e.$clearSourceList(),e.$addSourceList(t[0]),e.load(),e.tracks=t.length):e.reset()}}var o={load:function(e,t){"boolean"==typeof e?(t=e,e=null):"object"==typeof e&&(this.$clearSourceList(),this.$addSourceList(e)),this.$domEl.load(),this.ended=void 0,t&&this.$element.one("canplay",this.play.bind(this))},reset:function(e){angular.extend(this,i),this.$clearSourceList(),this.load(this.$playlist,e)},play:function(e,t){return"boolean"==typeof e&&(t=e,e=void 0),t&&(this.$selective=!0),this.$playlist.length>e?(this.currentTrack=e+1,this.load(this.$playlist[e],!0)):(!this.currentTrack&&this.$domEl.readyState&&this.currentTrack++,void(this.ended?this.load(!0):this.$domEl.play()))},playPause:function(e,t){"boolean"==typeof e&&(t=e,e=void 0),t&&(this.$selective=!0),"number"==typeof e&&e+1!==this.currentTrack?this.play(e):this.playing?this.pause():this.play()},pause:function(){this.$domEl.pause()},stop:function(){this.reset()},toggleMute:function(){this.muted=this.$domEl.muted=!this.$domEl.muted},next:function(e){var t=this;if(t.currentTrack&&t.currentTrack<t.tracks){var r=e||t.playing;t.pause(),n(function(){t.$clearSourceList(),t.$addSourceList(t.$playlist[t.currentTrack]),t.load(r),t.currentTrack++})}},prev:function(e){var t=this;if(t.currentTrack&&t.currentTrack-1){var r=e||t.playing;t.pause(),n(function(){t.$clearSourceList(),t.$addSourceList(t.$playlist[t.currentTrack-2]),t.load(r),t.currentTrack--})}},setPlaybackRate:function(e){this.$domEl.playbackRate=e},setVolume:function(e){this.$domEl.volume=e},seek:function(e){var t,n=0;return"string"!=typeof e?this.$domEl.currentTime=e:(t=e.split(":"),n+=parseInt(t.pop(),10),t.length&&(n+=60*parseInt(t.pop(),10)),t.length&&(n+=3600*parseInt(t.pop(),10)),isNaN(n)?void 0:this.$domEl.currentTime=n)},on:function(e,t){return this.$element.on(e,t)},off:function(e,t){return this.$element.off(e,t)},one:function(e,t){return this.$element.one(e,t)},$addSourceList:function(e){var t=this;if(angular.isArray(e))angular.forEach(e,function(e,n){var r=document.createElement("SOURCE");["src","type","media"].forEach(function(t){void 0!==e[t]&&r.setAttribute(t,e[t])}),t.$element.append(r)});else if(angular.isObject(e)){var n=document.createElement("SOURCE");["src","type","media"].forEach(function(t){void 0!==e[t]&&n.setAttribute(t,e[t])}),t.$element.append(n)}},$clearSourceList:function(){this.$element.contents().remove()},$formatTime:function(e){if(e===1/0)return"";var t,n=parseInt(e/3600,10)%24,r=parseInt(e/60,10)%60,i=parseInt(e%60,10),a=(10>r?"0"+r:r)+":"+(10>i?"0"+i:i);return t=n>0?(10>n?"0"+n:n)+":"+a:a},$attachPlaylist:function(e){void 0===e||null===e?this.playlist=[]:this.$playlist=e}},s=function(e,t,n){var i={playing:function(){e.$apply(function(e){e.playing=!0,e.ended=!1})},pause:function(){e.$apply(function(e){e.playing=!1})},ended:function(){!e.$selective&&e.currentTrack<e.tracks?e.next(!0):e.$apply(function(e){e.ended=!0,e.playing=!1})},timeupdate:r(1e3,!1,function(){e.$apply(function(e){e.currentTime=t.currentTime,e.formatTime=e.$formatTime(e.currentTime)})}),loadedmetadata:function(){e.$apply(function(e){e.currentTrack||e.currentTrack++,e.duration=t.duration,e.formatDuration=e.$formatTime(e.duration),t.buffered.length&&(e.loadPercent=Math.round(t.buffered.end(t.buffered.length-1)/e.duration*100))})},progress:function(){e.$domEl.buffered.length&&e.$apply(function(e){e.loadPercent=Math.round(t.buffered.end(t.buffered.length-1)/e.duration*100),e.network="progress"})},volumechange:function(){e.$apply(function(e){e.volume=t.volume,e.muted=t.muted})},seeked:function(){e.$apply(function(e){e.seeking=!1})},seeking:function(){e.$apply(function(e){e.seeking=!0})},ratechange:function(){e.$apply(function(e){e.playbackRate=t.playbackRate})},stalled:function(){e.$apply(function(e){e.network="stalled"})},suspend:function(){e.$apply(function(e){e.network="suspend"})}};angular.forEach(i,function(e,t){n.on(t,e)})},c=function(t){var n=angular.extend(e.$new(!0),{$element:t,$domEl:t[0],$playlist:void 0,buffered:t[0].buffered,played:t[0].played,seekable:t[0].seekable},i,o);return s(n,t[0],t),n};return{scope:!1,link:function(e,t,n,r){var i=n.playlist,o=n.mediaPlayer||n.playerControl,s=new c(t),l=e[i];if(l=void 0===i?[]:void 0===e[i]?e[i]=[]:e[i],void 0!==o&&e.$eval(o+" = player",{player:s}),"AUDIO"!==t[0].tagName&&"VIDEO"!==t[0].tagName)return new Error("player directive works only when attached to an <audio>/<video> type tag");var d=[],u=t.find("source");1===u.length?l.unshift({src:u[0].src,type:u[0].type,media:u[0].media}):u.length>1&&(angular.forEach(u,function(e){d.push({src:e.src,type:e.type,media:e.media})}),l.unshift(d)),void 0===i?s.$attachPlaylist(l):l.length?(a(s)(l,void 0,e),e.$watch(i,a(s),!0)):e.$watch(i,a(s),!0)}}}]),angular.module("mediaPlayer.helpers",[]).factory("mp.throttle",["$timeout",function(e){return function(t,n,r,i){var a,o=0;"boolean"!=typeof n&&(i=r,r=n,n=void 0);var s=function(){var s=this,c=+new Date-o,l=arguments,d=function(){o=+new Date,r.apply(s,l)},u=function(){a=void 0};i&&!a&&d(),a&&e.cancel(a),void 0===i&&c>t?d():n!==!0&&(a=e(i?u:d,void 0===i?t-c:t))};return s}}]);var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;9>=vv;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare;var rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var global="undefined"!=typeof window?window:this,t;if(global&&global.crypto&&global.crypto.getRandomValues){var ua=new Uint8Array(32);for(global.crypto.getRandomValues(ua),t=0;32>t;++t)rng_pool[rng_pptr++]=ua[t]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&global&&global.crypto){var z=global.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_psize>rng_pptr;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}SecureRandom.prototype.nextBytes=rng_get_bytes,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256,CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;i>a;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else if(n.length>65535)for(var a=0;i>a;a+=4)t[r+a>>>2]=n[a>>>2];else for(var a=0;a<n.length;a++)t.push(n[a]);return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;n>i;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;n>i;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=4*o,c=i/s;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var l=c*o,d=e.min(4*l,i);if(l){for(var u=0;l>u;u+=o)this._doProcessBlock(r,u);var p=r.splice(0,l);n.sigBytes-=d}return new a.init(p,d)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=(r.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);CryptoJS.lib.Cipher||function(e){var t=CryptoJS,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,o=t.enc,s=(o.Utf8,o.Base64),c=t.algo,l=c.EvpKDF,d=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?k:y}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),u=(n.StreamCipher=d.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),p=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=u.CBC=function(){function t(t,n,r){var i=this._iv;if(i){var a=i;this._iv=e}else var a=this._prevBlock;for(var o=0;r>o;o++)t[n+o]^=a[o]}var n=p.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),n}(),h=(u.IGE=function(){function t(e,t,n,r){for(var i=0;r>i;i++)e[n+i]^=t[i]}var n=p.extend();return n.Encryptor=n.extend({processBlock:function(n,r){var i=this._cipher,a=i.blockSize;this._ivp===e&&(this._ivp=this._iv.slice(0,a),this._iv2p=this._iv.slice(a,a+a));var o=n.slice(r,r+a);t(n,this._ivp,r,a),i.encryptBlock(n,r),t(n,this._iv2p,r,a),this._ivp=n.slice(r,r+a),this._iv2p=o}}),n.Decryptor=n.extend({processBlock:function(n,r){var i=this._cipher,a=i.blockSize;this._ivp===e&&(this._ivp=this._iv.slice(0,a),this._iv2p=this._iv.slice(a,2*a));var o=n.slice(r,r+a);t(n,this._iv2p,r,a),i.decryptBlock(n,r),t(n,this._ivp,r,a),this._ivp=o,this._iv2p=n.slice(r,r+a)}}),n}(),t.pad={}),g=h.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,a=r<<24|r<<16|r<<8|r,o=[],s=0;r>s;s+=4)o.push(a);var c=i.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},f=(h.NoPadding={pad:function(){},unpad:function(){}},n.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:g}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),_=t.format={},v=_.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(t);else var r=t;return r.toString(s)},parse:function(e){var t=s.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:r})}},y=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return f.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=e.createDecryptor(n,r).finalize(t.ciphertext);return i},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=t.kdf={},w=b.OpenSSL={execute:function(e,t,n,r){r||(r=i.random(8));var a=l.create({keySize:t+n}).compute(e,r),o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,f.create({key:a,iv:o,salt:r
})}},k=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var a=y.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=i.iv;var a=y.decrypt.call(this,e,t,i.key,r);return a}})}(),function(){var e=CryptoJS,t=e.lib,n=t.BlockCipher,r=e.algo,i=[],a=[],o=[],s=[],c=[],l=[],d=[],u=[],p=[],m=[];!function(){for(var e=[],t=0;256>t;t++)e[t]=128>t?t<<1:t<<1^283;for(var n=0,r=0,t=0;256>t;t++){var h=r^r<<1^r<<2^r<<3^r<<4;h=h>>>8^255&h^99,i[n]=h,a[h]=n;var g=e[n],f=e[g],_=e[f],v=257*e[h]^16843008*h;o[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v;var v=16843009*_^65537*f^257*g^16843008*n;d[h]=v<<24|v>>>8,u[h]=v<<16|v>>>16,p[h]=v<<8|v>>>24,m[h]=v,n?(n=g^e[e[e[_^g]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,a=4*(r+1),o=this._keySchedule=[],s=0;a>s;s++)if(n>s)o[s]=t[s];else{var c=o[s-1];s%n?n>6&&s%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=c<<8|c>>>24,c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=h[s/n|0]<<24),o[s]=o[s-n]^c}for(var l=this._invKeySchedule=[],g=0;a>g;g++){var s=a-g;if(g%4)var c=o[s];else var c=o[s-4];l[g]=4>g||4>=s?c:d[i[c>>>24]]^u[i[c>>>16&255]]^p[i[c>>>8&255]]^m[i[255&c]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,c,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,u,p,m,a);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var c=this._nRounds,l=e[t]^n[0],d=e[t+1]^n[1],u=e[t+2]^n[2],p=e[t+3]^n[3],m=4,h=1;c>h;h++){var g=r[l>>>24]^i[d>>>16&255]^a[u>>>8&255]^o[255&p]^n[m++],f=r[d>>>24]^i[u>>>16&255]^a[p>>>8&255]^o[255&l]^n[m++],_=r[u>>>24]^i[p>>>16&255]^a[l>>>8&255]^o[255&d]^n[m++],v=r[p>>>24]^i[l>>>16&255]^a[d>>>8&255]^o[255&u]^n[m++];l=g,d=f,u=_,p=v}var g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^n[m++],f=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^n[m++],_=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[m++],v=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[m++];e[t]=g,e[t+1]=f,e[t+2]=_,e[t+3]=v},keySize:8});e.AES=n._createHelper(g)}(),function(e){var t=CryptoJS,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.algo,o=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;n>=r;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;64>i;)t(r)&&(8>i&&(o[i]=n(e.pow(r,.5))),s[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=a.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],l=n[4],d=n[5],u=n[6],p=n[7],m=0;64>m;m++){if(16>m)c[m]=0|e[t+m];else{var h=c[m-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,f=c[m-2],_=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;c[m]=g+c[m-7]+_+c[m-16]}var v=l&d^~l&u,y=r&i^r&a^i&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),k=p+w+v+s[m]+c[m],$=b+y;p=u,u=d,d=l,l=o+k|0,o=a,a=i,i=r,r=k+$|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),function(e){function t(e){"use strict";var t={fill:0},r=function(e){for(e+=9;e%64>0;e+=1);return e},i=function(e,t){for(var n=t>>2;n<e.length;n++)e[n]=0},o=function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[((t>>2)+2&-16)+15]=n<<3},s=function(e,t,n,r,i){var a,o=this,s=i%4,c=r%4,l=r-c;if(l>0)switch(s){case 0:e[i+3|0]=o.charCodeAt(n);case 1:e[i+2|0]=o.charCodeAt(n+1);case 2:e[i+1|0]=o.charCodeAt(n+2);case 3:e[0|i]=o.charCodeAt(n+3)}for(a=s;l>a;a=a+4|0)t[i+a>>2]=o.charCodeAt(n+a)<<24|o.charCodeAt(n+a+1)<<16|o.charCodeAt(n+a+2)<<8|o.charCodeAt(n+a+3);switch(c){case 3:e[i+l+1|0]=o.charCodeAt(n+l+2);case 2:e[i+l+2|0]=o.charCodeAt(n+l+1);case 1:e[i+l+3|0]=o.charCodeAt(n+l)}},c=function(e,t,n,r,i){var a,o=this,s=i%4,c=r%4,l=r-c;if(l>0)switch(s){case 0:e[i+3|0]=o[n];case 1:e[i+2|0]=o[n+1];case 2:e[i+1|0]=o[n+2];case 3:e[0|i]=o[n+3]}for(a=4-s;l>a;a=a+=4)t[i+a>>2]=o[n+a]<<24|o[n+a+1]<<16|o[n+a+2]<<8|o[n+a+3];switch(c){case 3:e[i+l+1|0]=o[n+l+2];case 2:e[i+l+2|0]=o[n+l+1];case 1:e[i+l+3|0]=o[n+l]}},l=function(e){switch(a.getDataType(e)){case"string":return s.bind(e);case"array":return c.bind(e);case"buffer":return c.bind(e);case"arraybuffer":return c.bind(new Uint8Array(e));case"view":return c.bind(new Uint8Array(e.buffer))}},d=function(e){var t,n,r="0123456789abcdef",i=[],a=new Uint8Array(e);for(t=0;t<a.length;t++)n=a[t],i[t]=r.charAt(n>>4&15)+r.charAt(n>>0&15);return i.join("")},u=function(e){var t;if(65536>=e)return 65536;if(16777216>e)for(t=1;e>t;t<<=1);else for(t=16777216;e>t;t+=16777216);return t},p=function(e){if(e%64>0)throw new Error("Chunk size must be a multiple of 128 bit");t.maxChunkLen=e,t.padMaxChunkLen=r(e),t.heap=new ArrayBuffer(u(t.padMaxChunkLen+320+20)),t.h32=new Int32Array(t.heap),t.h8=new Int8Array(t.heap),t.core=n({Int32Array:Int32Array,DataView:DataView},{},t.heap),t.buffer=null};p(e||65536);var m=function(e,t){var n=new Int32Array(e,t+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},h=function(e,n){var a=r(e),s=new Int32Array(t.heap,0,a>>2);return i(s,e),o(s,e,n),a},g=function(e,n,r){l(e)(t.h8,t.h32,n,r,0)},f=function(e,n,r,i,a){var o=r;a&&(o=h(r,i)),g(e,n,r),t.core.hash(o,t.padMaxChunkLen)},_=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),i=new DataView(r.buffer);return i.setInt32(0,n[0],!1),i.setInt32(4,n[1],!1),i.setInt32(8,n[2],!1),i.setInt32(12,n[3],!1),i.setInt32(16,n[4],!1),r},v=this.rawDigest=function(e){var n=e.byteLength||e.length;m(t.heap,t.padMaxChunkLen);var r=0,i=t.maxChunkLen;for(r=0;n>r+i;r+=i)f(e,r,i,n,!1);return f(e,r,n-r,n,!0),_(t.heap,t.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return d(v(e).buffer)}}function n(e,t,n){"use asm";function r(e,t){e|=0,t|=0;var n=0,r=0,a=0,o=0,s=0,c=0,l=0,d=0,u=0,p=0,m=0,h=0,g=0,f=0;for(a=i[t+320>>2]|0,s=i[t+324>>2]|0,l=i[t+328>>2]|0,u=i[t+332>>2]|0,m=i[t+336>>2]|0,n=0;(n|0)<(e|0);n=n+64|0){for(o=a,c=s,d=l,p=u,h=m,r=0;(r|0)<64;r=r+4|0)f=i[n+r>>2]|0,g=((a<<5|a>>>27)+(s&l|~s&u)|0)+((f+m|0)+1518500249|0)|0,m=u,u=l,l=s<<30|s>>>2,s=a,a=g,i[e+r>>2]=f;for(r=e+64|0;(r|0)<(e+80|0);r=r+4|0)f=(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])<<1|(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])>>>31,g=((a<<5|a>>>27)+(s&l|~s&u)|0)+((f+m|0)+1518500249|0)|0,m=u,u=l,l=s<<30|s>>>2,s=a,a=g,i[r>>2]=f;for(r=e+80|0;(r|0)<(e+160|0);r=r+4|0)f=(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])<<1|(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])>>>31,g=((a<<5|a>>>27)+(s^l^u)|0)+((f+m|0)+1859775393|0)|0,m=u,u=l,l=s<<30|s>>>2,s=a,a=g,i[r>>2]=f;for(r=e+160|0;(r|0)<(e+240|0);r=r+4|0)f=(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])<<1|(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])>>>31,g=((a<<5|a>>>27)+(s&l|s&u|l&u)|0)+((f+m|0)-1894007588|0)|0,m=u,u=l,l=s<<30|s>>>2,s=a,a=g,i[r>>2]=f;for(r=e+240|0;(r|0)<(e+320|0);r=r+4|0)f=(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])<<1|(i[r-12>>2]^i[r-32>>2]^i[r-56>>2]^i[r-64>>2])>>>31,g=((a<<5|a>>>27)+(s^l^u)|0)+((f+m|0)-899497514|0)|0,m=u,u=l,l=s<<30|s>>>2,s=a,a=g,i[r>>2]=f;a=a+o|0,s=s+c|0,l=l+d|0,u=u+p|0,m=m+h|0}i[t+320>>2]=a,i[t+324>>2]=s,i[t+328>>2]=l,i[t+332>>2]=u,i[t+336>>2]=m}var i=new e.Int32Array(n);return{hash:r}}if("undefined"!=typeof module&&(module.exports=t),"undefined"!=typeof e&&(e.Rusha=t),"undefined"!=typeof FileReaderSync){var r=new FileReaderSync,i=new t(4194304);self.onmessage=function(e){var t,n=e.data.data;if(n instanceof Blob)try{n=r.readAsBinaryString(n)}catch(a){return void self.postMessage({id:e.data.id,error:a.name})}t=i.digest(n),self.postMessage({id:e.data.id,hash:t})}}var a={getDataType:function(t){if("string"==typeof t)return"string";if(t instanceof Array)return"array";if("undefined"!=typeof e&&e.Buffer&&e.Buffer.isBuffer(t))return"buffer";if(t instanceof ArrayBuffer)return"arraybuffer";if(t.buffer instanceof ArrayBuffer)return"view";throw new Error("Unsupported data type.")}}}(this),function(){"use strict";function e(e){throw e}function t(e,t){var n=e.split("."),r=u;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||t===d?r=r[i]?r[i]:r[i]={}:r[i]=t}function n(e,t,n){var r,i="number"==typeof t?t:t=0,a="number"==typeof n?n:e.length;for(r=-1,i=7&a;i--;++t)r=r>>>8^_[255&(r^e[t])];for(i=a>>3;i--;t+=8)r=r>>>8^_[255&(r^e[t])],r=r>>>8^_[255&(r^e[t+1])],r=r>>>8^_[255&(r^e[t+2])],r=r>>>8^_[255&(r^e[t+3])],r=r>>>8^_[255&(r^e[t+4])],r=r>>>8^_[255&(r^e[t+5])],r=r>>>8^_[255&(r^e[t+6])],r=r>>>8^_[255&(r^e[t+7])];return(4294967295^r)>>>0}function r(){}function i(e){var t,n,r,i,a,o,s,c,l,d=e.length,u=0,m=Number.POSITIVE_INFINITY;for(c=0;d>c;++c)e[c]>u&&(u=e[c]),e[c]<m&&(m=e[c]);for(t=1<<u,n=new(p?Uint32Array:Array)(t),r=1,i=0,a=2;u>=r;){for(c=0;d>c;++c)if(e[c]===r){for(o=0,s=i,l=0;r>l;++l)o=o<<1|1&s,s>>=1;for(l=o;t>l;l+=a)n[l]=r<<16|c;++i}++r,i<<=1,a<<=1}return[n,u,m]}function a(t,n){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=p?new Uint8Array(t):t,this.o=!1,this.k=k,this.w=!1,(n||!(n={}))&&(n.index&&(this.c=n.index),n.bufferSize&&(this.j=n.bufferSize),n.bufferType&&(this.k=n.bufferType),n.resize&&(this.w=n.resize)),this.k){case w:this.a=32768,this.b=new(p?Uint8Array:Array)(32768+this.j+258);break;case k:this.a=0,this.b=new(p?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:e(Error("invalid inflate mode"))}}function o(t,n){for(var r,i=t.f,a=t.d,o=t.input,s=t.c;n>a;)r=o[s++],r===d&&e(Error("input buffer is broken")),i|=r<<a,a+=8;return r=i&(1<<n)-1,t.f=i>>>n,t.d=a-n,t.c=s,r}function s(e,t){for(var n,r,i,a=e.f,o=e.d,s=e.input,c=e.c,l=t[0],u=t[1];u>o&&(n=s[c++],n!==d);)a|=n<<o,o+=8;return r=l[a&(1<<u)-1],i=r>>>16,e.f=a>>i,e.d=o-i,e.c=c,65535&r}function c(e){function t(e,t,n){var r,i,a,c;for(c=0;e>c;)switch(r=s(this,t)){case 16:for(a=3+o(this,2);a--;)n[c++]=i;break;case 17:for(a=3+o(this,3);a--;)n[c++]=0;i=0;break;case 18:for(a=11+o(this,7);a--;)n[c++]=0;i=0;break;default:i=n[c++]=r}return n}var n,r,a,c,l=o(e,5)+257,d=o(e,5)+1,u=o(e,4)+4,m=new(p?Uint8Array:Array)(M.length);for(c=0;u>c;++c)m[M[c]]=o(e,3);n=i(m),r=new(p?Uint8Array:Array)(l),a=new(p?Uint8Array:Array)(d),e.l(i(t.call(e,l,n,r)),i(t.call(e,d,n,a)))}function l(e){this.input=e,this.c=0,this.m=[],this.s=!1}var d=void 0,u=this,p="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array;new(p?Uint8Array:Array)(256);var m;for(m=0;256>m;++m)for(var h=m,g=7,h=h>>>1;h;h>>>=1)--g;var f=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],_=p?new Uint32Array(f):f;r.prototype.getName=function(){return this.name},r.prototype.getData=function(){return this.data},r.prototype.G=function(){return this.H},t("Zlib.GunzipMember",r),t("Zlib.GunzipMember.prototype.getName",r.prototype.getName),t("Zlib.GunzipMember.prototype.getData",r.prototype.getData),t("Zlib.GunzipMember.prototype.getMtime",r.prototype.G);var v,y=[];for(v=0;288>v;v++)switch(!0){case 143>=v:y.push([v+48,8]);break;case 255>=v:y.push([v-144+400,9]);break;case 279>=v:y.push([v-256+0,7]);break;case 287>=v:y.push([v-280+192,8]);break;default:e("invalid literal: "+v)}var b=function(){function t(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:e("invalid length: "+t)}}var n,r,i=[];for(n=3;258>=n;n++)r=t(n),i[n]=r[2]<<24|r[1]<<16|r[0];return i}();p&&new Uint32Array(b);var w=0,k=1;a.prototype.g=function(){for(;!this.o;){var t=o(this,3);switch(1&t&&(this.o=!0),t>>>=1){case 0:var n=this.input,r=this.c,i=this.b,a=this.a,s=d,l=d,u=d,m=i.length,h=d;switch(this.d=this.f=0,s=n[r++],s===d&&e(Error("invalid uncompressed block header: LEN (first byte)")),l=s,s=n[r++],s===d&&e(Error("invalid uncompressed block header: LEN (second byte)")),l|=s<<8,s=n[r++],s===d&&e(Error("invalid uncompressed block header: NLEN (first byte)")),u=s,s=n[r++],s===d&&e(Error("invalid uncompressed block header: NLEN (second byte)")),u|=s<<8,l===~u&&e(Error("invalid uncompressed block header: length verify")),r+l>n.length&&e(Error("input buffer is broken")),this.k){case w:for(;a+l>i.length;){if(h=m-a,l-=h,p)i.set(n.subarray(r,r+h),a),a+=h,r+=h;else for(;h--;)i[a++]=n[r++];this.a=a,i=this.e(),a=this.a}break;case k:for(;a+l>i.length;)i=this.e({t:2});break;default:e(Error("invalid inflate mode"))}if(p)i.set(n.subarray(r,r+l),a),a+=l,r+=l;else for(;l--;)i[a++]=n[r++];this.c=r,this.a=a,this.b=i;break;case 1:this.l(R,F);break;case 2:c(this);break;default:e(Error("unknown BTYPE: "+t))}}return this.q()};var $,S,C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=p?new Uint16Array(C):C,A=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],x=p?new Uint16Array(A):A,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],T=p?new Uint8Array(E):E,I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],D=p?new Uint16Array(I):I,P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=p?new Uint8Array(P):P,U=new(p?Uint8Array:Array)(288);for($=0,S=U.length;S>$;++$)U[$]=143>=$?8:255>=$?9:279>=$?7:8;var O,L,R=i(U),B=new(p?Uint8Array:Array)(30);for(O=0,L=B.length;L>O;++O)B[O]=5;var F=i(B);a.prototype.l=function(e,t){var n=this.b,r=this.a;this.r=e;for(var i,a,c,l,d=n.length-258;256!==(i=s(this,e));)if(256>i)r>=d&&(this.a=r,n=this.e(),r=this.a),n[r++]=i;else for(a=i-257,l=x[a],0<T[a]&&(l+=o(this,T[a])),i=s(this,t),c=D[i],0<N[i]&&(c+=o(this,N[i])),r>=d&&(this.a=r,n=this.e(),r=this.a);l--;)n[r]=n[r++-c];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},a.prototype.C=function(e,t){var n=this.b,r=this.a;this.r=e;for(var i,a,c,l,d=n.length;256!==(i=s(this,e));)if(256>i)r>=d&&(n=this.e(),d=n.length),n[r++]=i;else for(a=i-257,l=x[a],0<T[a]&&(l+=o(this,T[a])),i=s(this,t),c=D[i],0<N[i]&&(c+=o(this,N[i])),r+l>d&&(n=this.e(),d=n.length);l--;)n[r]=n[r++-c];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},a.prototype.e=function(){var e,t,n=new(p?Uint8Array:Array)(this.a-32768),r=this.a-32768,i=this.b;if(p)n.set(i.subarray(32768,n.length));else for(e=0,t=n.length;t>e;++e)n[e]=i[e+32768];if(this.i.push(n),this.n+=n.length,p)i.set(i.subarray(r,r+32768));else for(e=0;32768>e;++e)i[e]=i[r+e];return this.a=32768,i},a.prototype.D=function(e){var t,n,r,i,a=this.input.length/this.c+1|0,o=this.input,s=this.b;return e&&("number"==typeof e.t&&(a=e.t),"number"==typeof e.z&&(a+=e.z)),2>a?(n=(o.length-this.c)/this.r[2],i=258*(n/2)|0,r=i<s.length?s.length+i:s.length<<1):r=s.length*a,p?(t=new Uint8Array(r),t.set(s)):t=s,this.b=t},a.prototype.q=function(){var e,t,n,r,i,a=0,o=this.b,s=this.i,c=new(p?Uint8Array:Array)(this.n+(this.a-32768));if(0===s.length)return p?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(t=0,n=s.length;n>t;++t)for(e=s[t],r=0,i=e.length;i>r;++r)c[a++]=e[r];for(t=32768,n=this.a;n>t;++t)c[a++]=o[t];return this.i=[],this.buffer=c},a.prototype.A=function(){var e,t=this.a;return p?this.w?(e=new Uint8Array(t),e.set(this.b.subarray(0,t))):e=this.b.subarray(0,t):(this.b.length>t&&(this.b.length=t),e=this.b),this.buffer=e},l.prototype.F=function(){return this.s||this.g(),this.m.slice()},l.prototype.g=function(){for(var t=this.input.length;this.c<t;){var i=new r,o=d,s=d,c=d,l=d,u=d,m=d,h=d,g=d,f=d,_=this.input,v=this.c;switch(i.u=_[v++],i.v=_[v++],(31!==i.u||139!==i.v)&&e(Error("invalid file signature:"+i.u+","+i.v)),i.p=_[v++],i.p){case 8:break;default:e(Error("unknown compression method: "+i.p))}if(i.h=_[v++],g=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24,i.H=new Date(1e3*g),i.N=_[v++],i.M=_[v++],0<(4&i.h)&&(i.I=_[v++]|_[v++]<<8,v+=i.I),0<(8&i.h)){for(h=[],m=0;0<(u=_[v++]);)h[m++]=String.fromCharCode(u);i.name=h.join("")}if(0<(16&i.h)){for(h=[],m=0;0<(u=_[v++]);)h[m++]=String.fromCharCode(u);i.J=h.join("")}0<(2&i.h)&&(i.B=65535&n(_,0,v),i.B!==(_[v++]|_[v++]<<8)&&e(Error("invalid header crc16"))),o=_[_.length-4]|_[_.length-3]<<8|_[_.length-2]<<16|_[_.length-1]<<24,_.length-v-4-4<512*o&&(l=o),s=new a(_,{index:v,bufferSize:l}),i.data=c=s.g(),v=s.c,i.K=f=(_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24)>>>0,n(c,d,d)!==f&&e(Error("invalid CRC-32 checksum: 0x"+n(c,d,d).toString(16)+" / 0x"+f.toString(16))),i.L=o=(_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24)>>>0,(4294967295&c.length)!==o&&e(Error("invalid input size: "+(4294967295&c.length)+" / "+o)),this.m.push(i),this.c=v}this.s=!0;var y,b,w,k=this.m,$=0,S=0;for(y=0,b=k.length;b>y;++y)S+=k[y].data.length;if(p)for(w=new Uint8Array(S),y=0;b>y;++y)w.set(k[y].data,$),$+=k[y].data.length;else{for(w=[],y=0;b>y;++y)w[y]=k[y].data;w=Array.prototype.concat.apply([],w)}return w},t("Zlib.Gunzip",l),t("Zlib.Gunzip.prototype.decompress",l.prototype.g),t("Zlib.Gunzip.prototype.getMembers",l.prototype.F)}.call(this),this.goog={provide:function(){},math:{}},goog.provide("goog.math.Long"),goog.math.Long=function(e,t){this.low_=0|e,this.high_=0|t},goog.math.Long.IntCache_={},goog.math.Long.fromInt=function(e){if(e>=-128&&128>e){var t=goog.math.Long.IntCache_[e];if(t)return t}var n=new goog.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(goog.math.Long.IntCache_[e]=n),n},goog.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?goog.math.Long.ZERO:e<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MIN_VALUE:e+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MAX_VALUE:0>e?goog.math.Long.fromNumber(-e).negate():new goog.math.Long(e%goog.math.Long.TWO_PWR_32_DBL_|0,e/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(e,t){return new goog.math.Long(e,t)},goog.math.Long.fromString=function(e,t){if(0==e.length)throw Error("number format error: empty string");var n=t||10;if(2>n||n>36)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return goog.math.Long.fromString(e.substring(1),n).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var r=goog.math.Long.fromNumber(Math.pow(n,8)),i=goog.math.Long.ZERO,a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a),s=parseInt(e.substring(a,a+o),n);if(8>o){var c=goog.math.Long.fromNumber(Math.pow(n,o));i=i.multiply(c).add(goog.math.Long.fromNumber(s))}else i=i.multiply(r),i=i.add(goog.math.Long.fromNumber(s))}return i},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_24_DBL_=1<<24,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_31_DBL_=goog.math.Long.TWO_PWR_32_DBL_/2,goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.ZERO=goog.math.Long.fromInt(0),goog.math.Long.ONE=goog.math.Long.fromInt(1),goog.math.Long.NEG_ONE=goog.math.Long.fromInt(-1),goog.math.Long.MAX_VALUE=goog.math.Long.fromBits(-1,2147483647),goog.math.Long.MIN_VALUE=goog.math.Long.fromBits(0,-2147483648),goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(1<<24),goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(e){var t=e||10;if(2>t||t>36)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.MIN_VALUE)){var n=goog.math.Long.fromNumber(t),r=this.div(n),i=r.multiply(n).subtract(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.negate().toString(t)}for(var a=goog.math.Long.fromNumber(Math.pow(t,6)),i=this,o="";;){var s=i.div(a),c=i.subtract(s.multiply(a)).toInt(),l=c.toString(t);if(i=s,i.isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high_?t+33:t+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return this.high_<0},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},goog.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},goog.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},goog.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},goog.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},goog.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},goog.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.MIN_VALUE)?goog.math.Long.MIN_VALUE:this.not().add(goog.math.Long.ONE)},goog.math.Long.prototype.add=function(e){var t=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,a=e.high_>>>16,o=65535&e.high_,s=e.low_>>>16,c=65535&e.low_,l=0,d=0,u=0,p=0;return p+=i+c,u+=p>>>16,p&=65535,u+=r+s,d+=u>>>16,u&=65535,d+=n+o,l+=d>>>16,d&=65535,l+=t+a,l&=65535,goog.math.Long.fromBits(u<<16|p,l<<16|d)},goog.math.Long.prototype.subtract=function(e){return this.add(e.negate())},goog.math.Long.prototype.multiply=function(e){if(this.isZero())return goog.math.Long.ZERO;if(e.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE))return e.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(e.equals(goog.math.Long.MIN_VALUE))return this.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(goog.math.Long.TWO_PWR_24_)&&e.lessThan(goog.math.Long.TWO_PWR_24_))return goog.math.Long.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,i=65535&this.low_,a=e.high_>>>16,o=65535&e.high_,s=e.low_>>>16,c=65535&e.low_,l=0,d=0,u=0,p=0;return p+=i*c,u+=p>>>16,p&=65535,u+=r*c,d+=u>>>16,u&=65535,u+=i*s,d+=u>>>16,u&=65535,d+=n*c,l+=d>>>16,d&=65535,d+=r*s,l+=d>>>16,d&=65535,d+=i*o,l+=d>>>16,d&=65535,l+=t*c+n*s+r*o+i*a,l&=65535,goog.math.Long.fromBits(u<<16|p,l<<16|d)},goog.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE)){if(e.equals(goog.math.Long.ONE)||e.equals(goog.math.Long.NEG_ONE))return goog.math.Long.MIN_VALUE;if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ONE;var t=this.shiftRight(1),n=t.div(e).shiftLeft(1);if(n.equals(goog.math.Long.ZERO))return e.isNegative()?goog.math.Long.ONE:goog.math.Long.NEG_ONE;var r=this.subtract(e.multiply(n)),i=n.add(r.div(e));return i}if(e.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(var a=goog.math.Long.ZERO,r=this;r.greaterThanOrEqual(e);){for(var n=Math.max(1,Math.floor(r.toNumber()/e.toNumber())),o=Math.ceil(Math.log(n)/Math.LN2),s=48>=o?1:Math.pow(2,o-48),c=goog.math.Long.fromNumber(n),l=c.multiply(e);l.isNegative()||l.greaterThan(r);)n-=s,c=goog.math.Long.fromNumber(n),l=c.multiply(e);c.isZero()&&(c=goog.math.Long.ONE),a=a.add(c),r=r.subtract(l)}return a},goog.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(e){return goog.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},goog.math.Long.prototype.or=function(e){return goog.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},goog.math.Long.prototype.xor=function(e){return goog.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},goog.math.Long.prototype.shiftLeft=function(e){if(e&=63,0==e)return this;var t=this.low_;if(32>e){var n=this.high_;return goog.math.Long.fromBits(t<<e,n<<e|t>>>32-e)}return goog.math.Long.fromBits(0,t<<e-32)},goog.math.Long.prototype.shiftRight=function(e){if(e&=63,0==e)return this;var t=this.high_;if(32>e){var n=this.low_;return goog.math.Long.fromBits(n>>>e|t<<32-e,t>>e)}return goog.math.Long.fromBits(t>>e-32,t>=0?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0==e)return this;var t=this.high_;if(32>e){var n=this.low_;return goog.math.Long.fromBits(n>>>e|t<<32-e,t>>>e)}return 32==e?goog.math.Long.fromBits(t,0):goog.math.Long.fromBits(t>>>e-32,0)},bpe=0,mask=0,radix=mask+1,digitsStr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";for(bpe=0;1<<bpe+1>1<<bpe;bpe++);bpe>>=1,mask=(1<<bpe)-1,radix=mask+1,one=int2bigInt(1,1,1),t=new Array(0),ss=t,s0=t,s1=t,s2=t,s3=t,s4=t,s5=t,s6=t,s7=t,T=t,sa=t,mr_x1=t,mr_r=t,mr_a=t,eg_v=t,eg_u=t,eg_A=t,eg_B=t,eg_C=t,eg_D=t,md_q1=t,md_q2=t,md_q3=t,md_r=t,md_r1=t,md_r2=t,md_tt=t,primes=t,pows=t,s_i=t,s_i2=t,s_R=t,s_rm=t,s_q=t,s_n1=t,s_a=t,s_r2=t,s_n=t,s_b=t,s_d=t,s_x1=t,s_x2=t,s_aa=t,rpprb=t,function(){function e(e){return JSON.parse(JSON.stringify(e))}function t(e,t,n,r,a){for(i=0;i<a;++i)e[t+i]=n[r+i]}function n(e){var t,n=[],r=e.length;for(t=0;r>t;++t)n.push(e[t]);return n}function r(t,n){var r=[];r.push(e(t));var i;for(i=0;n>i;++i)r.push(e(t));return r.push(0),r}function a(e,t){var n,r=[];for(n=0;t>n;++n)r.push(e);return r.push(0),r}function o(e,t,n,r){var i;for(i=0;r>i;++i)e[t+i]=n}function s(e,t,n,r){var i,a="";for(i=0;r>i;++i)a+=String.fromCharCode(e[t+i]);return n==a?0:1}function c(e,t){var n,r=[];for(n=0;e>n;++n)r.push(t);return r}function l(t,n){var r,i=[];for(r=0;t>r;++r)i.push(e(n));return i}function d(t,n){var r;for(r=t.length-1;r>=0;--r)n=e(c(t[r],n));return n}function u(e){if(!e)throw Error("assert :P")}var p=void 0,m=null,h=0,g=0,f=h,_=h,v=0,y=0;window.WebPDecoder=function(){function b(e){return e==zt||e==Vt||e==Wt||e==Gt}function w(e){return S(e,1)}function k(e,t){var n=1+((e.la-1)*t>>8),r=n<<8,i=h;for(e.Z>=r?(i=1,e.la-=n,e.Z-=r):(i=0,e.la=n);128>e.la;)e.Z<<=1,e.la<<=1,8==++e.gc&&(e.gc=0,e.bc&&(e.Z+=e.qa[e.Ia++],e.bc--));return i}function $(e,t,n,r){r-=n,r>=2?(e.Z=t[n+0]<<8|t[n+1],e.qa=t,e.Ia=n+2,e.bc=r-2):(e.Z=0,e.qa=m,e.bc=0),e.la=255,e.gc=0}function S(e,t){for(var n=0,r=h,r=t-1;r>=0;r--)n|=k(e,128)<<r;return n}function C(e,t){var n=S(e,t);return w(e)?-n:n}function M(e,t,n,r){var i=y;for(u(e!=m),u(t!=m),u(4294967288>r),e.qa=t,e.Ia=n,e.ya=r,e.T=0,e.Q=0,e.g=0,e.L=0,i=e.fa=0;4>i&&i<e.ya;++i)e.T|=e.qa[e.Ia+e.Q]<<8*i,++e.Q}function A(e){for(;8<=e.g&&e.Q<e.ya;)e.T>>>=8,e.T+=e.qa[e.Ia+e.Q]<<24>>>0,++e.Q,e.g-=8}function x(e){8<=e.g&&A(e),e.Q==e.ya&&32==e.g&&(e.L=1)}function E(e,t){var n=0;if(u(t>=0),!e.L&&hn>t){if(e.Q==e.ya&&32<=e.g+t&&(e.L=1,32<e.g+t))return n;n=e.T>>e.g&gn[t],e.g+=t,8<=e.g&&8<=e.g&&A(e)}else e.fa=1;return n}function T(e){return e.Pa==e.gb}function I(e,t){return u(e!=m),0==t?0:(e.gb=2*t-1,e.Y=l(e.gb,zn),e.Y==m?0:(e.Y[0].s=-1,e.Pa=1))}function D(e){e!=m&&(e.Y=m,e.Y=m,e.gb=0,e.Pa=0)}function P(e,t,n,r){for(var i=e.Y,a=0,o=+e.gb;0<r--;){if(a>=o)return 0;if(0>i[a].s){if(T(e))return 0;var s=e,c=s.Y,l=+s.Pa;i[a].s=l-a,s.Pa+=2,c[l+0].s=-1,c[l+1].s=-1}else if(0==i[a].s)return 0;a+=i[a].s+(n>>r&1)}if(0>i[a].s)i[a].s=0;else if(0!=i[a].s)return 0;return i[a].kc=t,1;

}function N(e,t,n){var r=h,i=0,a=0;for(u(e!=m),u(t!=m),r=0;n>r;++r)0<t[r]&&(++i,a=r);if(!I(e,i))return 0;if(1==i)return 0>a||a>=n?(D(e),0):P(e,a,0,0);if(i=0,a=c(n,h),a==m)return(i=i&&T(e))||D(e),i;var o=h,o=h,r=c(Cn+1,0),s=h,l=c(Cn+1,0),d=0;for(u(t!=m),u(n>0),u(a!=m),o=0;n>o;++o)t[o]>d&&(d=t[o]);if(d>Cn)r=0;else{for(o=0;n>o;++o)++r[t[o]];for(s=r[0]=0,l[0]=-1,o=1;d>=o;++o)s=s+r[o-1]<<1,l[o]=s;for(o=0;n>o;++o)a[o]=0<t[o]?l[t[o]]++:Wn;r=1}if(!r)return(i=i&&T(e))||D(e),i;for(r=0;n>r;++r)if(0<t[r]&&!P(e,r,a[r],t[r]))return(i=i&&T(e))||D(e),i;return(i=T(e))||D(e),i}function U(e,t,n,r,i,a,o){for(var s=h,s=0;o>s;++s)i[a+s]=e[t+s]+n[r+s]&255}function O(n,r,i){var a=n.P.l;if(!(i=0>r||0>i||r+i>n.P.v)&&(i=0==r)){e:{var o=n.Ga,s=n.G,l=n.ub;i=n.P.l;var d=n.P.v,p=n.Xb,g=[m],f=m,_=d*i,v=m,y=m,y="WEBP_FILTER_TYPE",b=h,g=h,w=0,k=h;if(u(i>0&&d>0&&a>=i),u(o!=m&&p!=m),Pn>=l)i=0;else if(k=o[s+0]>>0&3,y=o[s+0]>>2&3,b=o[s+0]>>4&3,g=o[s+0]>>6&3,Nn>k||k>Un||y>=Nr||b>On||0!=g)i=0;else{if(k==Nn)w=l>=_,g=o,f=s+Pn;else{if(g=c(_,0),f=0,g==m){i=0;break e}var w=s+Pn,l=l-Pn,s=g,v=e(ln),$=0,S=Xe();S==m?w=0:(S.l=i,S.v=d,S.N=v,_e(Ot),v.put=Mt,v.Mb=Ct,v.Pb=At,v.ka=m,v.ka=s,v.fd=0,v.width=i,v.height=d,S.a=Jt,M(S.o,o,w,l),S.Wa=xr,Qe(i,d,1,S,m)&&et(S,i)&&(S.Wa=Ar,$=Ye(S,S.V,S.Ha,S.l,S.v,tt)),S!=m&&Je(S),w=$)}if(w){for(o=Ur[y],o!=m?(v=c(_,0),y=0,v==m&&(w=0,k!=Nn&&(f=g=m)),o(g,f,i,d,1,i,v,y),_=v,k=y):(_=g,k=f),o=0;0<d--;)t(p,o,_,k,i),k+=i,o+=a;b==On&&(w=g==m||0>=f||0>=i?0:1)}i=w}}i=!i}return i?m:0==r?n.Xb:+r*a}function L(e){var t=e.width,n=e.height,r=e.J;if(0>=t||0>=n||!(r>=Lt&&Zt>r))return en;if(!e.Fc&&e.Jb==m){var i=m,a=0,o=0,s=0,l=0,i=v,d=t*Or[r],u=d*n;if(Kt>r||(a=parseInt((t+1)/2,10),s=a*parseInt((n+1)/2,10),r==Yt&&(o=t,l=o*n)),i=u+2*s+l,i!=i)return en;if(i=c(i,205),i==m)return Qt;e.Jb=i,e.jc=m,Kt>r?(t=e.c.RGBA,t.ma=i,t.Sa=m,t.f=d,t.size=u):(t=e.c.Va,t.y=i,t.D=m,t.F=d,t.Wc=u,t.c=i,t.B=m+u,t.nb=a,t.Rc=s,t.S=i,t.C=m+u+s,t.rb=a,t.Uc=s,r==Yt&&(t.p=i,t.q=m+u+2*s),t.Wb=l,t.Fa=o)}return r=1,a=e.J,o=e.width,s=e.height,a>=Lt&&Zt>a?Kt>a?(e=e.c.RGBA,r&=e.f*s<=e.size,r&=e.f>=o*Or[a],r&=e.ma!=m):(e=e.c.Va,l=e.nb*parseInt((s+1)/2,10),d=e.rb*parseInt((s+1)/2,10),u=e.Fa*s,r&=e.F*s<=e.Wc,r&=l<=e.Rc,r&=d<=e.Uc,r&=u<=e.Wb,r&=e.F>=o,r&=e.nb>=parseInt((o+1)/2,10),r&=e.rb>=parseInt((o+1)/2,10),r&=e.y!=m,r&=e.c!=m,r&=e.S!=m,a==Yt&&(r&=e.Fa>=o,r&=u<=e.Wb,r&=e.p!=m)):r=0,r?Jt:en}function R(e,t,n,r){if(r==m||0>=e||0>=t)return en;if(n!=m){if(n.Ua){var i=n.wc,a=n.vc,o=-2&n.t,s=-2&n.k;if(0>o||0>s||0>=i||0>=a||o+i>e||s+a>t)return en;e=i,t=a}if(n.I){if(0>=n.Ba||0>=n.Aa)return en;e=n.Ba,t=n.Aa}}return r.width=e,r.height=t,L(r)}function B(e){return-256&e?0>e?0:255:e}function F(e,t,n,r){var i,a=c(16,0);i=0;var o;for(o=0;4>o;++o){var s=e[t+0]+e[t+8],l=e[t+0]-e[t+8],d=(e[t+4]*oi>>16)-(e[t+12]*ai>>16),u=(e[t+4]*ai>>16)+(e[t+12]*oi>>16);a[i+0]=s+u,a[i+1]=l+d,a[i+2]=l-d,a[i+3]=s-u,i+=4,t++}for(o=i=0;4>o;++o)e=a[i+0]+4,s=e+a[i+8],l=e-a[i+8],d=(a[i+4]*oi>>16)-(a[i+12]*ai>>16),u=(a[i+4]*ai>>16)+(a[i+12]*oi>>16),n[r+0+0*ur]=B(n[r+0+0*ur]+(s+u>>3)),n[r+1+0*ur]=B(n[r+1+0*ur]+(l+d>>3)),n[r+2+0*ur]=B(n[r+2+0*ur]+(l-d>>3)),n[r+3+0*ur]=B(n[r+3+0*ur]+(s-u>>3)),i++,r+=ur}function q(e,t,n,r,i){F(e,t,n,r),i&&F(e,t+16,n,r+4)}function H(e,t,n,r){Lr(e,t+0,n,r+0,1),Lr(e,t+32,n,r+4*ur,1)}function z(e,t,n,r){e=e[t+0]+4;var i;for(i=0;4>i;++i)for(t=0;4>t;++t)n[r+t+i*ur]=B(n[r+t+i*ur]+(e>>3))}function V(e,t,n,r){e[t+0]&&z(e,t+0,n,r+0),e[t+16]&&z(e,t+16,n,r+4),e[t+32]&&z(e,t+32,n,r+4*ur),e[t+48]&&z(e,t+48,n,r+4*ur+4)}function W(e,t,n){var r,i=t-ur,a=ri,o=255-e[i-1];for(r=0;n>r;++r){var s,c=a,l=o+e[t-1];for(s=0;n>s;++s)e[t+s]=c[l+e[i+s]];t+=ur}}function G(e,t,n){var r;for(r=0;16>r;++r)for(i=0;16>i;++i)t[n+r*ur+i]=e}function K(e,t,n){return e+2*t+n+2>>2}function Y(e,t,n){var r,i;for(r=0;8>r;++r)for(i=0;8>i;++i)t[n+i+r*ur]=e}function Z(e,t,n){var r=e[t-n],i=e[t+0],a=3*(i-r)+ti[1020+e[t-2*n]-e[t+n]],o=ni[112+(a+4>>3)];e[t-n]=ri[255+r+ni[112+(a+3>>3)]],e[t+0]=ri[255+i-o]}function X(e,t,n,r){var i=e[t+0],a=e[t+n];return Qr[255+e[t-2*n]-e[t-n]]>r||Qr[255+a-i]>r}function J(e,t,n,r,i){var a=e[t-3*n],o=e[t-2*n],s=e[t-n],c=e[t+0],l=e[t+n],d=e[t+2*n],u=e[t+3*n];return 2*Qr[255+s-c]+ei[255+o-l]>r?0:Qr[255+e[t-4*n]-a]<=i&&Qr[255+a-o]<=i&&Qr[255+o-s]<=i&&Qr[255+u-d]<=i&&Qr[255+d-l]<=i&&Qr[255+l-c]<=i}function Q(e,t,n,r){var i;for(i=0;16>i;++i)2*Qr[255+e[t+i-n]-e[t+i+0]]+ei[255+e[t+i-2*n]-e[t+i+n]]<=r&&Z(e,t+i,n)}function ee(e,t,n,r){var i;for(i=0;16>i;++i)2*Qr[255+e[t+i*n-1]-e[t+i*n+0]]+ei[255+e[t+i*n-2]-e[t+i*n+1]]<=r&&Z(e,t+i*n,1)}function te(e,t,n,r){var i;for(i=3;i>0;--i)t+=4*n,Q(e,t+0,n,r)}function ne(e,t,n,r){var i;for(i=3;i>0;--i)t+=4,ee(e,t+0,n,r)}function re(e,t,n,r,i,a,o,s){for(;0<i--;){if(J(e,t+0,n,a,o))if(X(e,t+0,n,s))Z(e,t+0,n);else{var c=e,l=t+0,d=n,u=c[l-2*d],p=c[l-d],m=c[l+0],h=c[l+d],g=c[l+2*d],f=ti[1020+3*(m-p)+ti[1020+u-h]],_=27*f+63>>7,v=18*f+63>>7,f=9*f+63>>7;c[l-3*d]=ri[255+c[l-3*d]+f],c[l-2*d]=ri[255+u+v],c[l-d]=ri[255+p+_],c[l+0]=ri[255+m-_],c[l+d]=ri[255+h-v],c[l+2*d]=ri[255+g-f]}t+=r}}function ie(e,t,n,r,i,a,o,s){for(;0<i--;){if(J(e,t+0,n,a,o))if(X(e,t+0,n,s))Z(e,t+0,n);else{var c=e,l=t+0,d=n,u=c[l-d],p=c[l+0],m=c[l+d],h=3*(p-u),g=ni[112+(h+4>>3)],h=ni[112+(h+3>>3)],f=g+1>>1;c[l-2*d]=ri[255+c[l-2*d]+f],c[l-d]=ri[255+u+h],c[l+0]=ri[255+p-g],c[l+d]=ri[255+m-f]}t+=r}}function ae(e,t,n,r,i,a){re(e,t+0,n,1,16,r,i,a)}function oe(e,t,n,r,i,a){re(e,t+0,1,n,16,r,i,a)}function se(e,t,n,r,i,a){var o;for(o=3;o>0;--o)t+=4*n,ie(e,t+0,n,1,16,r,i,a)}function ce(e,t,n,r,i,a){var o;for(o=3;o>0;--o)t+=4,ie(e,t+0,1,n,16,r,i,a)}function le(e,t,n,r,i,a,o,s){re(e,t,i,1,8,a,o,s),re(n,r,i,1,8,a,o,s)}function de(e,t,n,r,i,a,o,s){re(e,t,1,i,8,a,o,s),re(n,r,1,i,8,a,o,s)}function ue(e,t,n,r,i,a,o,s){ie(e,t+4*i,i,1,8,a,o,s),ie(n,r+4*i,i,1,8,a,o,s)}function pe(e,t,n,r,i,a,o,s){ie(e,t+4,1,i,8,a,o,s),ie(n,r+4,1,i,8,a,o,s)}function me(e,t){return t==Yn?0==e.i?0==e.d?nr:tr:0==e.d?er:Yn:t}function he(e,t,n,r){for(i=0;4>i;++i)e[t+i]=n[r+i]}function ge(e,t){return 0>e?0:e>t?t:e}function fe(e){e.a="VP8_STATUS_OK",e.xc="OK"}function _e(e){e>>>8!=Ot>>>8&&alert("mismatch error")}function ve(e,t,n){return e.a==Jt&&(e.a=t,e.xc=n,e.za=0),alert(t+": "+n),0}function ye(t,n){var r=[0],a=g,o=[y],s=e(fr),c=e(_r),l=e(pn),o="VP8StatusCode",s=e(un);if(t==m)return alert("(dec == null)"),0;if(fe(t),n==m)return ve(t,"VP8_STATUS_INVALID_PARAM","null VP8Io passed to VP8GetHeaders()");if(s.data=n.data,s.b=n.b,s.e=n.e,s.b=[s.b],s.e=[s.e],s=[s],o=It(s),o!=Jt)return ve(t,o,"Incorrect/incomplete header.");if(s=s[0],s.b=s.b[0],s.e=s.e[0],s.ia)return ve(t,tn,"Unexpected lossless format encountered.");if(t.Ga==m&&(u(0==t.ub),t.Ga=s.$,t.G=s.G,t.ub=s.pa),a=s.data,r=s.b+s.offset,o=s.e-s.offset,u(s.e>=s.offset),4>o[0])return ve(t,on,"Truncated header.");if(l=a[r+0]|a[r+1]<<8|a[r+2]<<16,s=t.Ac,s.fb=!(1&l)+0,s.Jc=l>>1&7,s.Nc=l>>4&1,s.Ra=l>>5,3<s.Jc)return ve(t,"VP8_STATUS_BITSTREAM_ERROR","Incorrect keyframe parameters.");if(!s.Nc)return ve(t,"VP8_STATUS_UNSUPPORTED_FEATURE","Frame not displayable.");if(r+=3,o-=3,c=t.P,s.fb){if(7>o)return ve(t,"VP8_STATUS_NOT_ENOUGH_DATA","cannot parse picture header");if(!(o>=3&&157==a[r+0]&&1==a[r+1]&&42==a[r+2]))return ve(t,"VP8_STATUS_BITSTREAM_ERROR","Bad code word");for(c.l=16383&(a[r+4]<<8|a[r+3]),c.gd=a[r+4]>>6,c.v=16383&(a[r+6]<<8|a[r+5]),c.hd=a[r+6]>>6,r+=7,o-=7,t.Ma=c.l+15>>4,t.hb=c.v+15>>4,n.width=c.l,n.height=c.v,n.I=0,n.Ua=0,n.k=0,n.t=0,n.Ka=n.width,n.K=n.height,n.m=n.width,n.h=n.height,l=t.R,i=0;i<l.Ta.length;++i)l.Ta[i]=255;for(l.z=e(vi),l=t.Ca,u(l!=m),l.pb=0,l.ob=0,l.tb=1,i=0;i<l.Kb.length;++i)l.Kb[i]=0;for(i=0;i<l.Cb.length;++i)l.Cb[i]=0;t.Lb=0}if(s.Ra>o)return ve(t,"VP8_STATUS_NOT_ENOUGH_DATA","bad partition length");l=t.o,$(l,a,r,r+s.Ra),r+=s.Ra,o-=s.Ra,s.fb&&(c.uc=w(l),c.$c=w(l));var c=l,d=t.Ca,p=t.R;if(u(c!=m),u(d!=m),d.pb=w(c),d.pb){if(d.ob=w(c),w(c)){var f;for(d.tb=w(c),f=0;ir>f;++f)d.Kb[f]=w(c)?C(c,7):0;for(f=0;ir>f;++f)d.Cb[f]=w(c)?C(c,6):0}if(d.ob)for(f=0;rr>f;++f)p.Ta[f]=w(c)?S(c,8):255}else d.ob=0;if(c.Ab)return ve(t,"VP8_STATUS_BITSTREAM_ERROR","cannot parse segment header");if(c=l,d=t.ga,d.Oc=w(c),d.Fb=S(c,6),d.kb=S(c,3),d.oc=w(c),d.oc&&w(c)){for(p=0;ar>p;++p)w(c)&&(d.Lc[p]=C(c,6));for(p=0;or>p;++p)w(c)&&(d.Gc[p]=C(c,6))}if(t.A=0==d.Fb?0:d.Oc?1:2,0<t.A)if(t.Ca.pb)for(p=0;ir>p;++p)f=t.Ca.Cb[p],t.Ca.tb||(f+=d.Fb),t.Zb[p]=f;else t.Zb[0]=d.Fb;if(c.Ab)return ve(t,"VP8_STATUS_BITSTREAM_ERROR","cannot parse filter header");var c=a,_=r,d=_,o=_+o;f=0;var v=h,b=h;if(t.Hb=1<<S(t.o,2),v=t.Hb-1,p=c,f=_+3*v,f>o)o="VP8_STATUS_NOT_ENOUGH_DATA";else{for(b=0;v>b;++b){var _=p,M=f+(c[d+0]|c[d+1]<<8|c[d+2]<<16);M>o&&(_=c),$(t.ic[+b],p,f,M),p=_,f=M,d+=3}$(t.ic[+v],p,f,o),o=o>f?"VP8_STATUS_OK":"VP8_STATUS_SUSPENDED"}if("VP8_STATUS_OK"!=o)return ve(t,"VP8_STATUS_BITSTREAM_ERROR","cannot parse partitions");for(v=t.o,o=S(v,7),c=w(v)?C(v,4):0,d=w(v)?C(v,4):0,p=w(v)?C(v,4):0,f=w(v)?C(v,4):0,v=w(v)?C(v,4):0,b=t.Ca,_=h,_=0;ir>_;++_){if(M=h,b.pb)M=b.Kb[_],b.tb||(M+=o);else{if(_>0){t.yb[_]=t.yb[0];continue}M=o}var A=t.yb[_];A.sc[0]=gi[ge(M+c,127)],A.sc[1]=fi[ge(M+0,127)],A.sb[0]=2*gi[ge(M+d,127)],A.sb[1]=101581*fi[ge(M+p,127)]>>16,8>A.sb[1]&&(A.sb[1]=8),A.qc[0]=gi[ge(M+f,117)],A.qc[1]=fi[ge(M+v,127)]}if(!s.fb)return ve(t,nn,"Not a key frame.");for(t.Zc=259,w(l),o=t.R,c=0;sr>c;++c)for(d=0;cr>d;++d)for(p=0;lr>p;++p)for(f=0;dr>f;++f)k(l,bi[c][d][p][f])&&(o.z[c][d][p][f]=S(l,8));if(t.pc=w(l),t.pc&&(t.Pc=S(l,8)),t.P.uc){if(r-=8,l=y,8>s.Ra||1!=a[r+8-1])return ve(t,tn,"RIFF: Inconsistent extra information.");l=a[r+0]<<0|a[r+1]<<8|a[r+2]<<16,t.fc=l,t.dd=m,t.cd=a[r+3]}return t.za=1}function be(e,t,n,r,i,a){var o=t[i][n];if(!k(e,o[0]))return 0;for(;;){if(++i,k(e,o[1])){var s;if(k(e,o[2])){if(k(e,o[3]))if(k(e,o[6])){s=g,n=k(e,o[8]),o=k(e,o[9+n]),o=2*n+o,n=0,s=ki[o];var c;for(c=0;c<s.length-1;++c)n+=n+k(e,s[c]);n+=3+(8<<o)}else k(e,o[7])?(n=7+2*k(e,165),n+=k(e,145)):n=5+k(e,159);else n=k(e,o[4])?3+k(e,o[5]):2;o=t[wi[i]][2]}else o=t[wi[i]][1],n=1;if(s=$i[i-1],a[a[a.length-1]+s]=(k(e,128)?-n:n)*r[(s>0)+0],16==i||!k(e,o[0]))return i}else o=t[wi[i]][0];if(16==i)return 16}}function we(e,t){return((16777216*e[0]+65536*e[1]+256*e[2]+1*e[3])*Mi&4278190080)>>t}function ke(e,s){var l=0;if(e==m)return 0;if(s==m)return ve(e,"VP8_STATUS_INVALID_PARAM","NULL VP8Io parameter in VP8Decode().");if(!e.za&&!ye(e,s))return 0;u(e.za);var d;if(s.Mb&&!s.Mb(s))ve(e,an,"Frame setup failed"),d=e.a;else{s.Za&&(e.A=0);var f=ui[e.A];2==e.A?(e.lb=0,e.mb=0):(e.lb=s.t-f>>4,e.mb=s.k-f>>4,0>e.lb&&(e.lb=0),0>e.mb&&(e.mb=0)),e.Ya=s.K+15+f>>4,e.wb=s.Ka+15+f>>4,e.wb>e.Ma&&(e.wb=e.Ma),e.Ya>e.hb&&(e.Ya=e.hb),d=Jt}if(l=d==Jt){if(l){var _;e:{if(e.Ja=0,e.qb){var v=e.rc;if(!WebPWorkerReset(v)){_=ve(e,Qt,"thread initialization failed.");break e}v.Qd=e,v.Rd=e.oa.N,v.Ud=FinishRow,e.jb=0<e.A?pi:pi-1}else e.jb=mi;_=1}var y;if(!(y=!_)){var b;e:{var w=e.jb,$=e.Ma,S=4*$,C=32*$,M=$+1,A=0<e.A?$*(e.qb?2:1):0,x=pr,E=C*(16*w+parseInt(3*ui[e.A]/2,10)),T=e.Ga!=m?e.P.l*e.P.v:0,I=S+C+M+A+x+384+E+T+di;if(I!=I)b=0;else{if(I>e.Gb){if(e.ib=0,e.Gb=0,e.ib==m){b=ve(e,"VP8_STATUS_OUT_OF_MEMORY","no memory during frame initialization.");break e}e.Gb=I}e.dc=205,e.Xc=a(205,16*$),e.Sc=a(205,8*$),e.Vc=a(205,8*$),e.M=A?r(wr,A):m,e.Sd=A?0:m,e.oa.ha=0,e.oa.M=e.M,u(0==(x&di)),e.Ea=a(205,1*x),e.z=-12851,e.H=16*$,e.r=8*$;var D=ui[e.A],P=D*e.H,N=D/2*e.r;e.ca=c(E,205),e.da=+P,e.aa=e.ca,e.ba=e.da+16*w*e.H+N,e.ra=e.aa,e.sa=e.ba+8*w*e.r+N,e.Xb=T?c(T,g):m,e.La=r(kr,M),e.dc=a(Yn,S),b=1}}y=!b}if(y)l=0;else{if(s.width=e.P.l,s.height=e.P.v,s.w=0,s.y=e.ca,s.D=e.da,s.c=e.aa,s.B=e.ba,s.S=e.ra,s.C=e.sa,s.F=e.H,s.Da=e.r,s.p=m,s.q=m,!ii){var U;for(U=-255;255>=U;++U)Qr[255+U]=0>U?-U:U,ei[255+U]=Qr[255+U]>>1;for(U=-1020;1020>=U;++U)ti[1020+U]=-128>U?-128:U>127?127:U;for(U=-112;112>=U;++U)ni[112+U]=-16>U?-16:U>15?15:U;for(U=-255;510>=U;++U)ri[255+U]=0>U?0:U>255?255:U;ii=1}Lr=q,Rr=H,Br=z,Fr=V,qr=ae,jr=oe,Hr=le,zr=de,Vr=se,Wr=ce,Gr=ue,Kr=pe,Yr=Q,Zr=ee,Xr=te,Jr=ne,l=1}}if(l)e:{for(e.d=0;e.d<e.Ya;++e.d){var L=e.ic[e.d&e.Hb-1],R=e,B=R.La[0];for(B.X=0,B.ua=0,o(R.cc,0,Yn,R.cc.length),R.W=(0<R.A&&R.d>=R.mb&&R.d<=R.Ya)+0,e.i=0;e.i<e.Ma;e.i++){var F,j=e,W=L,G=j.o,K=j.La[0],Y=j.La[1+j.i];j.Ca.ob&&(j.Lb=k(G,j.R.Ta[0])?2+k(G,j.R.Ta[2]):0+k(G,j.R.Ta[1])),Y.Nb=j.pc?k(G,j.Pc):0;var Z=j.dc;Z[Z.length-1]=0+4*j.i;var X=j.cc;if(j.wa=!k(G,145),j.wa)for(var J=j.Eb,re=0,ie=p,ie=0;4>ie;++ie){var ge,fe=X[ie];for(ge=0;4>ge;++ge){var _e=yi[Z[Z[Z.length-1]+ge]][fe],ke=0;do ke=_i[2*ke+k(G,_e[ke])];while(ke>0);fe=-ke,Z[Z[Z.length-1]+ge]=fe,J[re]=fe,re++}X[ie]=fe}else{var fe=k(G,156)?k(G,128)?Qn:Jn:k(G,163)?Xn:Zn;for(j.Eb[0]=fe,ke=0;4>ke;++ke)Z[ke+Z[Z.length-1]]=fe;for(ke=0;4>ke;++ke)X[ke]=fe}if(j.Tc=k(G,142)?k(G,114)?k(G,183)?Qn:Jn:Xn:Zn,G.Ab)F=0;else{if(Y.Nb)K.X=Y.X=0,j.wa||(K.ua=Y.ua=0),j.ja=0,j.Oa=0;else{var Se=p,Ce=p,Me=p,Ae=Si,xe=j.yb[j.Lb],Ee=j.z,Te=j.La[0],Ie=c(4,0),De=c(4,0),Pe=c(4,0),Ne=c(4,0),Ue=0,Oe=0,Le=p,Re=p,Be=p,Ee=a(0,384);if(j.wa)Me=0,Ae=j.R.z[3];else{var Fe=c(16,0),qe=Y.ua+Te.ua;Y.ua=Te.ua=(0<be(W,j.R.z[1],qe,xe.sb,0,Fe))+0;for(var Me=1,Ae=j.R.z[0],je=Fe,He=Ee,ze=c(16,h),Ve=h,Ve=0;4>Ve;++Ve){var We=je[0+Ve]+je[12+Ve],Ge=je[4+Ve]+je[8+Ve],Ke=je[4+Ve]-je[8+Ve],Ye=je[0+Ve]-je[12+Ve];ze[0+Ve]=We+Ge,ze[8+Ve]=We-Ge,ze[4+Ve]=Ye+Ke,ze[12+Ve]=Ye-Ke}for(Ve=0;4>Ve;++Ve){var Ze=He[He.length-1],Xe=ze[0+4*Ve]+3,We=Xe+ze[3+4*Ve],Ge=ze[1+4*Ve]+ze[2+4*Ve],Ke=ze[1+4*Ve]-ze[2+4*Ve],Ye=Xe-ze[3+4*Ve];He[Ze+0]=We+Ge>>3,He[Ze+16]=Ye+Ke>>3,He[Ze+32]=We-Ge>>3,He[Ze+48]=Ye-Ke>>3,He[He.length-1]+=64}Ee[Ee.length-1]=0}for(Pe=n(Ci[15&Y.X]),Ne=n(Ci[15&Te.X]),Re=0;4>Re;++Re){for(var Je=Ne[Re],Le=0;4>Le;++Le){var qe=Je+Pe[Le],Qe=be(W,Ae,qe,xe.sc,Me,Ee);Pe[Le]=Je=(Qe>0)+0,De[Le]=(0!=Ee[Ee[Ee.length-1]+0])+0,Ie[Le]=(Qe>1)+0,Ee[Ee.length-1]+=16}Ne[Re]=Je,Oe|=we(De,24-4*Re),Ue|=we(Ie,24-4*Re)}for(Se=we(Pe,24),Ce=we(Ne,24),Pe=n(Ci[Y.X>>4]),Ne=n(Ci[Te.X>>4]),Be=0;4>Be;Be+=2){for(Re=0;2>Re;++Re){for(Je=Ne[Be+Re],Le=0;2>Le;++Le)qe=Je+Pe[Be+Le],Qe=be(W,j.R.z[2],qe,xe.qc,0,Ee),Pe[Be+Le]=Je=(Qe>0)+0,De[2*Re+Le]=(0!=Ee[Ee[Ee.length-1]+0])+0,Ie[2*Re+Le]=(Qe>1)+0,Ee[Ee.length-1]+=16;Ne[Be+Re]=Je}Oe|=we(De,8-2*Be),Ue|=we(Ie,8-2*Be)}Se|=we(Pe,20),Ce|=we(Ne,20),Y.X=Se,Te.X=Ce,j.z=Ee,j.Oa=Ue+0,j.ja=Ue|Oe,Y.Nb=!j.ja+0}F=!W.Ab}if(!F){l=ve(e,"VP8_STATUS_NOT_ENOUGH_DATA","Premature end-of-file encountered."+e.i+" "+e.d);break e}var et=e,tt=et.Ea,nt=mr,rt=et.Ea,it=hr,at=et.Ea,ot=gr;if(0<et.i){for(var st=p,st=-1;16>st;++st)he(tt,nt+st*ur-4,tt,nt+st*ur+12);for(st=-1;8>st;++st)he(rt,it+st*ur-4,rt,it+st*ur+4),he(at,ot+st*ur-4,at,ot+st*ur+4)}else{for(st=0;16>st;++st)tt[nt+st*ur-1]=129;for(st=0;8>st;++st)rt[it+st*ur-1]=129,at[ot+st*ur-1]=129;0<et.d&&(tt[nt-1-ur]=rt[it-1-ur]=at[ot-1-ur]=129)}var ct=et.Xc,lt=16*+et.i,dt=et.Sc,ut=8*+et.i,pt=et.Vc,mt=8*+et.i,ht=et.z,gt=p;if(0<et.d)t(tt,nt-ur,ct,lt,16),t(rt,it-ur,dt,ut,8),t(at,ot-ur,pt,mt,8);else if(0==et.i){for(i=0;21>i;++i)tt[nt-ur-1+i]=127;for(i=0;9>i;++i)rt[it-ur-1+i]=127;for(i=0;9>i;++i)at[ot-ur-1+i]=127}if(et.wa){var ft=nt-ur+16;0<et.d&&(et.i>=et.Ma-1?tt[ft+0]=tt[ft+1]=tt[ft+2]=tt[ft+3]=ct[lt+15]:t(tt,ft+0,ct,lt+16,4));for(var _t=0;4>_t;++_t)tt[_t+ft+4*ur]=tt[_t+ft+4*ur]=tt[_t+ft+8*ur]=tt[_t+ft+12*ur]=tt[_t+ft+0];for(gt=0;16>gt;gt++){var vt=tt,yt=nt+hi[gt];si[et.Eb[gt]](vt,yt),et.Oa&1<<gt?Lr(ht,16*+gt,vt,yt,0):et.ja&1<<gt&&Br(ht,16*+gt,vt,yt)}}else{var bt=me(et,et.Eb[0]);if(ci[bt](tt,nt),et.ja)for(gt=0;16>gt;gt++)vt=tt,yt=nt+hi[gt],et.Oa&1<<gt?Lr(ht,16*+gt,vt,yt,0):et.ja&1<<gt&&Br(ht,16*+gt,vt,yt)}if(bt=me(et,et.Tc),li[bt](rt,it),li[bt](at,ot),983040&et.ja){var wt=et.z,kt=256;983040&et.Oa?Rr(wt,kt,rt,it):Fr(wt,kt,rt,it)}if(15728640&et.ja){var $t=et.z,kt=320;15728640&et.Oa?Rr($t,kt,at,ot):Fr($t,kt,at,ot)}et.d<et.hb-1&&(t(ct,lt,tt,nt+15*ur,16),t(dt,ut,rt,it+7*ur,8),t(pt,mt,at,ot+7*ur,8));var St=e;if(0<St.A){var Ct=St.M[1+St.i],Mt=St.La[1+St.i].Nb,At=St.Zb[St.Lb];St.ga.oc&&(At+=St.ga.Lc[0],St.wa&&(At+=St.ga.Gc[0])),At=0>At?0:At>63?63:At,Ct.zc=At,0<St.ga.kb&&(At=4<St.ga.kb?At>>2:At>>1,At>9-St.ga.kb&&(At=9-St.ga.kb)),Ct.yc=1>At?1:At,Ct.ab=(!Mt||St.wa)+0}for(var xt=p,Et=8*St.Ja*St.r,Tt=St.ca,It=St.da+16*St.i+16*St.Ja*St.H,Dt=St.aa,Pt=St.ba+8*St.i+Et,Nt=St.ra,Ut=St.sa+8*St.i+Et,xt=0;16>xt;++xt)t(Tt,It+xt*St.H,St.Ea,+mr+xt*ur,16);for(xt=0;8>xt;++xt)t(Dt,Pt+xt*St.r,St.Ea,+hr+xt*ur,8),t(Nt,Ut+xt*St.r,St.Ea,+gr+xt*ur,8)}var Ot=e,Lt=s,Rt=1,Bt=Ot.oa;if(Ot.qb){var Ft=Ot.rc,Rt=Rt&WebPWorkerSync(Ft);if(u(Ft.a==OK),Rt){if(Bt.N=Lt,Bt.ha=Ot.Ja,Bt.d=Ot.d,Bt.W=Ot.W,Bt.W){var qt=Bt.M;Bt.M=Ot.M,Ot.M=qt}WebPWorkerLaunch(Ft),++Ot.Ja==Ot.jb&&(Ot.Ja=0)}}else{Bt.d=Ot.d,Bt.W=Ot.W;t:{var jt=1,Ht=Ot.oa,zt=ui[Ot.A],Vt=zt*Ot.H,Wt=parseInt(zt/2)*Ot.r,Gt=16*Ht.ha*Ot.H,Kt=8*Ht.ha*Ot.r,Yt=Ot.ca,Zt=Ot.da-Vt+Gt,Xt=Ot.aa,en=Ot.ba-Wt+Kt,nn=Ot.ra,rn=Ot.sa-Wt+Kt,on=0==Ht.d,sn=(Ht.d>=Ot.hb-1)+0,cn=16*Ht.d,ln=16*(Ht.d+1);if(Ht.W){var dn=Ot,un=h,pn=dn.oa.d;for(u(dn.oa.W),un=dn.lb;un<dn.wb;++un){var mn=dn,hn=un,gn=pn,fn=mn.oa,_n=mn.H,vn=fn.M[1+hn],yn=mn.ca,bn=mn.da+16*fn.ha*_n+16*hn,wn=vn.zc,kn=vn.yc,$n=2*wn+kn;if(0!=wn)if(1==mn.A)hn>0&&Zr(yn,bn,_n,$n+4),vn.ab&&Jr(yn,bn,_n,$n),gn>0&&Yr(yn,bn,_n,$n+4),vn.ab&&Xr(yn,bn,_n,$n);else{var Sn=mn.r,Cn=mn.aa,Mn=mn.ba+8*fn.ha*Sn+8*hn,An=mn.ra,xn=mn.sa+8*fn.ha*Sn+8*hn,En=mn.Ac.fb?wn>=40?2:wn>=15?1:0:wn>=40?3:wn>=20?2:wn>=15?1:0;hn>0&&(jr(yn,bn,_n,$n+4,kn,En),zr(Cn,Mn,An,xn,Sn,$n+4,kn,En)),vn.ab&&(Wr(yn,bn,_n,$n,kn,En),Kr(Cn,Mn,An,xn,Sn,$n,kn,En)),gn>0&&(qr(yn,bn,_n,$n+4,kn,En),Hr(Cn,Mn,An,xn,Sn,$n+4,kn,En)),vn.ab&&(Vr(yn,bn,_n,$n,kn,En),Gr(Cn,Mn,An,xn,Sn,$n,kn,En))}}}if(Lt.put){if(on?(Lt.y=Ot.ca,Lt.D=Ot.da+Gt,Lt.c=Ot.aa,Lt.B=Ot.ba+Kt,Lt.S=Ot.ra,Lt.C=Ot.sa+Kt):(cn-=zt,Lt.y=Yt,Lt.D=Zt,Lt.c=Xt,Lt.B=en,Lt.S=nn,Lt.C=rn),sn||(ln-=zt),ln>Lt.K&&(ln=Lt.K),Ot.Ga!=m&&ln>cn&&(0==cn?(Lt.p=O(Ot,cn,ln-cn),Lt.q=0):Lt.q=O(Ot,cn,ln-cn),Lt.p==m)){Rt=ve(Ot,tn,"Could not decode alpha data.");break t}if(cn<Lt.k){var Tn=Lt.k-cn,cn=Lt.k;u(!(1&Tn)),Lt.D+=Ot.H*Tn,Lt.B+=Ot.r*(Tn>>1),Lt.C+=Ot.r*(Tn>>1),Lt.p!=m&&(Lt.q+=Lt.width*Tn)}ln>cn&&(Lt.D+=Lt.t,Lt.B+=Lt.t>>1,Lt.C+=Lt.t>>1,Lt.p!=m&&(Lt.q+=Lt.t),Lt.w=cn-Lt.k,Lt.m=Lt.Ka-Lt.t,Lt.h=ln-cn,jt=Lt.put(Lt))}Ht.ha+1==Ot.jb&&!sn&&(t(Ot.ca,Ot.da-Vt,Yt,Zt+16*Ot.H,Vt),t(Ot.aa,Ot.ba-Wt,Xt,en+8*Ot.r,Wt),t(Ot.ra,Ot.sa-Wt,nn,rn+8*Ot.r,Wt)),Rt=jt}}if(!Rt){l=ve(e,"VP8_STATUS_USER_ABORT","Output aborted.");break e}}var In;if(!(In=e.qb&&!WebPWorkerSync(e.rc))){var Dn;(Dn=0<e.fc)&&(u(e),u(0<e.fc),Dn=!1),In=Dn}l=In?0:1}var Pn=l;s.Pb&&s.Pb(s),l=1&Pn}return l?(e.za=0,l):($e(e),0)}function $e(e){e!=m&&(e.ib&&(e.ib=0),e.ib=m,e.Gb=0,e.za=0)}function Se(e,t){return e+(1<<t)-1>>t}function Ce(e,t,n,r,i){var a=Zi[n]+Xi[t]>>Ai;t=Yi[t],r[i+0]=Ji[e+Ki[n]-xi],r[i+1]=Ji[e+a-xi],r[i+2]=Ji[e+t-xi]}function Me(e,t,n,r,i){var a=Zi[n]+Xi[t]>>Ai;t=Yi[t],r[i+0]=248&Ji[e+Ki[n]-xi]|Ji[e+a-xi]>>5,r[i+1]=Ji[e+a-xi]<<3&224|Ji[e+t-xi]>>3}function Ae(e,t,n,r,i){r[i+0]=255,Ce(e,t,n,r,i+1)}function xe(e,t,n,r,i){var a=Yi[t];r[i+0]=Qi[e+Ki[n]-xi]<<4|Qi[e+(Zi[n]+Xi[t]>>Ai)-xi],r[i+1]=15|Qi[e+a-xi]<<4}function Ee(e,t,n,r,i){var a=Ki[n];n=Zi[n]+Xi[t]>>Ai,r[i+0]=Ji[e+Yi[t]-xi],r[i+1]=Ji[e+n-xi],r[i+2]=Ji[e+a-xi]}function Te(e,t,n,r,i){Ee(e,t,n,r,i),r[i+3]=255}function Ie(e,t,n,r,i){Ce(e,t,n,r,i),r[i+3]=255}function De(e,t,n){e[t]=((((4278255360&e[t])>>>0)+((4278255360&n)>>>0)&4278255360)>>>0|(16711935&e[t])+(16711935&n)&16711935)>>>0}function Pe(e,t){return((4278124286&(e^t))>>>1)+((e&t)>>>0)>>>0}function Ne(e){return 256>e&&e>0?e:0>=e?0:~e>>24&255}function Ue(e,t){return Ne(e+parseInt((e-t)/2,10))}function Oe(){return $n}function Le(e,t){return e&=255,t&=255,e>127&&(e-=256),t>127&&(t-=256),e*t>>>5}function Re(e,t,n,r,i,a,o){var s=h,c=8>>e.n,l=e.U,d=e.u;if(8>c){e=(1<<e.n)-1;for(var u=(1<<c)-1,s=t;n>s;++s){t=0;for(var p=h,p=0;l>p;++p)0==(p&e)&&(t=r[i++]>>8&255),a[o++]=d[t&u],t>>=c}}else for(s=t;n>s;++s)for(p=0;l>p;++p)a[o++]=d[r[i++]>>8&255]}function Be(e,t,n,r,i){for(n=t+n;n>t;){var a=e[t++];r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=a>>0&255,r[i++]=a>>24&255}}function Fe(e,t,n,r,i){for(n=t+n;n>t;){var a=e[t++];r[i++]=a>>16&240|a>>12&15,r[i++]=a>>0&240|a>>28&15}}function qe(e,t,n,r,i){for(n=t+n;n>t;){var a=e[t++];r[i++]=a>>24&255,r[i++]=a>>16&255,r[i++]=a>>8&255,r[i++]=a>>0&255}}function je(e,t,n,r){return E(e,8)!=_n?0:(t[0]=E(e,vn)+1,n[0]=E(e,vn)+1,r[0]=E(e,1),E(e,yn),1)}function He(e,t){var n=h;return 4>e?e+1:(n=e-2>>1,(2+(1&e)<<n)+E(t,n)+1)}function ze(e,t){if(t.Q+8>t.ya){var n=e.Y,r=0;for(u(n!=m);0!=n[r].s;){var i=n,a=t,o=a.T>>a.g&1;a.L?a.fa=1:(++a.g,8<=a.g&&A(a),a.Q==a.ya&&32==a.g&&(a.L=1)),r=r+i[r].s+o}return n[r].kc}for(n=e.Y,r=0,u(n!=m);0!=n[r].s;)i=n,a=t.T>>t.g&1,++t.g,r=r+i[r].s+a;return n[r].kc}function Ve(e,t){if(e!=m)for(var n=h,r=h,n=0;t>n;++n)for(var i=e[n].va,r=0;kn>r;++r)D(i[r])}function We(e,t,n){return t=0==e.eb?0:e.ac[e.bd+e.Ec*(n>>e.eb)+(t>>e.eb)],u(t<e.hc),e.Db[+t]}function Ge(n,r,i,a){var o=n.Na,s=n.O,c=s+r,l=i,d=a;for(a=n.Xa,i=n.vb,t(a,i,l,d,n.l*r);0<o--;){r=n.nc[o];var p=s,g=c,f=l,v=d,d=a,l=i;switch(u(g>p),u(g<=r.Vb),r.Qc){case In:for(f=0,r=l+(g-p)*r.U;r>l;){var g=d,v=l,y=g[v]>>8&255,b=(16711935&g[v])>>>0,b=b+(y<<16|y),b=16711935&b;d[l++]=((4278255360&g[v])>>>0|b)>>>0,32==p&&f++}break;case En:var w=r,k=p,f=g,v=d,y=l,b=w.U;if(0==k){var $=h;for(De(v,y,$n),$=1;b>$;++$)De(v,y+$,v[y+$-1]);y+=b,++k}for(var S=(1<<w.n)-1,C=Se(b,w.n),M=w.u,w=+(k>>w.n)*C;f>k;){var A=M,x=w,E=m;for(De(v,y,v[y-b+0]),E=Ti[A[x++]>>8&15],$=1;b>$;++$){var T=_;0==($&S)&&(E=Ti[A[x++]>>8&15]),T=E(v[y+$-1],v,y+$-b),De(v,y+$,T)}y+=b,++k,0==(k&S)&&(w+=C)}g!=r.Vb&&(r=r.U,t(d,l-r,d,l+(g-p-1)*r,r));break;case Tn:for(f=r.U,v=(1<<r.n)-1,y=Se(f,r.n),b=r.u,r=+(p>>r.n)*y;g>p;){for($=b,k=r,S=e(Ii),C=h,C=0;f>C;++C)0==(C&v)&&(M=$[k++],w=S,w.Cc=M>>0&255,w.Bc=M>>8&255,w.Kc=M>>16&255),M=d[l+C],w=M>>>8,A=M>>>16,x=M,A+=Le(S.Cc,w),A&=255,x+=Le(S.Bc,w),x+=Le(S.Kc,A),x&=255,d[l+C]=(4278255360&M|A<<16|x)>>>0;l+=f,++p,0==(p&v)&&(r+=y)}break;case Dn:f==d&&0<r.n?(f=(g-p)*Se(r.U,r.n),v=l+(g-p)*r.U-f,memmove(d,v,d,l,f),Re(r,p,g,d,v,d,l)):Re(r,p,g,f,v,d,l)}l=a,d=i}}function Ke(e,t){var n=e.V,r=e.Ha+e.l*e.O,i=t-e.O;if(!(0>=i)){Ge(e,i,n,r);var a=e.N,n=e.Xa,o=[e.vb],r=e.O,i=t,s=o,c=a.width;if(u(i>r),u(a.t<a.Ka),i>a.K&&(i=a.K),r<a.k){var l=a.k-r,r=a.k;s[0]+=c*l}if(r>=i?r=0:(s[0]+=a.t,a.w=r-a.k,a.m=a.Ka-a.t,a.h=i-r,r=1),r){if(o=o[0],r=e.Ib,i=a.width,r.J<Kt){var d=r.c.RGBA,s=d.ma,p=d.Sa+e.xa*d.f;if(a.I)n=EmitRescaledRows(e,n,o,i,a.h,s,p,d.f);else{for(var c=r.J,l=a.m,a=a.h,d=d.f,m=a;0<m--;){var h=n,g=o,f=l,_=s,v=p;switch(c){case Lt:for(f=g+f;f>g;){var y=h[g++];_[v++]=y>>16&255,_[v++]=y>>8&255,_[v++]=y>>0&255}break;case Rt:Be(h,g,f,_,v);break;case zt:Be(h,g,f,_,v),WebPApplyAlphaMultiply(_,0,f,1,0);break;case Bt:for(f=g+f;f>g;)y=h[g++],_[v++]=y>>0&255,_[v++]=y>>8&255,_[v++]=y>>16&255;break;case Ft:qe(h,g,f,_,v);break;case Vt:qe(h,g,f,_,v),WebPApplyAlphaMultiply(_,0,f,1,0);break;case qt:qe(h,g,f,_,v);break;case Wt:qe(h,g,f,_,v),WebPApplyAlphaMultiply(_,1,f,1,0);break;case jt:Fe(h,g,f,_,v);break;case Gt:Fe(h,g,f,_,v),WebPApplyAlphaMultiply4444(_,f,1,0);break;case Ht:for(f=g+f;f>g;)y=h[g++],_[v++]=y>>16&248|y>>13&7,_[v++]=y>>5&224|y>>3&31;break;default:u(0)}o+=i,p+=d}n=a}e.xa+=n}else e.xa=a.I?EmitRescaledRowsYUVA(e,n,o,i,a.h):EmitRowsYUVA(e,n,o,i,a.m,a.h);u(e.xa<=r.height)}e.O=t,u(e.O<=e.v)}}function Ye(e,t,n,r,i,a){var o=1,s=0,c=0,l=e.o,d=e.cb,p=d.Db,g=n,f=n;n+=r*i,i=Mn+An;var _=i+d.xb,v=0<d.xb?d.Yb:m,y=d.Dc,b=!1;u(p!=m);e:for(;!l.L&&n>g;){var w=h;if(b||(0==(s&y)&&(p=We(d,s,c)),x(l),w=ze(p.va[Li],l)),Mn>w||b){if(!b){var k=o=b=h,$=h;x(l),b=ze(p.va[Ri],l),o=w,x(l),k=ze(p.va[Bi],l),x(l),$=ze(p.va[Fi],l),t[g]=($<<24>>>0)+(b<<16)+(o<<8)+k}if(b=!1,++g,++s,s>=r&&(s=0,++c,a!=m&&0==c%Di&&a(e,c),v!=m))for(;g>f;)o=t[f++],v.ea[Kn*o>>>v.bb]=o}else if(i>w){for(k=k=h,o=He(w-Mn,l),w=ze(p.va[qi],l),x(l),k=He(w,l),k>Vi?k-=Vi:(w=Wi[k-1],w=(w>>4)*r+(8-(15&w)),k=w>=1?w:1),w=h,w=0;o>w;++w)t[g+w]=t[g+w-k];for(g+=o,s+=o;s>=r;)s-=r,++c,a!=m&&0==c%Di&&a(e,c);if(n>g&&(p=We(d,s,c),v!=m))for(;g>f;)o=t[f++],v.ea[Kn*o>>>v.bb]=o}else if(_>w){for(b=w-i,u(v!=m);g>f;)w=t[f++],v.ea[Kn*w>>>v.bb]=w;w=t,k=g,$=v,u(b<=-1>>>$.bb),w[k]=$.ea[b],b=!0;continue e}(o=!l.fa)||End}return a!=m&&a(e,c),l.fa||!o||l.L&&n>g?(o=0,e.a=l.L?rn:tn):g==n&&(e.Ob=Ar),o}function Ze(e){u(e),e.ac=m,Ve(e.Db,e.hc);var t=e.Yb;t!=m&&(t.ea=m,t.ea=m),u(e)}function Xe(){var t=e(Pr);return t==m?m:(t.a=Jt,t.Wa=Er,t.Ob=Er,t)}function Je(e){var t=h;if(e!=m){for(Ze(e.cb),e.V=m,e.V=m,t=0;t<e.Na;++t){var n=e.nc[t];n.u=m,n.u=m}e.Na=0,e.Ub=0,e.Mc=m,e.Mc=m,e.Ib=m}}function Qe(t,n,r,i,a){var o=1;t=[t],n=[n];for(var s=i.o,d=i.cb,p=m,g=m,g=0;;){if(r)for(;o&&E(s,1);){var f=t,_=n,v=i,y=1,b=v.o,o=v.nc[v.Na],w=E(b,2);if(v.Ub&1<<w)o=0;else{switch(v.Ub|=1<<w,o.Qc=w,o.U=f[0],o.Vb=_[0],o.u=[m],o.b=0,++v.Na,u(v.Na<=xn),w){case En:case Tn:o.n=E(b,3)+2,y=Qe(Se(o.U,o.n),Se(o.Vb,o.n),0,v,o.u);break;case Dn:if(_=E(b,8)+1,y=_>16?0:_>4?1:_>2?2:3,f[0]=Se(o.U,y),o.n=y,f=y=Qe(_,1,0,v,o.u))if(f=_,v=o,y=h,_=1<<(8>>>v.n)>>>0,b=Array(_),b==m)f=0;else{var w=v.u[0],k=v.b;for(b[0]=v.u[0][v.b+0],y=1;f>y;++y)b[y]=((((4278255360&w[k+y])>>>0)+((4278255360&b[y-1])>>>0)&4278255360)>>>0|(16711935&w[k+y])+(16711935&b[y-1])&16711935)>>>0;for(;_>y;++y)b[y]=0;v.u[0]=m,v.b=m,v.u[0]=b,v.b=0,f=1}y=f;break;case In:break;default:u(0)}o.u=o.u[0],o=y}}if(o&&E(s,1)&&(g=E(s,4),o=g>=1&&wn>=g,!o)){i.a=tn;break}if(o)e:{var o=i,$=t[0],S=n[0],f=g,k=w=h,k=o.o,v=o.cb,y=[m],_=m,b=1;if(r&&E(k,1)){var w=E(k,3)+2,$=Se($,w),C=Se(S,w),S=$*C;if(!Qe($,C,0,o,y)){o.a=tn,Ve(_,b),o=0;break e}for(y=y[0],v.eb=w,w=0;S>w;++w)$=y[w]>>>8&65535,y[w]=$,$>=b&&(b=$+1)}if(k.fa)Ve(_,b),o=0;else if(u(65536>=b),_=l(b,Ir),_==m)o.a=Qt,Ve(_,b),o=0;else{for(w=0;b>w;++w)for(S=_[w].va,k=0;kn>k;++k){$=ji[k],0==k&&f>0&&($+=1<<f);t:{var M=$,$=o,A=S[+k],U=0,C=$.o;if(E(C,1)){var O=Array(2),L=Array(2),R=Array(2),U=E(C,1)+1,B=E(C,1);O[0]=E(C,0==B?1:8),L[0]=0,R[0]=U-1,2==U&&(O[1]=E(C,8),L[1]=1,R[1]=U-1);n:{var B=0,F=h;if(u(A!=m),u(R!=m),u(L!=m),u(O!=m),I(A,U)){for(F=0;U>F;++F)if(L[F]!=Wn){if(0>O[F]||O[F]>=M){(B=B&&T(A))||D(A),U=B;break n}if(!P(A,O[F],L[F],R[F])){(B=B&&T(A))||D(A),U=B;break n}}(B=(B=1)&&T(A))||D(A),U=B}else U=0}}else{if(U=h,L=[],O=E(C,4)+4,O>Hi){$.a=tn,$=0;break t}if(R=Array(M),R==m){$.a=Qt,$=0;break t}for(U=0;O>U;++U)L[zi[U]]=E(C,3);n:{var U=$,q=L,L=M,O=R,B=0,F=U.o,j=h,H=h,z=Sn,V=e(Vn);if(N(V,q,Hi)){if(E(F,1)){if(j=2+2*E(F,3),H=2+E(F,j),H>L){U.a=tn,D(V),U=B;break n}}else H=L;for(j=0;L>j;){var W=h;if(0==H--)break;if(x(F),W=ze(V,F),Pi>W)O[j++]=W,0!=W&&(z=W);else{var q=W==Ni,W=W-Pi,G=Oi[W],W=E(F,Ui[W])+G;if(j+W>L){U.a=tn,D(V),U=B;break n}for(q=q?z:0;0<W--;)O[j++]=q}}B=1,D(V),U=B}else U.a=tn,U=0}U&&(U=N(A,R,M))}(U=U&&!C.fa)?$=1:($.a=tn,$=0)}if(!$){Ve(_,b),o=0;break e}}v.ac=y,v.hc=b,v.Db=_,o=1}}if(!o){i.a=tn;break}if(g>0){if(d.xb=1<<g,f=d.Yb,v=1<<g,u(f!=m),u(g>0),f.ea=c(v,0),f.ea==m?g=0:(f.bb=32-g,g=1),!g){i.a=Qt,o=0;break}}else d.xb=0;if(g=i,f=t[0],v=n[0],y=g.cb,_=y.eb,g.l=f,g.v=v,y.Ec=Se(f,_),y.Dc=0==_?-1:(1<<_)-1,r){i.Ob=xr;break}if(p=Array(t*n),g=0,p==m){i.a=Qt,o=0;break}o=(o=Ye(i,p,g,t,n,m))&&!s.fa;break}return o?(a!=m?a[0]=p:(u(p==m),u(r)),r||Ze(d)):(Ze(d),i.a==tn&&i.o.L&&(i.a=rn)),o}function et(e,t){var n=e.l*e.v,r=n+t+t*Di;return u(e.l<=t),e.V=Array(r),e.Ha=0,e.V==m?(e.Xa=m,e.a=Qt,0):(e.Xa=e.V,e.vb=e.Ha+n+t,1)}function tt(e,t){var n=t-e.O,r=e.V,i=e.Ha+e.l*e.O;if(!(0>=n)){Ge(e,n,r,i);for(var i=e.N.width,n=i*n,r=e.N.ka,i=e.N.fd+i*e.O,a=e.Xa,o=e.vb,s=h,s=0;n>s;++s)r[i+s]=a[o+s]>>>8&255;e.O=e.xa=t}}function nt(e,t){var n=[h],r=[h],i=[h];return e==m?0:t==m?(e.a=en,0):(e.N=t,e.a=Jt,M(e.o,t.data,t.b,t.e),je(e.o,n,r,i)?(e.Ob=Er,t.width=n[0],t.height=r[0],e.Wa=xr,Qe(n[0],r[0],1,e,m)?1:(Je(e),u(e.a!=Jt),0)):(e.a=tn,Je(e),u(e.a!=Jt),0))}function rt(e){var t=m,n=m;return e==m?0:(t=e.N,u(t!=m),n=t.ka,u(n!=m),e.Ib=n.j,e.Hc=n.Hc,u(e.Ib!=m),Ut(n.Qa,t,Ft)?!et(e,t.width)||t.I&&!AllocateAndInitRescaler(e,t)?(Je(e),u(e.a!=Jt),0):(e.Wa=Ar,Ye(e,e.V,e.Ha,e.l,e.v,Ke)?(n.ec=e.xa,Je(e),1):(Je(e),u(e.a!=Jt),0)):(e.a=en,Je(e),u(e.a!=Jt),0))}function ge(e,t){return 0>e?0:e>t?t:e}function it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,_,v){var y,b=f-1>>1,w=i[a+0]|o[s+0]<<16,k=c[l+0]|d[u+0]<<16;if(e){var $=3*w+k+131074>>2;_(e[t+0],255&$,$>>16,p,m)}for(n&&($=3*k+w+131074>>2,_(n[r+0],255&$,$>>16,h,g)),y=1;b>=y;++y){var S=i[a+y]|o[s+y]<<16,C=c[l+y]|d[u+y]<<16,$=w+S+k+C+524296,M=$+2*(S+k)>>3,A=$+2*(w+C)>>3;e&&($=M+w>>1,w=A+S>>1,_(e[t+2*y-1],255&$,$>>16,p,m+(2*y-1)*v),_(e[t+2*y-0],255&w,w>>16,p,m+(2*y-0)*v)),n&&($=A+k>>1,w=M+C>>1,_(n[r+2*y-1],255&$,$>>16,h,g+(2*y-1)*v),_(n[r+2*y+0],255&w,w>>16,h,g+(2*y+0)*v)),w=S,k=C}1&f||(e&&($=3*w+k+131074>>2,_(e[t+f-1],255&$,$>>16,p,m+(f-1)*v)),n&&($=3*k+w+131074>>2,_(n[r+f-1],255&$,$>>16,h,g+(f-1)*v)))}function at(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Ce,3)}function ot(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Ee,3)}function st(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Ie,4)}function ct(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Te,4)}function lt(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Ae,4)}function dt(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,xe,2)}function ut(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f){it(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,Me,2)}function pt(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h){var g;for(g=0;p-1>g;g+=2)m(e[t+0],i[a+0],o[s+0],c,l),m(e[t+1],i[a+0],o[s+0],c,l+h),m(n[r+0],i[a+0],o[s+0],d,u),m(n[r+1],i[a+0],o[s+0],d,u+h),t+=2,r+=2,a++,s++,l+=2*h,u+=2*h;g==p-1&&(m(e[t+0],i[a+0],o[s+0],c,l),m(n[r+0],i[a+0],o[s+0],d,u))}function mt(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Ie,4)}function ht(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Te,4)}function gt(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Ae,4)}function ft(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,xe,2)}function _t(e,t,n,r,i,a){for(;0<i--;){for(var o=e,s=t+(n?1:0),c=e,l=t+(n?0:3),d=h,d=0;r>d;++d){var u=c[l+4*d];if(255!=u){var u=32897*u,m=o,g=s+4*d+0;o[s+4*d+0]*u>>>23,m[g]=p,m=o,g=s+4*d+1,o[s+4*d+1]*u>>>23,m[g]=p,m=o,g=s+4*d+2,o[s+4*d+2]*u>>>23,m[g]=p}}t+=a}}function vt(e,n){var r,i=n.j.c.Va,a=i.y,o=i.D+e.w*i.F,s=i.c,c=i.B+(e.w>>1)*i.nb,l=i.S,d=i.C+(e.w>>1)*i.rb,u=e.m,p=e.h,m=parseInt((u+1)/2,10),h=parseInt((p+1)/2,10);for(r=0;p>r;++r)t(a,o+r*i.F,e.y,e.D+r*e.F,u);for(r=0;h>r;++r)t(s,c+r*i.nb,e.c,e.B+r*e.Da,m),t(l,d+r*i.rb,e.S,e.C+r*e.Da,m);return e.h}function yt(e,t){var n,r=t.j,i=r.c.RGBA,a=i.ma,o=i.Sa+e.w*i.f,s=e.y,c=e.D,l=e.c,d=e.B,u=e.S,p=e.C,r=na[r.J],m=e.m,h=e.h-1;for(n=0;h>n;n+=2)r(s,c,s,c+e.F,l,d,u,p,a,o,a,o+i.f,m),c+=2*e.F,d+=e.Da,p+=e.Da,o+=2*i.f;return n==h&&r(s,c,s,c,l,d,u,p,a,o,a,o,m),e.h}function bt(e,n){var r=e.h,i=n.j.c.RGBA,a=i.ma,o=i.Sa+e.w*i.f,s=ta[n.j.J],c=e.y,l=e.D,d=e.c,u=e.B,p=e.S,h=e.C,g=n.Qb,f=n.Rb,_=n.lc,v=n.mc,y=e.w,b=e.w+e.h,w=e.m,k=parseInt((w+1)/2,10);for(0==y?s(m,m,c,l,d,u,p,h,d,u,p,h,m,m,a,o,w):(s(n.Sb,n.Tb,c,l,g,f,_,v,d,u,p,h,a,o-i.f,a,o,w),++r);b>y+2;y+=2)g=d,f=u,_=p,v=h,u+=e.Da,h+=e.Da,o+=2*i.f,l+=2*e.F,s(c,l-e.F,c,l,g,f,_,v,d,u,p,h,a,o-i.f,a,o,w);return l+=e.F,e.k+b<e.K?(t(n.Sb,n.Tb,c,l,1*w),t(n.Qb,n.Rb,d,u,1*k),t(n.lc,n.mc,p,h,1*k),r--):1&b||s(c,l,m,m,d,u,p,h,d,u,p,h,a,o+i.f,m,m,w),r}function wt(e,n){var r=e.p,i=e.q,a=n.j.c.Va,s=e.m,c=e.h,l=a.p,d=a.q+e.w*a.Fa,r=e.p,i=e.q,u=h;if(r!=m)for(u=0;c>u;++u)t(l,d,r,i,1*s),i+=e.width,d+=a.Fa;else if(a.p!=m)for(u=0;c>u;++u)o(l,d,255,s),d+=a.Fa;return 0}function kt(e,t,n){var r=e.w;return n[0]=e.h,e.Bb&&(0==r?--n[0]:(--r,t[0]-=e.width),e.k+e.w+e.h==e.K&&(n[0]=e.K-e.k-r)),r}function $t(e,t){var n=e.p,r=[e.q];if(n!=m){for(var i=e.m,a=t.j.J,o=a==qt||a==Wt,s=t.j.c.RGBA,c=[h],l=kt(e,r,c),r=r[0],d=s.ma,l=s.Sa+l*s.f,u=l+(o?0:3),p=255,g=h,f=h,f=0;f<c[0];++f){for(g=0;i>g;++g){var _=n[r+g];d[u+4*g]=_,p&=_}r+=e.width,u+=s.f}255!=p&&b(a)&&WebPApplyAlphaMultiply(d,l,o,i,c,s.f)}return 0}function St(e,t){var n=e.p,r=[e.q];if(n!=m){var i=e.m,a=t.j.J,o=t.j.c.RGBA,s=[h],c=kt(e,r,s),r=r[0],l=o.ma,c=o.Sa+c*o.f,d=c+1,u=15,p=h;for(j=0;j<s[0];++j){for(p=0;i>p;++p){var g=n[r+p]>>4;l[d+2*p]=240&l[d+2*p]|g,u&=g}r+=e.width,d+=o.f}15!=u&&b(a)&&WebPApplyAlphaMultiply4444(l,c,i,s,o.f)}return 0}function Ct(e){var t=e.ka,n=t.j.J,r=Kt>n,i=n==Rt||n==Ft||n==qt||n==jt||n==Yt||b(n);if(t.memory=m,t.$a=m,t.zb=m,t.ad=m,!Ut(t.Qa,e,i?Kt:Yt))return 0;if(e.I){if(!(r?InitRGBRescaler(e,t):InitYUVRescaler(e,t)))return alert("memory error #1"),
0}else{if(r){if(t.$a=yt,e.Bb){var a,o=e.m+1>>1,s=e.m+2*o,c=[];for(a=0;s>a;++a)c.push(205);if(c.push(0),t.memory=c,t.memory==m)return alert("memory error #2"),0;t.Sb=t.memory,t.Tb=0,t.Qb=t.Sb,t.Rb=t.Tb+e.m,t.lc=t.Qb,t.mc=t.Rb+o,t.$a=bt,ta[Lt]=at,ta[Rt]=st,ta[Bt]=ot,ta[Ft]=ct,ta[qt]=lt,ta[jt]=dt,ta[Ht]=ut}}else t.$a=vt;i&&(b(n)&&(WebPApplyAlphaMultiply=_t,ta[zt]=st,ta[Vt]=ct,ta[Wt]=lt,ta[Gt]=dt),t.zb=n==jt||n==Gt?St:r?$t:wt)}if(r&&!ea){for(e=0;256>e;++e)Ki[e]=89858*(e-128)+Gi>>Ai,Xi[e]=-22014*(e-128)+Gi,Zi[e]=-45773*(e-128),Yi[e]=113618*(e-128)+Gi>>Ai;for(e=xi;Ei>e;++e)t=76283*(e-16)+Gi>>Ai,Ji[e-xi]=ge(t,255),Qi[e-xi]=ge(t+8>>4,15);ea=1}return 1}function Mt(e){var t=e.ka,n=e.m,r=e.h;return u(!(1&e.w)),0>=n||0>=r?0:(n=t.$a(e,t),t.ec+=n,t.zb&&t.zb(e,t),1)}function At(e){e=e.ka,e.memory="",e.memory=m}function xt(e,t){return e[t+0]|e[t+1]<<8|e[t+2]<<16}function Et(e,t){return(xt(e,t)|e[t+3]<<24)>>>0}function Tt(t,n,r,i,a,o,c){var l=0,d=[0],f="VP8StatusCode",v=e(un);if(t==m||r[0]<Bn)return on;v.data=t,v.b=[n[0]],v.e=[r[0]],v.na=[v.na];e:{if(l=v.na,u(t!=m),u(r!=m),u(l!=m),l[0]=0,r[0]>=Bn&&!s(t,n[0],"RIFF",Ln)){if(s(t,n[0]+8,"WEBP",Ln)){f=tn;break e}var b=Et(t,n[0]+Ln);if(Ln+Rn>b){f=tn;break e}l[0]=b,n[0]+=Bn,r[0]-=Bn}else l[0]=0;f=Jt}if(v.na=v.na[0],f!=Jt)return f;l=0<v.na,b=[0];e:if(f=Rn+Fn,u(t!=m),u(r!=m),u(d!=m),d[0]=0,r[0]<Rn)f=on;else{if(!s(t,n[0],"VP8X",Ln)){var w=h,k=h,$=_;if(Et(t,n[0]+Ln)!=Fn){f=tn;break e}if(r[0]<f){f=on;break e}if($=Et(t,n[0]+8),w=1+xt(t,n[0]+12),k=1+xt(t,n[0]+15),w*k>=jn){f=tn;break e}b!=m&&(b[0]=$),i!=m&&(i[0]=w),a!=m&&(a[0]=k),n[0]+=f,r[0]-=f,d[0]=1}f=Jt}if(f!=Jt)return f;if(!l&&d[0])return tn;if(o!=m&&(o[0]=!!(b[0]&qn)),d&&c==m)return Jt;if(Ln>r)return on;if(l&&d[0]||!l&&!d[0]&&!s(t,n[0],"ALPH",Ln)){v.$=[v.$],v.G=[v.G],v.pa=[v.pa];e:{var d=v.na,l=v.$,b=v.G,f=v.pa,w=g,k=0,$=y,S=Ln+Rn+Fn;for(u(t!=m),u(r!=m),w=t,k=n[0],$=r[0],u(l!=m),u(f!=m),l[0]=m,b[0]=m,f[0]=0;;){var C=_,A=_;if(n[0]=k,r[0]=$,Rn>$){f=on;break e}if(C=Et(w,k+Ln),A=Rn+C+1&-2,S+=A,d>0&&S>d){f=tn;break e}if(A>$){f=on;break e}if(s(w,k,"ALPH",Ln)){if(!s(w,k,"VP8 ",Ln)||!s(w,"VP8L",Ln)){f=Jt;break e}}else l[0]=w,b[0]=k+Rn,f[0]=C;k+=A,$-=A}f=p}if(v.$=v.$[0],v.G=v.G[0],v.pa=v.pa[0],f!=Jt)return f}v.ta=[v.ta],v.ia=[v.ia];e:if(d=v.na,l=v.ta,b=v.ia,k=!s(t,n[0],"VP8 ",Ln),f=!s(t,n[0],"VP8L",Ln),w=Ln+Rn,u(t!=m),u(r!=m),u(l!=m),u(b!=m),r[0]<Rn)f=on;else{if(k||f){if(k=Et(t,n[0]+Ln),d>=w&&k>d-w){f=tn;break e}l[0]=k,n[0]+=Rn,r[0]-=Rn,b[0]=f}else b[0]=r>=1&&t[n+0]==_n,l[0]=r[0];f=Jt}if(v.ta=v.ta[0],v.ia=v.ia[0],f!=Jt)return f;if(v.ta>Hn)return tn;if(v.ia){if(r[0]<bn)return on;d=n[0],l=r[0],i=i?i[0]:m,a=a?a[0]:m,b=o?o[0]:m,t==m||bn>l?t=0:(f=[h],w=[h],k=[h],$=e(mn),M($,t,d,l),je($,f,w,k)?(i!=m&&(i[0]=f[0]),a!=m&&(a[0]=w[0]),b!=m&&(b[0]=k[0]),t=1):t=0)}else{if(fn>r)return on;d=n[0],l=r[0],i=i?i[0]:m,a=a?a[0]:m,!(t==m||fn>l)&&l-3>=3&&157==t[d+3+0]&&1==t[d+3+1]&&42==t[d+3+2]?(l=t[d+0]|t[d+1]<<8|t[d+2]<<16,b=16383&(t[d+7]<<8|t[d+6]),t=16383&(t[d+9]<<8|t[d+8]),!(!(1&l)+0)||(l>>1&7)>3||!(l>>4&1)||l>>5>=v.ta?t=0:(i&&(i[0]=b),a&&(a[0]=t),t=1)):t=0}return t?(o!=m&&(o[0]|=v.$!=m),c!=m&&(c[0]=v,c[0].offset=n[0]-c[0].b,u(n[0]-c[0].b<Hn),u(c[0].offset==c[0].e-r[0])),Jt):tn}function It(e){return u(e!=m),Tt(e[0].data,e[0].b,e[0].e,m,m,m,e)}function Dt(t,n,r,i){var a="VP8StatusCode",o=e(ln),s=e(un);if(s.data=t,s.b=n,s.e=r,s.b=[s.b],s.e=[s.e],s=[s],a=It(s),a!=Jt)return a;if(s=s[0],s.b=s.b[0],s.e=s.e[0],u(i!=m),_e(Ot),o.data=s.data,o.b=n+s.offset,o.e=s.e-s.offset,o.put=Mt,o.Mb=Ct,o.Pb=At,o.ka=i,s.ia){if(t=Xe(),t==m)return Qt;nt(t,o)?(a=R(o.width,o.height,i.Qa,i.j),a==Jt&&!rt(t)&&(a=t.a)):a=t.a,t!=m&&Je(t)}else{if(a=e(Mr),a!=m&&(fe(a),a.za=0,a.Hb=1),t=a,t==m)return Qt;t.qb=0,t.Ga=s.$,t.G=s.G,t.ub=s.pa,ye(t,o)?(a=R(o.width,o.height,i.Qa,i.j),a==Jt&&!ke(t,o)&&(a=t.a)):a=t.a,t!=m&&$e(t)}return a!=Jt&&this.Yc(i.j),a}function Pt(t,n,r,i,a){var o={value:0};r={value:r};var s=e(dn),c=e(Xt);s.j=c,c.J=t;var l,d={value:c.width},u={value:c.height};l=r;var p=e(sn);return Nt(n,o,l,p)!=Jt?l=0:(d!=m&&(d.value=p.width),u!=m&&(u.value=p.height),l=1),l?(c.width=d.value,c.height=u.value,i!=m&&(i.value=c.width.value),a!=m&&(a.value=c.height.value),Dt(n,o.value,r.value,s)!=Jt?m:Kt>t?c.c.RGBA.ma:c.c.Va.y):m}function Nt(e,t,n,r){return r==m||e==m?en:(u(r!=m),r.tc=0,r.width=[r.width],r.height=[r.height],r.$b=[r.$b],Tt(e,t,n,r.width,r.height,r.$b,m))}function Ut(e,t,n){var r=t.width,i=t.height,a=0,o=0,s=r,c=i;if(t.Ua=e!=m&&0<e.Ua,t.Ua&&(s=e.wc,c=e.vc,a=e.t,o=e.k,Kt>n||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=c||a+s>r||o+c>i))return 0;if(t.t=a,t.k=o,t.Ka=a+s,t.K=o+c,t.m=s,t.h=c,t.I=e!=m&&0<e.I,t.I){if(0>=e.Ba||0>=e.Aa)return 0;t.Ba=e.Ba,t.Aa=e.Aa}return t.Za=e&&e.Za,t.Bb=e==m||!e.ed,t.I&&(t.Za=t.Ba<3*r/4&&t.Aa<3*i/4,t.Bb=0),1}var Ot=512,Lt=0,Rt=1,Bt=2,Ft=3,qt=4,jt=5,Ht=6,zt=7,Vt=8,Wt=9,Gt=10,Kt=11,Yt=12,Zt=13;this.WEBP_CSP_MODE=this.Cd={nd:0,od:1,kd:2,ld:3,jd:4,pd:5,qd:6,rd:7,sd:8,md:9};var Xt={J:"WEBP_CSP_MODE",width:h,height:h,Fc:h,c:{RGBA:{ma:g,Sa:0,f:h,size:y},Va:{y:g,c:g,S:g,p:g,D:g,B:g,C:g,q:g,F:h,nb:h,rb:h,Fa:h,Wc:y,Rc:y,Uc:y,Wb:y}},Ic:c(4,_),Jb:m,jc:g},Jt=0,Qt=1,en=2,tn=3,nn=4,rn=5,an=6,on=7;this.VP8StatusCode=this.td={xd:0,yd:1,vd:2,ud:3,Ad:4,zd:5,Bd:6,wd:7};var sn={width:{value:h},height:{value:h},$b:{value:h},tc:h,Yd:h,rotate:h,be:h,Ic:c(3,_)};this.WebPGetFeatures=this.Md=function(e,t,n){var r="VP8StatusCode";return Ot>>>8!=Ot>>>8||n==m?e=en:(t=[t],r=Nt(e,[0],t,n),e=r==on?tn:r),e};var cn={Za:h,ed:h,Ua:h,t:h,k:h,wc:h,vc:h,I:h,Ba:h,Aa:h,ae:h,Td:h,Xd:h,Ic:c(6,_)};this.WebPDecoderConfig=this.Kd={input:e(sn),j:e(Xt),options:e(cn)},this.WebPInitDecoderConfig=this.Nd=function(e){return Ot>>>8!=Ot>>>8||e==m?e=0:(e=e.input,u(e!=m),e.tc=0,e=1),e};var ln={width:h,height:h,w:h,m:h,h:h,y:g,c:g,S:g,D:0,B:0,C:0,F:h,Da:h,ka:0,put:0,Mb:0,Pb:0,Bb:h,e:y,data:g,b:0,Za:h,Ua:h,t:h,Ka:h,k:h,K:h,I:h,Ba:h,Aa:h,p:g,q:0},dn={j:e(Xt),Sb:g,Qb:g,lc:g,Tb:0,Rb:0,mc:0,ec:h,Qa:e(cn),memory:0,$a:"(OutputFunc)",zb:"(OutputFunc)",ad:"(OutputRowFunc)"},un={data:g,b:g,e:y,offset:y,$:m,G:g,pa:y,ta:y,na:y,ia:h},pn={qa:g,Ia:m,Pd:g,Ab:h,la:_,Z:_,gc:h},mn={T:v,qa:g,Ia:g,ya:y,Q:y,g:h,L:h,fa:h},hn=25,gn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fn=10,_n=47,vn=14,yn=3,bn=5,wn=11,kn=5,$n=4278190080,Sn=8,Cn=15,Mn=256,An=24,xn=4,En=0,Tn=1,In=2,Dn=3,Pn=1,Nn=0,Un=1,On=1,Ln=4,Rn=8,Bn=12,Fn=10,qn=16,jn=1*Math.pow(2,32),Hn=-1-Rn-1>>>0,zn={kc:h,s:h},Vn={Y:"HuffmanTreeNode*",gb:h,Pa:h},Wn=-1,Gn={ea:_,bb:h},Kn=506832829,Yn=0,Zn=Yn,Xn=2,Jn=3,Qn=1,er=4,tr=5,nr=6,rr=3,ir=4,ar=4,or=4,sr=4,cr=8,lr=3,dr=11,ur=32,pr=17*ur+9*ur,mr=1*ur+8,hr=mr+16*ur+ur,gr=hr+16,fr={fb:g,Jc:g,Nc:g,Ra:_},_r={l:0,v:0,gd:g,hd:g,uc:g,$c:g},vr={pb:h,ob:h,tb:h,Kb:c(ir,0),Cb:c(ir,0)},yr={Ta:c(rr,g),z:d([sr,cr,lr,dr],g)},br={Oc:h,Fb:h,kb:h,oc:h,Lc:c(ar,h),Gc:c(ar,h)},wr={zc:h,yc:h,ab:h},kr={X:h,ua:h,Nb:h},$r=c(2,h),Sr={sc:e($r),sb:e($r),qc:e($r)},Cr={ha:h,d:h,W:h,M:wr,N:ln},Mr={a:"VP8StatusCode",za:h,xc:0,o:e(pn),Ac:e(fr),P:e(_r),ga:e(br),Ca:e(vr),rc:"WebPWorker",qb:h,Ja:h,jb:h,oa:Cr,Ma:h,hb:h,lb:h,mb:h,wb:h,Ya:h,Hb:h,ic:l(8,pn),Zc:_,yb:l(ir,Sr),R:e(yr),pc:h,Pc:g,dc:g,cc:c(4,g),Xc:g,Sc:g,Vc:g,La:e(kr),M:e(wr),Ea:g,z:0,ca:g,aa:g,ra:g,da:h,ba:h,sa:h,H:h,r:h,ib:0,Gb:y,i:h,d:h,wa:g,Eb:c(16,g),Vd:0,Tc:g,Lb:g,ja:_,Oa:_,A:h,W:h,Zb:c(ir,g),Ga:m,G:0,ub:y,Xb:g,Od:0,cd:h,dd:g,Wd:0,fc:y},Ar=0,xr=1,Er=2,Tr={Qc:"VP8LImageTransformType",n:h,U:h,Vb:h,u:_,b:_},Ir={va:l(kn,Vn)},Dr={xb:h,Yb:e(Gn),Dc:h,eb:h,Ec:h,ac:_,bd:_,hc:h,Db:"HTreeGroup"},Pr={a:"VP8StatusCode",Wa:"VP8LDecodeState",Ob:"VP8LDecodeState",N:"VP8Io",Ib:"WebPDecBuffer",Hc:"WebPDecBuffer",V:_,Ha:_,Xa:_,vb:_,o:e(mn),l:h,v:h,O:h,xa:h,cb:e(Dr),Na:h,nc:l(xn,Tr),Ub:_,Mc:g,$d:g,Zd:"*WebPRescaler"},Nr=4,Ur=[m,function(e,n,r,i,a,o,s,c){var l=h,d=c;for(u(e!=m),u(s!=m),u(r>0),u(i>0),u(a>0),u(o>=r*a),l=0;i>l;++l)0==l?t(s,c,e,n,a):U(e,n,s,d-o,s,c,a),U(e,n+a,s,d,s,c+a,a*(r-1)),d+=o,n+=o,c+=o},function(e,n,r,i,a,o,s,c){var l=h,d=c;for(u(e!=m),u(s!=m),u(r>0),u(i>0),u(a>0),u(o>=r*a),t(s,c,e,n,a),U(e,n+a,s,d,s,c+a,a*(r-1)),l=1;i>l;++l)n+=o,c+=o,U(e,n,s,d,s,c,a*r),d+=o},function(e,n,r,i,a,o,s,c){var l=c,d=h;for(u(e!=m),u(s!=m),u(r>0),u(i>0),u(a>0),u(o>=r*a),t(s,c,e,n,a),U(e,n+a,s,l,s,c+a,a*(r-1)),d=1;i>d;++d){var p=h,l=l+o;for(n+=o,c+=o,U(e,n,s,l-o,s,c,a),p=a;r*a>p;++p){var g=s[l+p-a]+s[l+p-o]-s[l+p-o-a];s[c+p]=e[n+p]+(0>g?0:g>255?255:g)&255}}}],Or=[3,4,3,4,4,2,2,4,4,4,2,1,1];this.WebPFreeDecBuffer=this.Yc=function(e){e!=m&&(e.Fc||(e.Jb=""),e.jc=0,e.Jb=e.jc=m)};var Lr,Rr,Br,Fr,qr,jr,Hr,zr,Vr,Wr,Gr,Kr,Yr,Zr,Xr,Jr,Qr=c(511,g),ei=c(511,g),ti=c(2041,0),ni=c(225,0),ri=c(766,g),ii=0,ai=85627,oi=35468,si=[function(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-ur]+e[t-1+n*ur];for(r>>=3,n=0;4>n;++n)o(e,t+n*ur,r,4)},function(e,t){W(e,t,4)},function(e,n){var r=n-ur,i=[];for(i.push(K(e[r-1],e[r+0],e[r+1])),i.push(K(e[r+0],e[r+1],e[r+2])),i.push(K(e[r+1],e[r+2],e[r+3])),i.push(K(e[r+2],e[r+3],e[r+4])),r=0;4>r;++r)t(e,n+r*ur,i,0,4)},function(e,t){var n=e[t-1],r=e[t-1+ur],i=e[t-1+2*ur],a=e[t-1+3*ur];e[t+0+0*ur]=e[t+1+0*ur]=e[t+2+0*ur]=e[t+3+0*ur]=K(e[t-1-ur],n,r),e[t+0+1*ur]=e[t+1+1*ur]=e[t+2+1*ur]=e[t+3+1*ur]=K(n,r,i),e[t+0+2*ur]=e[t+1+2*ur]=e[t+2+2*ur]=e[t+3+2*ur]=K(r,i,a),e[t+0+3*ur]=e[t+1+3*ur]=e[t+2+3*ur]=e[t+3+3*ur]=K(i,a,a)},function(e,t){var n=e[t-1+0*ur],r=e[t-1+1*ur],i=e[t-1+2*ur],a=e[t-1-ur],o=e[t+0-ur],s=e[t+1-ur],c=e[t+2-ur],l=e[t+3-ur];e[t+0+3*ur]=K(r,i,e[t-1+3*ur]),e[t+0+2*ur]=e[t+1+3*ur]=K(n,r,i),e[t+0+1*ur]=e[t+1+2*ur]=e[t+2+3*ur]=K(a,n,r),e[t+0+0*ur]=e[t+1+1*ur]=e[t+2+2*ur]=e[t+3+3*ur]=K(o,a,n),e[t+1+0*ur]=e[t+2+1*ur]=e[t+3+2*ur]=K(s,o,a),e[t+2+0*ur]=e[t+3+1*ur]=K(c,s,o),e[t+3+0*ur]=K(l,c,s)},function(e,t){var n=e[t-1+0*ur],r=e[t-1+1*ur],i=e[t-1+2*ur],a=e[t-1-ur],o=e[t+0-ur],s=e[t+1-ur],c=e[t+2-ur],l=e[t+3-ur];e[t+0+0*ur]=e[t+1+2*ur]=a+o+1>>1,e[t+1+0*ur]=e[t+2+2*ur]=o+s+1>>1,e[t+2+0*ur]=e[t+3+2*ur]=s+c+1>>1,e[t+3+0*ur]=c+l+1>>1,e[t+0+3*ur]=K(i,r,n),e[t+0+2*ur]=K(r,n,a),e[t+0+1*ur]=e[t+1+3*ur]=K(n,a,o),e[t+1+1*ur]=e[t+2+3*ur]=K(a,o,s),e[t+2+1*ur]=e[t+3+3*ur]=K(o,s,c),e[t+3+1*ur]=K(s,c,l)},function(e,t){var n=e[t+1-ur],r=e[t+2-ur],i=e[t+3-ur],a=e[t+4-ur],o=e[t+5-ur],s=e[t+6-ur],c=e[t+7-ur];e[t+0+0*ur]=K(e[t+0-ur],n,r),e[t+1+0*ur]=e[t+0+1*ur]=K(n,r,i),e[t+2+0*ur]=e[t+1+1*ur]=e[t+0+2*ur]=K(r,i,a),e[t+3+0*ur]=e[t+2+1*ur]=e[t+1+2*ur]=e[t+0+3*ur]=K(i,a,o),e[t+3+1*ur]=e[t+2+2*ur]=e[t+1+3*ur]=K(a,o,s),e[t+3+2*ur]=e[t+2+3*ur]=K(o,s,c),e[t+3+3*ur]=K(s,c,c)},function(e,t){var n=e[t+0-ur],r=e[t+1-ur],i=e[t+2-ur],a=e[t+3-ur],o=e[t+4-ur],s=e[t+5-ur],c=e[t+6-ur],l=e[t+7-ur];e[t+0+0*ur]=n+r+1>>1,e[t+1+0*ur]=e[t+0+2*ur]=r+i+1>>1,e[t+2+0*ur]=e[t+1+2*ur]=i+a+1>>1,e[t+3+0*ur]=e[t+2+2*ur]=a+o+1>>1,e[t+0+1*ur]=K(n,r,i),e[t+1+1*ur]=e[t+0+3*ur]=K(r,i,a),e[t+2+1*ur]=e[t+1+3*ur]=K(i,a,o),e[t+3+1*ur]=e[t+2+3*ur]=K(a,o,s),e[t+3+2*ur]=K(o,s,c),e[t+3+3*ur]=K(s,c,l)},function(e,t){var n=e[t-1+0*ur],r=e[t-1+1*ur],i=e[t-1+2*ur],a=e[t-1+3*ur],o=e[t-1-ur],s=e[t+0-ur],c=e[t+1-ur],l=e[t+2-ur];e[t+0+0*ur]=e[t+2+1*ur]=n+o+1>>1,e[t+0+1*ur]=e[t+2+2*ur]=r+n+1>>1,e[t+0+2*ur]=e[t+2+3*ur]=i+r+1>>1,e[t+0+3*ur]=a+i+1>>1,e[t+3+0*ur]=K(s,c,l),e[t+2+0*ur]=K(o,s,c),e[t+1+0*ur]=e[t+3+1*ur]=K(n,o,s),e[t+1+1*ur]=e[t+3+2*ur]=K(r,n,o),e[t+1+2*ur]=e[t+3+3*ur]=K(i,r,n),e[t+1+3*ur]=K(a,i,r)},function(e,t){var n=e[t-1+0*ur],r=e[t-1+1*ur],i=e[t-1+2*ur],a=e[t-1+3*ur];e[t+0+0*ur]=n+r+1>>1,e[t+2+0*ur]=e[t+0+1*ur]=r+i+1>>1,e[t+2+1*ur]=e[t+0+2*ur]=i+a+1>>1,e[t+1+0*ur]=K(n,r,i),e[t+3+0*ur]=e[t+1+1*ur]=K(r,i,a),e[t+3+1*ur]=e[t+1+2*ur]=K(i,a,a),e[t+3+2*ur]=e[t+2+2*ur]=e[t+0+3*ur]=e[t+1+3*ur]=e[t+2+3*ur]=e[t+3+3*ur]=a}],ci=[function(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+n*ur]+e[t+n-ur];G(r>>5,e,t)},function(e,t){W(e,t,16)},function(e,n){var r;for(r=0;16>r;++r)t(e,n+r*ur,e,n-ur,16)},function(e,t){var n;for(n=16;n>0;--n)o(e,t+0,e[t-1],16),t+=ur},function(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+n*ur];G(r>>4,e,t)},function(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-ur];G(r>>4,e,t)},function(e,t){G(128,e,t)}],li=[function(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-ur]+e[t-1+n*ur];Y(1*(r>>4),e,t)},function(e,t){W(e,t,8)},function(e,n){var r;for(r=0;8>r;++r)t(e,n+r*ur,e,n-ur,8)},function(e,t){var n;for(n=0;8>n;++n)o(e,t+0,e[t-1],8),t+=ur},function(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+n*ur];Y(1*(r>>3),e,t)},function(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-ur];Y(1*(r>>3),e,t)},function(e,t){Y(128,e,t)}],di=31,ui=[0,2,8],pi=3,mi=1,hi=[0+0*ur,4+0*ur,8+0*ur,12+0*ur,0+4*ur,4+4*ur,8+4*ur,12+4*ur,0+8*ur,4+8*ur,8+8*ur,12+8*ur,0+12*ur,4+12*ur,8+12*ur,12+12*ur],gi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_i=[-Yn,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]];this.WebPGetDecoderVersion=this.Ld=function(){return 512};var wi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ki=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$i=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Si=d([lr,dr],"");c(4,g);var Ci=[[0,0,0,0],[1,0,0,0],[0,1,0,0],[1,1,0,0],[0,0,1,0],[1,0,1,0],[0,1,1,0],[1,1,1,0],[0,0,0,1],[1,0,0,1],[0,1,0,1],[1,1,0,1],[0,0,1,1],[1,0,1,1],[0,1,1,1],[1,1,1,1]],Mi=134480385,Ai=16,xi=-227,Ei=482,Ti=[Oe,function(e){return e},function(e,t,n){return t[n+0]},function(e,t,n){return t[n+1]},function(e,t,n){return t[n-1]},function(e,t,n){return Pe(Pe(e,t[n+1]),t[n+0])},function(e,t,n){return Pe(e,t[n-1])},function(e,t,n){return Pe(e,t[n+0])},function(e,t,n){return Pe(t[n-1],t[n+0])},function(e,t,n){return Pe(t[n+0],t[n+1])},function(e,t,n){return Pe(Pe(e,t[n-1]),Pe(t[n+0],t[n+1]))},function(e,t,n){return 0>=Math.abs((e>>24&255)-(t[n-1]>>24&255))-Math.abs((t[n+0]>>24&255)-(t[n-1]>>24&255))+(Math.abs((e>>16&255)-(t[n-1]>>16&255))-Math.abs((t[n+0]>>16&255)-(t[n-1]>>16&255)))+(Math.abs((e>>8&255)-(t[n-1]>>8&255))-Math.abs((t[n+0]>>8&255)-(t[n-1]>>8&255)))+(Math.abs((255&e)-(255&t[n-1]))-Math.abs((255&t[n+0])-(255&t[n-1])))?t[n+0]:e},function(e,t,n){return(Ne((e>>24&255)+(t[n+0]>>24&255)-(t[n-1]>>24&255))<<24|Ne((e>>16&255)+(t[n+0]>>16&255)-(t[n-1]>>16&255))<<16|Ne((e>>8&255)+(t[n+0]>>8&255)-(t[n-1]>>8&255))<<8|Ne((255&e)+(255&t[n+0])-(255&t[n-1])))>>>0},function(e,t,n){var r=t[n-1];return e=Pe(e,t[n+0]),(Ue(e>>24&255,r>>24&255)<<24|Ue(e>>16&255,r>>16&255)<<16|Ue(e>>8&255,r>>8&255)<<8|Ue(e>>0&255,r>>0&255))>>>0},Oe,Oe],Ii={Cc:g,Bc:g,Kc:g},Di=16,Pi=16,Ni=16,Ui=[2,3,7],Oi=[3,3,11],Li=0,Ri=1,Bi=2,Fi=3,qi=4,ji=[Mn+An,Mn,Mn,Mn,40],Hi=19,zi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vi=120,Wi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gi=1<<Ai-1,Ki=c(256,0),Yi=c(256,0),Zi=c(256,f),Xi=c(256,f),Ji=c(Ei-xi,g),Qi=c(Ei-xi,g),ea=0,ta=Array(Zt),na=[function(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Ce,3)},mt,function(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Ee,3)},ht,gt,ft,function(e,t,n,r,i,a,o,s,c,l,d,u,p){pt(e,t,n,r,i,a,o,s,c,l,d,u,p,Me,2)},mt,ht,gt,ft];this.Hd=function(e,t,n,r){return Pt(Lt,e,t,n,r)},this.Id=function(e,t,n,r){return Pt(Rt,e,t,n,r)},this.Jd=function(e,t,n,r){return Pt(jt,e,t,n,r)},this.Ed=function(e,t,n,r){return Pt(qt,e,t,n,r)},this.Fd=function(e,t,n,r){return Pt(Bt,e,t,n,r)},this.Gd=function(e,t,n,r){return Pt(Ft,e,t,n,r)},this.WebPDecode=this.Dd=function(t,n,r){var i=e(dn),a="VP8StatusCode";return r==m?en:(a=Nt(t,[0],[n],r.input),a!=Jt?a==on?tn:a:(i.j=r.j,i.Qa=r.Qa,a=Dt(t,0,[n],i)))}}}();var _logTimer=(new Date).getTime();!function(e){function t(){return{shortIndexes:{},fullTexts:{}}}function n(e){return e=e.replace(a," ").replace(o,""),e=e.replace(/[^A-Za-z0-9]/g,function(e){return Config.LatinizeMap[e]||e}),e=e.toLowerCase()}function r(e,t,r){if(void 0!==r.fullTexts[e])return!1;if(t=n(t),!t.length)return!1;var i=r.shortIndexes;r.fullTexts[e]=t,angular.forEach(t.split(" "),function(t){var n,r,a=Math.min(t.length,3);for(r=1;a>=r;r++)n=t.substr(0,r),void 0===i[n]?i[n]=[e]:i[n].push(e)})}function i(e,t){var r=t.shortIndexes,i=t.fullTexts;e=n(e);var a,o,s,c,l,d=e.split(" "),u=!1;for(o=0;o<d.length;o++){if(a=r[d[o].substr(0,3)],!a){u=[];break}(u===!1||u.length>a.length)&&(u=a)}for(a={},s=0;s<u.length;s++){for(l=!0,c=i[u[s]],o=0;o<d.length;o++)if(-1==c.indexOf(d[o])){l=!1;break}l&&(a[u[s]]=!0)}return a}var a=/[`~!@#$%^&*()\-_=+\[\]\\|{}'";:\/?.>,<\s]+/g,o=/^\s+|\s$/g;e.SearchIndexManager={createIndex:t,indexObject:r,cleanSearchText:n,search:i}}(window),function(e){function t(e){var t=(tsNow(),new WebPDecoder),n=t.WebPDecoderConfig,r=n.j,o=n.input;if(!t.WebPInitDecoderConfig(n))return console.error("[webpjs] Library version mismatch!"),!1;status=t.WebPGetFeatures(e,e.length,o),0!=status&&console.error("[webpjs] status error",status);t.WEBP_CSP_MODE;r.J=4;try{status=t.WebPDecode(e,e.length,n)}catch(s){status=s}if(ok=0==status,!ok)return console.error("[webpjs] decoding failed",status),!1;var c=r.c.RGBA.ma;if(!c)return!1;var l=r.height,d=r.width;i&&a?a.clearRect(0,0,i.width,i.height):(i=document.createElement("canvas"),a=i.getContext("2d")),i.height=l,i.width=d;for(var u=a.createImageData(i.width,i.height),p=u.data,m=0;l>m;m++)for(var h=0;d>h;h++)p[0+4*h+4*d*m]=c[1+4*h+4*d*m],p[1+4*h+4*d*m]=c[2+4*h+4*d*m],p[2+4*h+4*d*m]=c[3+4*h+4*d*m],p[3+4*h+4*d*m]=c[0+4*h+4*d*m];return a.putImageData(u,0,0),i.toDataURL("image/png")}var n=!1,r=new Image;r.onload=function(){n=2===this.width&&1===this.height},r.onerror=function(){n=!1},r.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA==";var i,a;e.WebpManager={isWebpSupported:function(){return n},getPngUrlFromData:t}}(window),TLSerialization.prototype.createBuffer=function(){this.buffer=new ArrayBuffer(this.maxLength),this.intView=new Int32Array(this.buffer),this.byteView=new Uint8Array(this.buffer)},TLSerialization.prototype.getArray=function(){var e=new ArrayBuffer(this.offset),t=new Int32Array(e);return t.set(this.intView.subarray(0,this.offset/4)),t},TLSerialization.prototype.getBuffer=function(){return this.getArray().buffer},TLSerialization.prototype.getBytes=function(e){if(e){var t=new ArrayBuffer(this.offset),n=new Uint8Array(t);return n.set(this.byteView.subarray(0,this.offset)),n}for(var r=[],i=0;i<this.offset;i++)r.push(this.byteView[i]);return r},TLSerialization.prototype.checkLength=function(e){if(!(this.offset+e<this.maxLength)){console.trace("Increase buffer",this.offset,e,this.maxLength),this.maxLength=4*Math.ceil(Math.max(2*this.maxLength,this.offset+e+16)/4);var t=this.buffer,n=new Int32Array(t);this.createBuffer(),new Int32Array(this.buffer).set(n)}},TLSerialization.prototype.writeInt=function(e,t){this.debug&&console.log(">>>",e.toString(16),e,t),this.checkLength(4),this.intView[this.offset/4]=e,this.offset+=4},TLSerialization.prototype.storeInt=function(e,t){this.writeInt(e,(t||"")+":int")},TLSerialization.prototype.storeBool=function(e,t){e?this.writeInt(2574415285,(t||"")+":bool"):this.writeInt(3162085175,(t||"")+":bool")},TLSerialization.prototype.storeLongP=function(e,t,n){this.writeInt(t,(n||"")+":long[low]"),
this.writeInt(e,(n||"")+":long[high]")},TLSerialization.prototype.storeLong=function(e,t){if(angular.isArray(e))return 2==e.length?this.storeLongP(e[0],e[1],t):this.storeIntBytes(e,64,t);var n=bigStringInt(e).divideAndRemainder(bigint(4294967296));this.writeInt(intToUint(n[1].intValue()),(t||"")+":long[low]"),this.writeInt(intToUint(n[0].intValue()),(t||"")+":long[high]")},TLSerialization.prototype.storeDouble=function(e){var t=new ArrayBuffer(8),n=new Int32Array(t),r=new Float64Array(t);r[0]=e,this.writeInt(n[0],(field||"")+":double[low]"),this.writeInt(n[1],(field||"")+":double[high]")},TLSerialization.prototype.storeString=function(e,t){this.debug&&console.log(">>>",e,(t||"")+":string"),void 0===e&&(e="");var n=unescape(encodeURIComponent(e));this.checkLength(n.length+8);var r=n.length;253>=r?this.byteView[this.offset++]=r:(this.byteView[this.offset++]=254,this.byteView[this.offset++]=255&r,this.byteView[this.offset++]=(65280&r)>>8,this.byteView[this.offset++]=(16711680&r)>>16);for(var i=0;r>i;i++)this.byteView[this.offset++]=n.charCodeAt(i);for(;this.offset%4;)this.byteView[this.offset++]=0},TLSerialization.prototype.storeBytes=function(e,t){e instanceof ArrayBuffer?e=new Uint8Array(e):void 0===e&&(e=[]),this.debug&&console.log(">>>",bytesToHex(e),(t||"")+":bytes");var n=e.byteLength||e.length;for(this.checkLength(n+8),253>=n?this.byteView[this.offset++]=n:(this.byteView[this.offset++]=254,this.byteView[this.offset++]=255&n,this.byteView[this.offset++]=(65280&n)>>8,this.byteView[this.offset++]=(16711680&n)>>16),this.byteView.set(e,this.offset),this.offset+=n;this.offset%4;)this.byteView[this.offset++]=0},TLSerialization.prototype.storeIntBytes=function(e,t,n){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var r=e.length;if(t%32||8*r!=t)throw new Error("Invalid bits: "+t+", "+e.length);this.debug&&console.log(">>>",bytesToHex(e),(n||"")+":int"+t),this.checkLength(r),this.byteView.set(e,this.offset),this.offset+=r},TLSerialization.prototype.storeRawBytes=function(e,t){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n=e.length;this.debug&&console.log(">>>",bytesToHex(e),t||""),this.checkLength(n),this.byteView.set(e,this.offset),this.offset+=n},TLSerialization.prototype.storeMethod=function(e,t){var n,r=this.mtproto?Config.Schema.MTProto:Config.Schema.API,i=!1;for(n=0;n<r.methods.length;n++)if(r.methods[n].method==e){i=r.methods[n];break}if(!i)throw new Error("No method "+e+" found");this.storeInt(intToUint(i.id),e+"[id]");var a,o,n,s,c,l=i.params.length;for(n=0;l>n;n++){if(a=i.params[n],o=a.type,-1!==o.indexOf("?")){if(s=o.split("?"),c=s[0].split("."),!(t[c[0]]&1<<c[1]))continue;o=s[1]}this.storeObject(t[a.name],o,e+"["+a.name+"]")}return i.type},TLSerialization.prototype.storeObject=function(e,t,n){switch(t){case"#":case"int":return this.storeInt(e,n);case"long":return this.storeLong(e,n);case"int128":return this.storeIntBytes(e,128,n);case"int256":return this.storeIntBytes(e,256,n);case"int512":return this.storeIntBytes(e,512,n);case"string":return this.storeString(e,n);case"bytes":return this.storeBytes(e,n);case"double":return this.storeDouble(e,n);case"Bool":return this.storeBool(e,n)}if(angular.isArray(e)){if("Vector"==t.substr(0,6))this.writeInt(481674261,n+"[id]");else if("vector"!=t.substr(0,6))throw new Error("Invalid vector type "+t);var r=t.substr(7,t.length-8);this.writeInt(e.length,n+"[count]");for(var i=0;i<e.length;i++)this.storeObject(e[i],r,n+"["+i+"]");return!0}if("vector"==t.substr(0,6).toLowerCase())throw new Error("Invalid vector object");if(!angular.isObject(e))throw new Error("Invalid object for type "+t);var i,a=this.mtproto?Config.Schema.MTProto:Config.Schema.API,o=e._,s=!1,c=!1;for((s="%"==t.charAt(0))&&(t=t.substr(1)),i=0;i<a.constructors.length;i++)if(a.constructors[i].predicate==o){c=a.constructors[i];break}if(!c)throw new Error("No predicate "+o+" found");o==t&&(s=!0),s||this.writeInt(intToUint(c.id),n+"["+o+"][id]");var l,t,i,d,u,p=c.params.length;for(i=0;p>i;i++){if(l=c.params[i],t=l.type,-1!==t.indexOf("?")){if(d=t.split("?"),u=d[0].split("."),!(e[u[0]]&1<<u[1]))continue;t=d[1]}this.storeObject(e[l.name],t,n+"["+o+"]["+l.name+"]")}return c.type},TLDeserialization.prototype.readInt=function(e){if(this.offset>=4*this.intView.length)throw new Error("Nothing to fetch: "+e);var t=this.intView[this.offset/4];return this.debug&&console.log("<<<",t.toString(16),t,e),this.offset+=4,t},TLDeserialization.prototype.fetchInt=function(e){return this.readInt((e||"")+":int")},TLDeserialization.prototype.fetchDouble=function(e){var t=new ArrayBuffer(8),n=new Int32Array(t),r=new Float64Array(t);return n[0]=this.readInt((e||"")+":double[low]"),n[1]=this.readInt((e||"")+":double[high]"),r[0]},TLDeserialization.prototype.fetchLong=function(e){var t=this.readInt((e||"")+":long[low]"),n=this.readInt((e||"")+":long[high]"),r=bigint(n).shiftLeft(32).add(bigint(t)).toString();return r},TLDeserialization.prototype.fetchBool=function(e){var t=this.readInt((e||"")+":bool");return 2574415285==t?!0:3162085175==t?!1:(this.offset-=4,this.fetchObject("Object",e))},TLDeserialization.prototype.fetchString=function(e){var t=this.byteView[this.offset++];if(254==t)var t=this.byteView[this.offset++]|this.byteView[this.offset++]<<8|this.byteView[this.offset++]<<16;for(var n="",r=0;t>r;r++)n+=String.fromCharCode(this.byteView[this.offset++]);for(;this.offset%4;)this.offset++;try{var i=decodeURIComponent(escape(n))}catch(a){var i=n}return this.debug&&console.log("<<<",i,(e||"")+":string"),i},TLDeserialization.prototype.fetchBytes=function(e){var t=this.byteView[this.offset++];if(254==t)var t=this.byteView[this.offset++]|this.byteView[this.offset++]<<8|this.byteView[this.offset++]<<16;var n=this.byteView.subarray(this.offset,this.offset+t);for(this.offset+=t;this.offset%4;)this.offset++;return this.debug&&console.log("<<<",bytesToHex(n),(e||"")+":bytes"),n},TLDeserialization.prototype.fetchIntBytes=function(e,t,n){if(e%32)throw new Error("Invalid bits: "+e);var r=e/8;if(t){var i=this.byteView.subarray(this.offset,this.offset+r);return this.offset+=r,i}for(var a=[],o=0;r>o;o++)a.push(this.byteView[this.offset++]);return this.debug&&console.log("<<<",bytesToHex(a),(n||"")+":int"+e),a},TLDeserialization.prototype.fetchRawBytes=function(e,t,n){if(e===!1&&(e=this.readInt((n||"")+"_length")),t){var r=new Uint8Array(e);return r.set(this.byteView.subarray(this.offset,this.offset+e)),this.offset+=e,r}for(var r=[],i=0;e>i;i++)r.push(this.byteView[this.offset++]);return this.debug&&console.log("<<<",bytesToHex(r),n||""),r},TLDeserialization.prototype.fetchObject=function(e,t){switch(e){case"#":case"int":return this.fetchInt(t);case"long":return this.fetchLong(t);case"int128":return this.fetchIntBytes(128,!1,t);case"int256":return this.fetchIntBytes(256,!1,t);case"int512":return this.fetchIntBytes(512,!1,t);case"string":return this.fetchString(t);case"bytes":return this.fetchBytes(t);case"double":return this.fetchDouble(t);case"Bool":return this.fetchBool(t)}if(t=t||e||"Object","Vector"==e.substr(0,6)||"vector"==e.substr(0,6)){if("V"==e.charAt(0)){var n=this.readInt(t+"[id]");if(481674261!=n)throw new Error("Invalid vector constructor "+n)}var r=this.readInt(t+"[count]"),i=[];if(r>0)for(var a=e.substr(7,e.length-8),o=0;r>o;o++)i.push(this.fetchObject(a,t+"["+o+"]"));return i}var s=this.mtproto?Config.Schema.MTProto:Config.Schema.API,c=!1,l=!1;if("%"==e.charAt(0)){for(var d=e.substr(1),o=0;o<s.constructors.length;o++)if(s.constructors[o].type==d){l=s.constructors[o];break}if(!l)throw new Error("Constructor not found for type: "+e)}else if(e.charAt(0)>=97&&e.charAt(0)<=122){for(var o=0;o<s.constructors.length;o++)if(s.constructors[o].predicate==e){l=s.constructors[o];break}if(!l)throw new Error("Constructor not found for predicate: "+e)}else{var n=this.readInt(t+"[id]"),u=uintToInt(n);if(812830625==u){var p=this.fetchBytes(t+"[packed_string]"),m=gzipUncompress(p),h=bytesToArrayBuffer(m),g=new TLDeserialization(h);return g.fetchObject(e,t)}var f=s.constructorsIndex;if(!f){s.constructorsIndex=f={};for(var o=0;o<s.constructors.length;o++)f[s.constructors[o].id]=o}var o=f[u];o&&(l=s.constructors[o]);var _=!1;if(!l&&this.mtproto){var v=Config.Schema.API;for(o=0;o<v.constructors.length;o++)if(v.constructors[o].id==u){l=v.constructors[o],delete this.mtproto,_=!0;break}}if(!l)throw new Error("Constructor not found: "+n)}c=l.predicate;var i={_:c},y=(this.mtproto?"mt_":"")+c,b=this;if(this.override[y])this.override[y].apply(this,[i,t+"["+c+"]"]);else{var o,w,e,k,$,r=l.params.length;for(o=0;r>o;o++){if(w=l.params[o],e=w.type,-1!==e.indexOf("?")){if(k=e.split("?"),$=k[0].split("."),!(i[$[0]]&1<<$[1]))continue;e=k[1]}i[w.name]=b.fetchObject(e,t+"["+c+"]["+w.name+"]")}}return _&&(this.mtproto=!0),i},TLDeserialization.prototype.getOffset=function(){return this.offset},TLDeserialization.prototype.fetchEnd=function(){if(this.offset!=this.byteView.length)throw new Error("Fetch end with non-empty buffer");return!0},angular.module("izhukov.utils",[]).provider("Storage",function(){this.setPrefix=function(e){ConfigStorage.prefix(e)},this.$get=["$q",function(e){var t={};return angular.forEach(["get","set","remove"],function(n){t[n]=function(){var t=e.defer(),r=Array.prototype.slice.call(arguments);return r.push(function(e){t.resolve(e)}),ConfigStorage[n].apply(ConfigStorage,r),t.promise}}),t}]}).service("qSync",function(){return{when:function(e){return{then:function(t){return t(e)}}},reject:function(e){return{then:function(t,n){return n(e)}}}}}).service("FileManager",["$window","$q","$timeout","qSync",function(e,t,n,r){function i(){return f}function a(e,n){return c(n).then(function(n){return o(n,e).then(function(){return n},function(e){return t.reject(e)})})}function o(e,n){var r=t.defer();if(e.onwriteend=function(e){r.resolve()},e.onerror=function(e){r.reject(e)},n.file)n.file(function(t){e.write(t)},function(e){r.reject(e)});else if(n instanceof Blob)e.write(n);else try{var i=blobConstruct([bytesToArrayBuffer(n)]);e.write(i)}catch(a){r.reject(a)}return r.promise}function s(n,i,a){if(!e.chrome||!chrome.fileSystem||!chrome.fileSystem.chooseEntry)return r.reject();var o=t.defer();return chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:n,accepts:[{mimeTypes:[a],extensions:[i]}]},function(e){o.resolve(e)}),o.promise}function c(e){var n=t.defer();return e.createWriter(function(e){n.resolve(e)},function(e){n.reject(e)}),n.promise}function l(e,t){var n=[],r={write:function(e){return f?(n.push(e),void setZeroTimeout(function(){r.onwriteend&&r.onwriteend()})):(r.onerror&&r.onerror(new Error("Blob not supported by browser")),!1)},truncate:function(){n=[]},finalize:function(){var r=blobConstruct(n,e);return t&&t(r),r}};return r}function d(e,t){return void 0!==e.toURL?e.toURL(t):e instanceof Blob?URL.createObjectURL(e):"data:"+t+";base64,"+bytesToBase64(e)}function u(e){if(e instanceof Blob){var n=t.defer();try{var r=new FileReader;return r.onloadend=function(e){n.resolve(new Uint8Array(e.target.result))},r.onerror=function(e){n.reject(e)},r.readAsArrayBuffer(e),n.promise}catch(i){return t.reject(i)}}return t.when(e)}function p(e){var n;try{var r=new FileReader;r.onloadend=function(){n.resolve(r.result)},r.readAsDataURL(e)}catch(i){return t.reject(i)}return n=t.defer(),n.promise}function m(e,t){if(g&&e instanceof Blob){var t=e.type||e.mimeType||t||"";if(!t.match(/image\/(jpeg|gif|png|bmp)|video\/quicktime/))return p(e)}return r.when(d(e,t))}function h(e,t,r){if(window.navigator&&void 0!==navigator.msSaveBlob)return window.navigator.msSaveBlob(e,r),!1;if(window.navigator&&navigator.getDeviceStorage){var i="sdcard";switch(t.split("/")[0]){case"video":i="videos";break;case"audio":i="music";break;case"image":i="pictures"}var a=navigator.getDeviceStorage(i),o=a.addNamed(e,r);return o.onsuccess=function(){console.log("Device storage save result",this.result)},void(o.onerror=function(){})}var s=!1;window.safari&&(s=window.open()),m(e,t).then(function(e){if(s)try{return void(s.location.href=e)}catch(t){}var i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=e,i.target="_blank",i.download=r,i.dataset&&(i.dataset.downloadurl=["video/quicktime",r,e].join(":")),$(i).css({position:"absolute",top:1,left:1}).appendTo("body");try{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}catch(t){console.error("Download click error",t);try{i[0].click()}catch(t){window.open(e,"_blank")}}n(function(){$(i).remove()},100)})}e.URL=e.URL||e.webkitURL,e.BlobBuilder=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder;var g=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),f=!0;try{blobConstruct([],"")}catch(_){f=!1}return{isAvailable:i,copy:a,write:o,getFileWriter:c,getFakeFileWriter:l,chooseSave:s,getUrl:d,getDataUrl:p,getByteArray:u,getFileCorrectUrl:m,download:h}}]).service("IdbFileStorage",["$q","$window","FileManager",function(e,t,n){function r(){return m}function i(){if(l)return l;try{var t=indexedDB.open(d,p),n=e.defer(),r=function(e){e.createObjectStore(u)};if(!t)throw new Exception}catch(i){return m=!1,e.reject(i)}return t.onsuccess=function(e){db=t.result,db.onerror=function(e){m=!1,console.error("Error creating/accessing IndexedDB database",e),n.reject(e)},db.setVersion&&db.version!=p?db.setVersion(p).onsuccess=function(){r(db),n.resolve(db)}:n.resolve(db)},t.onerror=function(e){m=!1,console.error("Error creating/accessing IndexedDB database",e),n.reject(e)},t.onupgradeneeded=function(e){r(e.target.result)},l=n.promise}function a(t,n){return i().then(function(r){if(!h)return o(r,t,n);try{var i=r.transaction([u],IDBTransaction.READ_WRITE||"readwrite").objectStore(u),a=i.put(n,t)}catch(s){return h?(h=!1,o(r,t,n)):(m=!1,e.reject(s))}var c=e.defer();return a.onsuccess=function(e){c.resolve(n)},a.onerror=function(e){c.reject(e)},c.promise})}function o(t,n,r){try{var i=new FileReader;i.readAsDataURL(r)}catch(a){return m=!1,e.reject()}var o=e.defer();return i.onloadend=function(){try{var e=t.transaction([u],IDBTransaction.READ_WRITE||"readwrite").objectStore(u),a=e.put(i.result,n)}catch(s){return m=!1,void o.reject(s)}a.onsuccess=function(e){o.resolve(r)},a.onerror=function(e){o.reject(e)}},o.promise}function s(t){return i().then(function(n){var r=e.defer(),i=n.transaction([u],IDBTransaction.READ||"readonly").objectStore(u),a=i.get(t);return a.onsuccess=function(e){var t=e.target.result;void 0===t?r.reject():r.resolve("string"==typeof t&&"data:"===t.substr(0,5)?dataUrlToBlob(t):t)},a.onerror=function(e){r.reject(e)},r.promise})}function c(t,r){var i=n.getFakeFileWriter(r,function(e){a(t,e)});return e.when(i)}t.indexedDB=t.indexedDB||t.webkitIndexedDB||t.mozIndexedDB||t.OIndexedDB||t.msIndexedDB,t.IDBTransaction=t.IDBTransaction||t.webkitIDBTransaction||t.OIDBTransaction||t.msIDBTransaction;var l,d="cachedFiles",u="files",p=1,m=void 0!==t.indexedDB&&void 0!==t.IDBTransaction;m&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(m=!1);var h=m||!1;return i(),{isAvailable:r,saveFile:a,getFile:s,getFileWriter:c}}]).service("TmpfsFileStorage",["$q","$window","FileManager",function(e,t,n){function r(){if(c)return c;if(!t.requestFileSystem)return c=e.reject({type:"FS_BROWSER_UNSUPPORTED",description:"requestFileSystem not present"});var n=e.defer();return t.requestFileSystem(t.TEMPORARY,524288e3,function(e){cachedFs=e,n.resolve()},function(e){l=!1,n.reject(e)}),c=n.promise}function i(){return l}function a(t,n){return n=n||1,r().then(function(){var r=e.defer();return cachedFs.root.getFile(t,{create:!1},function(e){e.file(function(t){t.size>=n?r.resolve(e):r.reject(new Error("FILE_NOT_FOUND"))},function(e){console.log(dT(),"error",e),r.reject(e)})},function(){r.reject(new Error("FILE_NOT_FOUND"))}),r.promise})}function o(e,t){return s(e).then(function(e){return n.write(e,t).then(function(){return e.finalize()})})}function s(t){return r().then(function(){var r=e.defer();return cachedFs.root.getFile(t,{create:!0},function(e){n.getFileWriter(e).then(function(t){t.finalize=function(){return e},r.resolve(t)},function(e){l=!1,r.reject(e)})},function(e){l=!1,r.reject(e)}),r.promise})}t.requestFileSystem=t.requestFileSystem||t.webkitRequestFileSystem;var c,l=void 0!==t.requestFileSystem;return r(),{isAvailable:i,saveFile:o,getFile:a,getFileWriter:s}}]).service("MemoryFileStorage",["$q","FileManager",function(e,t){function n(){return!0}function r(t,n){return o[t]?e.when(o[t]):e.reject(new Error("FILE_NOT_FOUND"))}function i(t,n){return e.when(o[t]=n)}function a(n,r){var a=t.getFakeFileWriter(r,function(e){i(n,e)});return e.when(a)}var o={};return{isAvailable:n,saveFile:i,getFile:r,getFileWriter:a}}]).service("CryptoWorker",["$timeout","$q",function(e,t){function n(e,n,i){var s=t.defer();return o[a]=s,n.task=e,n.taskID=a,(i||r).postMessage(n),a++,s.promise}var r=!1,i=!1,a=0,o={},s=Config.Modes.webcrypto&&window.crypto&&(window.crypto.subtle||window.crypto.webkitSubtle),c=s&&void 0!==s.digest,l=s&&void 0!==s.digest,d=function(e,t){var n=o[e];void 0!==n&&(n.resolve(t),delete o[e])};if(Config.Modes.nacl&&navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-pnacl"]){var u=$('<div id="nacl_listener"><embed id="mtproto_crypto" width="0" height="0" src="nacl/mtproto_crypto.nmf" type="application/x-pnacl" /></div>').appendTo($("body"))[0];u.addEventListener("load",function(e){i=u.firstChild,console.log(dT(),"NaCl ready")},!0),u.addEventListener("message",function(e){d(e.data.taskID,e.data.result)},!0),u.addEventListener("error",function(e){console.error("NaCl error",e)},!0)}if(window.Worker){var p=new Worker("js/lib/crypto_worker.js");p.onmessage=function(e){r?d(e.data.taskID,e.data.result):r=p},p.onerror=function(e){console.error("CW error",e,e.stack),r=!1}}return{sha1Hash:function(n){if(c){var r=t.defer(),i=Array.isArray(n)?convertToUint8Array(n):n;return s.digest({name:"SHA-1"},i).then(function(e){r.resolve(e)},function(e){console.error("Crypto digest error",e),c=!1,r.resolve(sha1HashSync(n))}),r.promise}return e(function(){return sha1HashSync(n)})},sha256Hash:function(n){if(l){var r=t.defer(),i=Array.isArray(n)?convertToUint8Array(n):n;return s.digest({name:"SHA-256"},i).then(function(e){r.resolve(e)},function(e){console.error("Crypto digest error",e),l=!1,r.resolve(sha256HashSync(n))}),r.promise}return e(function(){return sha256HashSync(n)})},aesEncrypt:function(t,r,a){return i?n("aes-encrypt",{bytes:addPadding(convertToArrayBuffer(t)),keyBytes:convertToArrayBuffer(r),ivBytes:convertToArrayBuffer(a)},i):e(function(){return convertToArrayBuffer(aesEncryptSync(t,r,a))})},aesDecrypt:function(t,r,a){return i?n("aes-decrypt",{encryptedBytes:addPadding(convertToArrayBuffer(t)),keyBytes:convertToArrayBuffer(r),ivBytes:convertToArrayBuffer(a)},i):e(function(){return convertToArrayBuffer(aesDecryptSync(t,r,a))})},factorize:function(t){return t=convertToByteArray(t),i&&t.length<=8?n("factorize",{bytes:t},i):r?n("factorize",{bytes:t}):e(function(){return pqPrimeFactorization(t)})},modPow:function(t,i,a){return r?n("mod-pow",{x:t,y:i,m:a}):e(function(){return bytesModPow(t,i,a)})}}}]).service("ExternalResourcesManager",["$q","$http",function(e,t){function n(e){return void 0!==r[e]?r[e]:r[e]=t.get(e,{responseType:"blob",transformRequest:null}).then(function(e){return window.URL=window.URL||window.webkitURL,window.URL.createObjectURL(e.data)})}var r={};return{downloadImage:n}}]).service("IdleManager",["$rootScope","$window","$timeout",function(e,t,n){function r(){o||(o=!0,$(t).on(c+" blur focus keydown mousedown touchstart",i),setTimeout(function(){i({type:"blur"})},0))}function i(r){if("mousemove"==r.type){var r=r.originalEvent||r;if(r&&0===r.movementX&&0===r.movementY)return;$(t).off("mousemove",i)}var o="blur"==r.type||"timeout"==r.type?!0:!1;s&&document[s]&&(o=!0),n.cancel(a),o||(a=n(function(){i({type:"timeout"})},3e4)),e.idle.isIDLE!=o&&(e.$apply(function(){e.idle.isIDLE=o}),o&&"timeout"==r.type&&$(t).on("mousemove",i))}e.idle={isIDLE:!1};var a,o=!1,s="hidden",c="visibilitychange";return"undefined"!=typeof document.hidden||("undefined"!=typeof document.mozHidden?(s="mozHidden",c="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(s="msHidden",c="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s="webkitHidden",c="webkitvisibilitychange")),{start:r}}]).service("AppRuntimeManager",["$window",function(e){return{reload:function(){try{location.reload()}catch(t){}e.chrome&&chrome.runtime&&chrome.runtime.reload&&chrome.runtime.reload()},close:function(){try{e.close()}catch(t){}},focus:function(){window.navigator.mozApps&&document.hidden?window.navigator.mozApps.getSelf().onsuccess=function(){this.result.launch()}:(window.chrome&&chrome.app&&chrome.app.window&&chrome.app.window.current().focus(),window.focus())}}}]),angular.module("myApp.i18n",["izhukov.utils"]).factory("_",["$rootScope","$locale",function(e,t){function n(e,t){return e.replace(c,function(r,i,a){var o=t[i];return void 0===o?(console.warn("[i18n] missing param "+i+' for message "'+e+'"'),""):(void 0!==a&&(o=n(o,a.split("|"))),o.toString().trim())})}function r(e,t){return e=e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\n|&#10;/g,"<br/>")}function i(e,t){var i=!1,c=e;if("_raw"===e.substr(-4)&&(i=!0,e=e.substr(0,e.length-4)),o.hasOwnProperty(e))c=o[e];else{if(!s.hasOwnProperty(e))return console.warn("[i18n] missing key "+e),e;c=s[e],console.warn("[i18n] missing locale key "+a+" / "+e)}return i||(c=encodeEntities(c)),"_md"==e.substr(-3)&&(c=r(c)),arguments.length>1&&("string"==typeof t?(Array.prototype.shift.apply(arguments),c=n(c,arguments)):c=n(c,t)),c}var a=Config.I18n.locale,o=Config.I18n.messages,s=Config.I18n.fallback_messages,c=/\{\s*([a-zA-Z\d\-_]+)(?:\s*:\s*(.*?))?\s*\}/g;return i.locale=function(){return a},i.pluralize=function(n){var r=e.$eval(i(n+"_raw"));return function(e){return(r[t.pluralCat(e)]||"").replace("{}",e)}},i}]).filter("i18n",["_",function(e){return function(t,n){return e(t+"_raw",n)}}]).directive("ngPluralize",["_",function(e){return{restrict:"EA",priority:1,compile:function(t){var n=t.attr("when"),r=e(n+"_raw");t.attr("when",r)}}}]).directive("myI18n",["_",function(e){return{restrict:"EA",compile:function(t){var n=t.children('my-i18n-param:not([name]), [my-i18n-param=""]:not([name])').map(function(e,t){return t.outerHTML}).toArray();t.children('my-i18n-param[name], [my-i18n-param]:not([my-i18n-param=""]), [my-i18n-param][name]').each(function(e,t){n[angular.element(t).attr("my-i18n-param")||angular.element(t).attr("name")]=t.outerHTML}),t.children("my-i18n-param").remove();var r=t.attr("my-i18n")||t.attr("msgid")?t:t.children("my-i18n-format, [my-i18n-format]");r.each(function(t,r){var i=angular.element(r),a=i.attr("my-i18n")||i.attr("msgid")||i.attr("my-i18n-format")||i.html().replace(/\s+/g," ").trim(),o=e(a,n);i.html(o)})}}}]),angular.module("izhukov.mtproto",["izhukov.utils"]).factory("MtpDcConfigurator",function(){function e(e,i){if(void 0===r[e]){var a,o,s=!1;if(Config.Modes.ssl){var c=t[e-1]+(i?"-1":""),l=Config.Modes.test?"apiw_test1":"apiw1";return s="https://"+c+".web.telegram.org/"+l}for(a=0;a<n.length;a++)if(o=n[a],o.id==e){s="http://"+o.host+(80!=o.port?":"+o.port:"")+"/apiw1";break}r[e]=s}return r[e]}var t=["pluto","venus","aurora","vesta","flora"],n=Config.Modes.test?[{id:1,host:"149.154.175.10",port:80},{id:2,host:"149.154.167.40",port:80},{id:3,host:"174.140.142.5",port:80}]:[{id:1,host:"149.154.175.50",port:80},{id:2,host:"149.154.167.51",port:80},{id:3,host:"149.154.175.100",port:80},{id:4,host:"149.154.167.91",port:80},{id:5,host:"149.154.171.5",port:80}],r={};return{chooseServer:e}}).factory("MtpRsaKeysManager",function(){function e(){if(!i){for(var e=0;e<n.length;e++){var t=n[e],a=new TLSerialization;a.storeBytes(bytesFromHex(t.modulus),"n"),a.storeBytes(bytesFromHex(t.exponent),"e");var o=a.getBuffer(),s=sha1BytesSync(o).slice(-8);s.reverse(),r[bytesToHex(s)]={modulus:t.modulus,exponent:t.exponent}}i=!0}}function t(t){e();var n,i,a;for(a=0;a<t.length;a++)if(n=bigStringInt(t[a]).toString(16),i=r[n])return angular.extend({fingerprint:t[a]},i);return!1}var n=[{modulus:"c150023e2f70db7985ded064759cfecf0af328e69a41daf4d6f01b538135a6f91f8f8b2a0ec9ba9720ce352efcf6c5680ffc424bd634864902de0b4bd6d49f4e580230e3ae97d95c8b19442b3c0a10d8f5633fecedd6926a7f6dab0ddb7d457f9ea81b8465fcd6fffeed114011df91c059caedaf97625f6c96ecc74725556934ef781d866b34f011fce4d835a090196e9a5f0e4449af7eb697ddb9076494ca5f81104a305b6dd27665722c46b60e5df680fb16b210607ef217652e60236c255f6a28315f4083a96791d7214bf64c1df4fd0db1944fb26a2a57031b32eee64ad15a8ba68885cde74a5bfc920f6abf59ba5c75506373e7130f9042da922179251f",exponent:"010001"}],r={},i=!1;return{prepare:e,select:t}}).service("MtpSecureRandom",["$window",function(e){return $(e).on("click keydown",rng_seed_time),new SecureRandom}]).factory("MtpTimeManager",["Storage",function(e){function t(){var e=tsNow(),t=Math.floor(e/1e3)+i,n=e%1e3,a=nextRandomInt(65535),o=[t,n<<21|a<<3|4];return(r[0]>o[0]||r[0]==o[0]&&r[1]>=o[1])&&(o=[r[0],r[1]+4]),r=o,longFromInts(o[0],o[1])}function n(t,n){var a=t-Math.floor((n||tsNow())/1e3),o=Math.abs(i-a)>10;return e.set({server_time_offset:a}),r=[0,0],i=a,console.log(dT(),"Apply server time",t,n,a,o),o}var r=[0,0],i=0;return e.get("server_time_offset").then(function(e){e&&(i=e)}),{generateID:t,applyServerTime:n}}]).factory("MtpAuthorizer",["MtpDcConfigurator","MtpRsaKeysManager","MtpSecureRandom","MtpTimeManager","CryptoWorker","$http","$q","$timeout",function(e,t,n,r,i,a,o,s){function c(t,n){var i=n.byteLength,s=new Int32Array(n),c=new TLSerialization;c.storeLongP(0,0,"auth_key_id"),c.storeLong(r.generateID(),"msg_id"),c.storeInt(i,"request_length");var l=c.getBuffer(),d=new Int32Array(l),u=l.byteLength,p=new ArrayBuffer(u+i),m=new Int32Array(p);m.set(d),m.set(s,d.length);var h,g=f?p:m;try{h=a.post(e.chooseServer(t),g,{responseType:"arraybuffer",transformRequest:null})}catch(_){h=o.reject({code:406,type:"NETWORK_BAD_RESPONSE",originalError:_})}return h.then(function(e){if(!e.data||!e.data.byteLength)return o.reject({code:406,type:"NETWORK_BAD_RESPONSE"});try{{var t=new TLDeserialization(e.data,{mtproto:!0});t.fetchLong("auth_key_id"),t.fetchLong("msg_id"),t.fetchInt("msg_len")}}catch(n){return o.reject({code:406,type:"NETWORK_BAD_RESPONSE",originalError:n})}return t},function(e){return e.message||e.type||(e={code:406,type:"NETWORK_BAD_REQUEST",originalError:e}),o.reject(e)})}function l(e){var n=e.deferred,r=new TLSerialization({mtproto:!0});r.storeMethod("req_pq",{nonce:e.nonce}),console.log(dT(),"Send req_pq",bytesToHex(e.nonce)),c(e.dcID,r.getBuffer()).then(function(r){var a=r.fetchObject("ResPQ");if("resPQ"!=a._)throw new Error("resPQ response invalid: "+a._);if(!bytesCmp(e.nonce,a.nonce))throw new Error("resPQ nonce mismatch");if(e.serverNonce=a.server_nonce,e.pq=a.pq,e.fingerprints=a.server_public_key_fingerprints,console.log(dT(),"Got ResPQ",bytesToHex(e.serverNonce),bytesToHex(e.pq),e.fingerprints),e.publicKey=t.select(e.fingerprints),!e.publicKey)throw new Error("No public key found");console.log(dT(),"PQ factorization start",e.pq),i.factorize(e.pq).then(function(t){e.p=t[0],e.q=t[1],console.log(dT(),"PQ factorization done",t[2]),d(e)},function(e){console.log("Worker error",e,e.stack),n.reject(e)})},function(e){console.log(dT(),"req_pq error",e.message),n.reject(e)}),s(function(){t.prepare()})}function d(e){var t=e.deferred;e.newNonce=new Array(32),n.nextBytes(e.newNonce);var r=new TLSerialization({mtproto:!0});r.storeObject({_:"p_q_inner_data",pq:e.pq,p:e.p,q:e.q,nonce:e.nonce,server_nonce:e.serverNonce,new_nonce:e.newNonce},"P_Q_inner_data","DECRYPTED_DATA");var i=sha1BytesSync(r.getBuffer()).concat(r.getBytes()),a=new TLSerialization({mtproto:!0});a.storeMethod("req_DH_params",{nonce:e.nonce,server_nonce:e.serverNonce,p:e.p,q:e.q,public_key_fingerprint:e.publicKey.fingerprint,encrypted_data:rsaEncrypt(e.publicKey,i)}),console.log(dT(),"Send req_DH_params"),c(e.dcID,a.getBuffer()).then(function(n){var r=n.fetchObject("Server_DH_Params","RESPONSE");if("server_DH_params_fail"!=r._&&"server_DH_params_ok"!=r._)return t.reject(new Error("Server_DH_Params response invalid: "+r._)),!1;if(!bytesCmp(e.nonce,r.nonce))return t.reject(new Error("Server_DH_Params nonce mismatch")),!1;if(!bytesCmp(e.serverNonce,r.server_nonce))return t.reject(new Error("Server_DH_Params server_nonce mismatch")),!1;if("server_DH_params_fail"==r._){var i=sha1BytesSync(e.newNonce).slice(-16);return bytesCmp(i,r.new_nonce_hash)?(t.reject(new Error("server_DH_params_fail")),!1):(t.reject(new Error("server_DH_params_fail new_nonce_hash mismatch")),!1)}try{u(e,r.encrypted_answer)}catch(a){return t.reject(a),!1}p(e)},function(e){t.reject(e)})}function u(e,t){e.localTime=tsNow(),e.tmpAesKey=sha1BytesSync(e.newNonce.concat(e.serverNonce)).concat(sha1BytesSync(e.serverNonce.concat(e.newNonce)).slice(0,12)),e.tmpAesIv=sha1BytesSync(e.serverNonce.concat(e.newNonce)).slice(12).concat(sha1BytesSync([].concat(e.newNonce,e.newNonce)),e.newNonce.slice(0,4));var n=aesDecryptSync(t,e.tmpAesKey,e.tmpAesIv),i=n.slice(0,20),a=n.slice(20),o=bytesToArrayBuffer(a),s=new TLDeserialization(o,{mtproto:!0}),c=s.fetchObject("Server_DH_inner_data");if("server_DH_inner_data"!=c._)throw new Error("server_DH_inner_data response invalid: "+constructor);if(!bytesCmp(e.nonce,c.nonce))throw new Error("server_DH_inner_data nonce mismatch");if(!bytesCmp(e.serverNonce,c.server_nonce))throw new Error("server_DH_inner_data serverNonce mismatch");console.log(dT(),"Done decrypting answer"),e.g=c.g,e.dhPrime=c.dh_prime,e.gA=c.g_a,e.serverTime=c.server_time,e.retry=0;var l=s.getOffset();if(!bytesCmp(i,sha1BytesSync(a.slice(0,l))))throw new Error("server_DH_inner_data SHA1-hash mismatch");r.applyServerTime(e.serverTime,e.localTime)}function p(e){var t=e.deferred,r=bytesFromHex(e.g.toString(16));e.b=new Array(256),n.nextBytes(e.b),i.modPow(r,e.b,e.dhPrime).then(function(n){var r=new TLSerialization({mtproto:!0});r.storeObject({_:"client_DH_inner_data",nonce:e.nonce,server_nonce:e.serverNonce,retry_id:[0,e.retry++],g_b:n},"Client_DH_Inner_Data");var a=sha1BytesSync(r.getBuffer()).concat(r.getBytes()),o=aesEncryptSync(a,e.tmpAesKey,e.tmpAesIv),s=new TLSerialization({mtproto:!0});s.storeMethod("set_client_DH_params",{nonce:e.nonce,server_nonce:e.serverNonce,encrypted_data:o}),console.log(dT(),"Send set_client_DH_params"),c(e.dcID,s.getBuffer()).then(function(n){var r=n.fetchObject("Set_client_DH_params_answer");return"dh_gen_ok"!=r._&&"dh_gen_retry"!=r._&&"dh_gen_fail"!=r._?(t.reject(new Error("Set_client_DH_params_answer response invalid: "+r._)),!1):bytesCmp(e.nonce,r.nonce)?bytesCmp(e.serverNonce,r.server_nonce)?void i.modPow(e.gA,e.b,e.dhPrime).then(function(n){var i=sha1BytesSync(n),a=i.slice(0,8),o=i.slice(-8);switch(console.log(dT(),"Got Set_client_DH_params_answer",r._),r._){case"dh_gen_ok":var s=sha1BytesSync(e.newNonce.concat([1],a)).slice(-16);if(!bytesCmp(s,r.new_nonce_hash1))return t.reject(new Error("Set_client_DH_params_answer new_nonce_hash1 mismatch")),!1;var c=bytesXor(e.newNonce.slice(0,8),e.serverNonce.slice(0,8));e.authKeyID=o,e.authKey=n,e.serverSalt=c,t.resolve(e);break;case"dh_gen_retry":var l=sha1BytesSync(e.newNonce.concat([2],a)).slice(-16);return bytesCmp(l,r.new_nonce_hash2)?p(e):(t.reject(new Error("Set_client_DH_params_answer new_nonce_hash2 mismatch")),!1);case"dh_gen_fail":var d=sha1BytesSync(e.newNonce.concat([3],a)).slice(-16);return bytesCmp(d,r.new_nonce_hash3)?(t.reject(new Error("Set_client_DH_params_answer fail")),!1):(t.reject(new Error("Set_client_DH_params_answer new_nonce_hash3 mismatch")),!1)}},function(e){t.reject(e)}):(t.reject(new Error("Set_client_DH_params_answer server_nonce mismatch")),!1):(t.reject(new Error("Set_client_DH_params_answer nonce mismatch")),!1)},function(e){t.reject(e)})},function(e){t.reject(e)})}function m(t){if(void 0!==_[t])return _[t];for(var n=[],r=0;16>r;r++)n.push(nextRandomInt(255));if(!e.chooseServer(t))return o.reject(new Error("No server found for dc "+t));

var i={dcID:t,nonce:n,deferred:o.defer()};return s(function(){l(i)}),_[t]=i.deferred.promise,_[t]["catch"](function(){delete _[t]}),_[t]}var h=navigator.userAgent.match(/Chrome\/(\d+(\.\d+)?)/),g=h&&parseFloat(h[1])||!1,f=!("ArrayBufferView"in window)&&(!g||30>g);delete a.defaults.headers.post["Content-Type"],delete a.defaults.headers.common.Accept;var _={};return{auth:m}}]).factory("MtpNetworkerFactory",["MtpDcConfigurator","MtpTimeManager","MtpSecureRandom","Storage","CryptoWorker","AppRuntimeManager","$http","$q","$timeout","$interval","$rootScope",function(e,t,n,r,i,a,o,s,c,l,d){function u(e,t,n,r){r=r||{},this.dcID=e,this.iii=g++,this.authKey=t,this.authKeyUint8=convertToUint8Array(t),this.authKeyBuffer=convertToArrayBuffer(t),this.authKeyID=sha1BytesSync(t).slice(-8),this.serverSalt=n,this.upload=r.fileUpload||r.fileDownload||!1,this.updateSession(),this.currentRequests=0,this.checkConnectionPeriod=0,this.sentMessages={},this.serverMessages=[],this.clientMessages=[],this.pendingMessages={},this.pendingAcks=[],this.pendingResends=[],this.connectionInited=!1,this.pendingTimeouts=[],this.longPollInt=l(this.checkLongPoll.bind(this),1e4),this.checkLongPoll(),f||(f=!0,d.offline=!0,d.offlineConnecting=!0),Config.Navigator.mobile&&this.setupMobileSleep()}function p(){_&&(_=!1,h({_:"new_session_created"}))}function m(){_=!0}var h,g=0,f=!1,_=!1,v=navigator.userAgent.match(/Chrome\/(\d+(\.\d+)?)/),y=v&&parseFloat(v[1])||!1,b=!("ArrayBufferView"in window)&&(!y||30>y);return delete o.defaults.headers.post["Content-Type"],delete o.defaults.headers.common.Accept,d.retryOnline=function(){$(document.body).trigger("online")},u.prototype.updateSession=function(){this.seqNo=0,this.sessionID=new Array(8),n.nextBytes(this.sessionID)},u.prototype.setupMobileSleep=function(){var e=this;d.$watch("idle.isIDLE",function(t){t?e.sleepAfter=tsNow()+3e4:(delete e.sleepAfter,e.checkLongPoll())}),d.$on("push_received",function(){e.sleepAfter&&(e.sleepAfter=tsNow()+3e4,e.checkLongPoll())})},u.prototype.updateSentMessage=function(e){var n=this.sentMessages[e];if(!n)return!1;var r=this;if(n.container){var i=[];angular.forEach(n.inner,function(e){var t=r.updateSentMessage(e);t&&i.push(t.msg_id)}),n.inner=i}return n.msg_id=t.generateID(),n.seq_no=this.generateSeqNo(n.notContentRelated||n.container),this.sentMessages[n.msg_id]=n,delete r.sentMessages[e],n},u.prototype.generateSeqNo=function(e){var t=2*this.seqNo;return e||(t++,this.seqNo++),t},u.prototype.wrapMtpCall=function(e,n,r){var i=new TLSerialization({mtproto:!0});i.storeMethod(e,n);var a=t.generateID(),o=this.generateSeqNo(),s={msg_id:a,seq_no:o,body:i.getBytes()};return Config.Modes.debug&&console.log(dT(),"MT call",e,n,a,o),this.pushMessage(s,r)},u.prototype.wrapMtpMessage=function(e,n){n=n||{};var r=new TLSerialization({mtproto:!0});r.storeObject(e,"Object");var i=t.generateID(),a=this.generateSeqNo(n.notContentRelated),o={msg_id:i,seq_no:a,body:r.getBytes()};return Config.Modes.debug&&console.log(dT(),"MT message",e,i,a),this.pushMessage(o,n)},u.prototype.wrapApiCall=function(e,n,r){var i=new TLSerialization(r);this.connectionInited||(i.storeInt(3667594509,"invokeWithLayer"),i.storeInt(Config.Schema.API.layer,"layer"),i.storeInt(1769565673,"initConnection"),i.storeInt(Config.App.id,"api_id"),i.storeString(navigator.userAgent||"Unknown UserAgent","device_model"),i.storeString(navigator.platform||"Unknown Platform","system_version"),i.storeString(Config.App.version,"app_version"),i.storeString(navigator.language||"en","lang_code")),r.afterMessageID&&(i.storeInt(3416209197,"invokeAfterMsg"),i.storeLong(r.afterMessageID,"msg_id")),r.resultType=i.storeMethod(e,n);var a=t.generateID(),o=this.generateSeqNo(),s={msg_id:a,seq_no:o,body:i.getBytes(!0),isAPI:!0};return Config.Modes.debug?console.log(dT(),"Api call",e,n,a,o,r):console.log(dT(),"Api call",e),this.pushMessage(s,r)},u.prototype.checkLongPoll=function(e){var t=this.cleanupSent();if(this.longPollPending&&tsNow()<this.longPollPending||this.offline||_)return!1;var n=this;r.get("dc").then(function(e){t&&(e!=n.dcID||n.upload||n.sleepAfter&&tsNow()>n.sleepAfter)||n.sendLongPoll()})},u.prototype.sendLongPoll=function(){var e=25e3,t=this;this.longPollPending=tsNow()+e,this.wrapMtpCall("http_wait",{max_delay:0,wait_after:0,max_wait:e},{noResponse:!0,longPoll:!0}).then(function(){delete t.longPollPending,setZeroTimeout(t.checkLongPoll.bind(t))},function(){console.log("Long-poll failed")})},u.prototype.pushMessage=function(e,t){var n=s.defer();return this.sentMessages[e.msg_id]=angular.extend(e,t||{},{deferred:n}),this.pendingMessages[e.msg_id]=0,t&&t.noShedule||this.sheduleRequest(),angular.isObject(t)&&(t.messageID=e.msg_id),n.promise},u.prototype.pushResend=function(e,t){var n=t?tsNow()+t:0,r=this.sentMessages[e];if(r.container)for(var i=0;i<r.inner.length;i++)this.pendingMessages[r.inner[i]]=n;else this.pendingMessages[e]=n;this.sheduleRequest(t)},u.prototype.getMsgKeyIv=function(e,t){var n=this.authKeyUint8,r=t?0:8,a=new Uint8Array(48),o=new Uint8Array(48),c=new Uint8Array(48),l=new Uint8Array(48),d={};return a.set(e,0),a.set(n.subarray(r,r+32),16),d.sha1a=i.sha1Hash(a),o.set(n.subarray(r+32,r+48),0),o.set(e,16),o.set(n.subarray(r+48,r+64),32),d.sha1b=i.sha1Hash(o),c.set(n.subarray(r+64,r+96),0),c.set(e,32),d.sha1c=i.sha1Hash(c),l.set(e,0),l.set(n.subarray(r+96,r+128),16),d.sha1d=i.sha1Hash(l),s.all(d).then(function(e){var t=new Uint8Array(32),n=new Uint8Array(32);return sha1a=new Uint8Array(e.sha1a),sha1b=new Uint8Array(e.sha1b),sha1c=new Uint8Array(e.sha1c),sha1d=new Uint8Array(e.sha1d),t.set(sha1a.subarray(0,8)),t.set(sha1b.subarray(8,20),8),t.set(sha1c.subarray(4,16),20),n.set(sha1a.subarray(8,20)),n.set(sha1b.subarray(0,8),12),n.set(sha1c.subarray(16,20),20),n.set(sha1d.subarray(0,8),24),[t,n]})},u.prototype.checkConnection=function(e){d.offlineConnecting=!0,console.log(dT(),"Check connection",e),c.cancel(this.checkConnectionPromise);var n=new TLSerialization({mtproto:!0}),r=[nextRandomInt(4294967295),nextRandomInt(4294967295)];n.storeMethod("ping",{ping_id:r});var i={msg_id:t.generateID(),seq_no:this.generateSeqNo(!0),body:n.getBytes()},a=this;this.sendEncryptedRequest(i,{timeout:15e3}).then(function(e){delete d.offlineConnecting,a.toggleOffline(!1)},function(){console.log(dT(),"Delay ",1e3*a.checkConnectionPeriod),a.checkConnectionPromise=c(a.checkConnection.bind(a),parseInt(1e3*a.checkConnectionPeriod)),a.checkConnectionPeriod=Math.min(60,1.5*a.checkConnectionPeriod),c(function(){delete d.offlineConnecting},1e3)})},u.prototype.toggleOffline=function(e){return void 0!==this.offline&&this.offline==e?!1:(this.offline=e,d.offline=e,d.offlineConnecting=!1,void(this.offline?(c.cancel(this.nextReqPromise),delete this.nextReq,this.checkConnectionPeriod<1.5&&(this.checkConnectionPeriod=0),this.checkConnectionPromise=c(this.checkConnection.bind(this),parseInt(1e3*this.checkConnectionPeriod)),this.checkConnectionPeriod=Math.min(30,1.5*(1+this.checkConnectionPeriod)),this.onOnlineCb=this.checkConnection.bind(this),$(document.body).on("online focus",this.onOnlineCb)):(delete this.longPollPending,this.checkLongPoll(),this.sheduleRequest(),this.onOnlineCb&&$(document.body).off("online focus",this.onOnlineCb),c.cancel(this.checkConnectionPromise))))},u.prototype.performSheduledRequest=function(){if(this.offline||_)return console.log(dT(),"Cancel sheduled"),!1;if(delete this.nextReq,this.pendingAcks.length){for(var e=[],n=0;n<this.pendingAcks.length;n++)e.push(this.pendingAcks[n]);this.wrapMtpMessage({_:"msgs_ack",msg_ids:e},{notContentRelated:!0,noShedule:!0})}if(this.pendingResends.length){for(var r=[],i={noShedule:!0,notContentRelated:!0},n=0;n<this.pendingResends.length;n++)r.push(this.pendingResends[n]);this.wrapMtpMessage({_:"msg_resend_req",msg_ids:r},i),this.lastResendReq={req_msg_id:i.messageID,resend_msg_ids:r}}var a,o=[],s=0,c=tsNow(),l=!1,d=!1,u=!1,p=0,m=this;if(angular.forEach(this.pendingMessages,function(e,t){if(!e||e>=c){if(a=m.sentMessages[t]){var n=(a.body.byteLength||a.body.length)+32;if(!a.notContentRelated&&u)return;if(!a.notContentRelated&&s&&s+n>655360)return void(u=!0);if(a.singleInRequest&&(p++,p>1))return;o.push(a),s+=n,a.isAPI?l=!0:a.longPoll&&(d=!0)}delete m.pendingMessages[t]}}),l&&!d){var h=new TLSerialization({mtproto:!0});h.storeMethod("http_wait",{max_delay:0,wait_after:0,max_wait:1e3}),o.push({msg_id:t.generateID(),seq_no:this.generateSeqNo(),body:h.getBytes()})}if(o.length){var g=[];if(o.length>1){var f=new TLSerialization({mtproto:!0,startMaxLength:s+64});f.storeInt(1945237724,"CONTAINER[id]"),f.storeInt(o.length,"CONTAINER[count]");for(var v=[],n=0;n<o.length;n++)f.storeLong(o[n].msg_id,"CONTAINER["+n+"][msg_id]"),v.push(o[n].msg_id),f.storeInt(o[n].seq_no,"CONTAINER["+n+"][seq_no]"),f.storeInt(o[n].body.length,"CONTAINER["+n+"][bytes]"),f.storeRawBytes(o[n].body,"CONTAINER["+n+"][body]"),o[n].noResponse&&g.push(o[n].msg_id);var y={msg_id:t.generateID(),seq_no:this.generateSeqNo(!0),container:!0,inner:v};a=angular.extend({body:f.getBytes(!0)},y),this.sentMessages[a.msg_id]=y,Config.Modes.debug&&console.log(dT(),"Container",v,a.msg_id,a.seq_no)}else a.noResponse&&g.push(a.msg_id),this.sentMessages[a.msg_id]=a;this.pendingAcks=[];var m=this;this.sendEncryptedRequest(a).then(function(e){m.toggleOffline(!1),m.parseResponse(e.data).then(function(e){Config.Modes.debug&&console.log(dT(),"Server response",m.dcID,e),m.processMessage(e.response,e.messageID,e.sessionID),angular.forEach(g,function(e){if(m.sentMessages[e]){var t=m.sentMessages[e].deferred;delete m.sentMessages[e],t.resolve()}}),m.checkLongPoll(),this.checkConnectionPeriod=Math.max(1.1,Math.sqrt(this.checkConnectionPeriod))})},function(e){console.log("Encrypted request failed",e),a.container?(angular.forEach(a.inner,function(e){m.pendingMessages[e]=0}),delete m.sentMessages[a.msg_id]):m.pendingMessages[a.msg_id]=0,angular.forEach(g,function(e){if(m.sentMessages[e]){var t=m.sentMessages[e].deferred;delete m.sentMessages[e],delete m.pendingMessages[e],t.reject()}}),m.toggleOffline(!0)}),(u||p>1)&&this.sheduleRequest()}},u.prototype.getEncryptedMessage=function(e){var t=this;return i.sha1Hash(e).then(function(n){var r=new Uint8Array(n).subarray(4,20);return t.getMsgKeyIv(r,!0).then(function(t){return i.aesEncrypt(e,t[0],t[1]).then(function(e){return{bytes:e,msgKey:r}})})})},u.prototype.getDecryptedMessage=function(e,t){return this.getMsgKeyIv(e,!1).then(function(e){return i.aesDecrypt(t,e[0],e[1])})},u.prototype.sendEncryptedRequest=function(t,n){var i=this;n=n||{};var c=new TLSerialization({startMaxLength:t.body.length+64});return c.storeIntBytes(this.serverSalt,64,"salt"),c.storeIntBytes(this.sessionID,64,"session_id"),c.storeLong(t.msg_id,"message_id"),c.storeInt(t.seq_no,"seq_no"),c.storeInt(t.body.length,"message_data_length"),c.storeRawBytes(t.body,"message_data"),this.getEncryptedMessage(c.getBuffer()).then(function(t){var c=new TLSerialization({startMaxLength:t.bytes.byteLength+256});c.storeIntBytes(i.authKeyID,64,"auth_key_id"),c.storeIntBytes(t.msgKey,128,"msg_key"),c.storeRawBytes(t.bytes,"encrypted_data");var l,d=b?c.getBuffer():c.getArray();try{n=angular.extend(n||{},{responseType:"arraybuffer",transformRequest:null}),l=o.post(e.chooseServer(i.dcID,i.upload),d,n)}catch(u){l=s.reject(u)}return l.then(function(e){return e.data&&e.data.byteLength?e:s.reject({code:406,type:"NETWORK_BAD_RESPONSE"})},function(e){return 404==e.status&&-1!=(e.data||"").indexOf("nginx/0.3.33")&&r.remove("dc"+i.dcID+"_server_salt","dc"+i.dcID+"_auth_key").then(function(){a.reload()}),e.message||e.type||(e={code:406,type:"NETWORK_BAD_REQUEST"}),s.reject(e)})})},u.prototype.parseResponse=function(e){var t=this,n=new TLDeserialization(e),r=n.fetchIntBytes(64,!1,"auth_key_id");if(!bytesCmp(r,this.authKeyID))throw new Error("Invalid server auth_key_id: "+bytesToHex(r));var a=n.fetchIntBytes(128,!0,"msg_key"),o=n.fetchRawBytes(e.byteLength-n.getOffset(),!0,"encrypted_data");return this.getDecryptedMessage(a,o).then(function(e){var n=new TLDeserialization(e,{mtproto:!0}),r=(n.fetchIntBytes(64,!1,"salt"),n.fetchIntBytes(64,!1,"session_id")),o=n.fetchLong("message_id"),s=n.fetchInt("seq_no"),c=n.fetchRawBytes(!1,!0,"message_data"),l=convertToUint8Array(e).subarray(0,n.getOffset());return i.sha1Hash(l).then(function(e){if(!bytesCmp(a,bytesFromArrayBuffer(e).slice(-16)))throw console.warn(a,bytesFromArrayBuffer(e)),new Error("server msgKey mismatch");var n=bytesToArrayBuffer(c),i={mtproto:!0,override:{mt_message:function(e,t){e.msg_id=this.fetchLong(t+"[msg_id]"),e.seqno=this.fetchInt(t+"[seqno]"),e.bytes=this.fetchInt(t+"[bytes]");var n=this.getOffset();try{e.body=this.fetchObject("Object",t+"[body]")}catch(r){console.error(dT(),"parse error",r.message,r.stack),e.body={_:"parse_error",error:r}}this.offset!=n+e.bytes&&(console.warn(dT(),"set offset",this.offset,n,e.bytes),this.offset=n+e.bytes)},mt_rpc_result:function(e,n){e.req_msg_id=this.fetchLong(n+"[req_msg_id]");var r=t.sentMessages[e.req_msg_id],i=r&&r.resultType||"Object";e.result=this.fetchObject(i,n+"[result]")}}},l=new TLDeserialization(n,i),d=l.fetchObject("","INPUT");return{response:d,messageID:o,sessionID:r,seqNo:s}})})},u.prototype.applyServerSalt=function(e){var t=longToBytes(e),n={};return n["dc"+this.dcID+"_server_salt"]=bytesToHex(t),r.set(n),this.serverSalt=t,!0},u.prototype.sheduleRequest=function(e){this.offline&&this.checkConnection("forced shedule");var t=tsNow()+e;return e&&this.nextReq&&this.nextReq<=t?!1:(c.cancel(this.nextReqPromise),e>0?this.nextReqPromise=c(this.performSheduledRequest.bind(this),e||0):setZeroTimeout(this.performSheduledRequest.bind(this)),void(this.nextReq=t))},u.prototype.ackMessage=function(e){this.pendingAcks.push(e),this.sheduleRequest(3e4)},u.prototype.reqResendMessage=function(e){console.log(dT(),"Req resend",e),this.pendingResends.push(e),this.sheduleRequest(100)},u.prototype.cleanupSent=function(){var e=this,t=!1;return angular.forEach(this.sentMessages,function(n,r){if(n.notContentRelated&&void 0===e.pendingMessages[r])delete e.sentMessages[r];else if(n.container){for(var i=0;i<n.inner.length;i++)if(void 0!==e.sentMessages[n.inner[i]])return void(t=!0);delete e.sentMessages[r]}else t=!0}),!t},u.prototype.processMessageAck=function(e){var t=this.sentMessages[e];return t&&!t.acked?(delete t.body,t.acked=!0,!0):!1},u.prototype.processError=function(e){var t=(e.error_message||"").match(/^([A-Z_0-9]+\b)(: (.+))?/)||[];return e.error_code=uintToInt(e.error_code),{code:!e.error_code||e.error_code<=0?500:e.error_code,type:t[1]||"UNKNOWN",description:t[3]||"CODE#"+e.error_code+" "+e.error_message,originalError:e}},u.prototype.processMessage=function(e,n,i){switch(e._){case"msg_container":for(var a=e.messages.length,o=0;a>o;o++)this.processMessage(e.messages[o],n,i);break;case"bad_server_salt":console.log(dT(),"Bad server salt",e);var s=this.sentMessages[e.bad_msg_id];if(!s||s.seq_no!=e.bad_msg_seqno)throw console.log(e.bad_msg_id,e.bad_msg_seqno),new Error("Bad server salt for invalid message");this.applyServerSalt(e.new_server_salt),this.pushResend(e.bad_msg_id),this.ackMessage(n);break;case"bad_msg_notification":console.log(dT(),"Bad msg notification",e);var s=this.sentMessages[e.bad_msg_id];if(!s||s.seq_no!=e.bad_msg_seqno)throw console.log(e.bad_msg_id,e.bad_msg_seqno),new Error("Bad msg notification for invalid message");if(16==e.error_code||17==e.error_code){t.applyServerTime(bigStringInt(n).shiftRight(32).toString(10))&&(console.log(dT(),"Update session"),this.updateSession());var c=this.updateSentMessage(e.bad_msg_id);this.pushResend(c.msg_id),this.ackMessage(n)}break;case"message":this.serverMessages.push(e.msg_id),this.processMessage(e.body,e.msg_id,i);break;case"new_session_created":this.ackMessage(n),this.processMessageAck(e.first_msg_id),this.applyServerSalt(e.server_salt);var l=this;r.get("dc").then(function(t){t==l.dcID&&!l.upload&&h&&h(e)});break;case"msgs_ack":for(var o=0;o<e.msg_ids.length;o++)this.processMessageAck(e.msg_ids[o]);break;case"msg_detailed_info":if(!this.sentMessages[e.msg_id]){this.ackMessage(e.answer_msg_id);break}case"msg_new_detailed_info":this.reqResendMessage(e.answer_msg_id);break;case"msgs_state_info":if(this.ackMessage(e.answer_msg_id),this.lastResendReq&&this.lastResendReq.req_msg_id==e.req_msg_id&&this.pendingResends.length){var o,d,u;for(o=0;o<this.lastResendReq.resend_msg_ids.length;o++)d=this.lastResendReq.resend_msg_ids[o],u=this.pendingResends.indexOf(d),-1!=u&&this.pendingResends.splice(u,1)}break;case"rpc_result":this.ackMessage(n);var p=e.req_msg_id,s=this.sentMessages[p];if(this.processMessageAck(p),s){var m=s.deferred;if("rpc_error"==e.result._){var g=this.processError(e.result);console.log(dT(),"Rpc error",g),m&&m.reject(g)}else{if(m){if(Config.Modes.debug)console.log(dT(),"Rpc response",e.result);else{var f=e.result._;f||(f=e.result.length>5?"[.."+e.result.length+"..]":e.result),console.log(dT(),"Rpc response",f)}s.deferred.resolve(e.result)}s.isAPI&&(this.connectionInited=!0)}delete this.sentMessages[p]}break;default:this.ackMessage(n),h&&h(e)}},{getNetworker:function(e,t,n,r){return new u(e,t,n,r)},setUpdatesProcessor:function(e){h=e},stopAll:m,startAll:p}}]),angular.module("izhukov.mtproto.wrapper",["izhukov.utils","izhukov.mtproto"]).factory("MtpApiManager",["Storage","MtpAuthorizer","MtpNetworkerFactory","MtpSingleInstanceService","AppRuntimeManager","ErrorService","qSync","$q","TelegramMeWebService",function(e,t,n,r,i,a,o,s,c){function l(e){f!==e&&(f=e,c.setAuthorized(f))}function d(t,n){e.set({dc:t,user_auth:angular.extend({dcID:t},n)}),l(!0),b=t}function u(){for(var t=[],n=1;5>=n;n++)t.push("dc"+n+"_auth_key");return e.get.apply(e,t).then(function(n){for(var r=[],i=0;i<n.length;i++)n[i]&&r.push(m("auth.logOut",{},{dcID:i+1}));return s.all(r).then(function(){e.remove("dc","user_auth"),b=!1,l(!1)},function(n){e.remove.apply(t),e.remove("dc","user_auth"),b=!1,n.handled=!0,l(!1)})})}function p(r,i){i=i||{};var a=i.fileUpload||i.fileDownload?v:_;if(!r)throw new Exception("get Networker without dcID");if(void 0!==a[r])return o.when(a[r]);var c="dc"+r+"_auth_key",l="dc"+r+"_server_salt";return e.get(c,l).then(function(o){if(void 0!==a[r])return a[r];var d=o[0],u=o[1];if(d&&512==d.length){var p=bytesFromHex(d),m=bytesFromHex(u);return a[r]=n.getNetworker(r,p,m,i)}return i.createNetworker?t.auth(r).then(function(t){var o={};return o[c]=bytesToHex(t.authKey),o[l]=bytesToHex(t.serverSalt),e.set(o),a[r]=n.getNetworker(r,t.authKey,t.serverSalt,i)},function(e){return console.log("Get networker error",e,e.stack),s.reject(e)}):s.reject({type:"AUTH_KEY_EMPTY",code:401})})}function m(t,n,r){r=r||{};var o,c,d=s.defer(),h=function(e){e?angular.isObject(e)||(e={message:e}):e={type:"ERROR_EMPTY"},d.reject(e),r.noErrorBox||(e.input=t,e.stack=e.originalError&&e.originalError.stack||e.stack||(new Error).stack,setTimeout(function(){e.handled||(401==e.code?u()["finally"](function(){"http:"!=location.protocol||Config.Modes.http||-1==Config.App.domains.indexOf(location.hostname)?(location.hash="/login",i.reload()):location.href=location.href.replace(/^http:/,"https:")}):a.show({error:e}),e.handled=!0)},100))},g=(new Error).stack;if(!g)try{window.unexistingFunction()}catch(f){g=f.stack||""}var _=function(i){return(c=i).wrapApiCall(t,n,r).then(function(e){d.resolve(e)},function(a){if(console.error(dT(),"Error",a.code,a.type,b,o),401==a.code&&b==o)e.remove("dc","user_auth"),l(!1),h(a);else if(401==a.code&&b&&o!=b){if(void 0===y[o]){var u=s.defer();m("auth.exportAuthorization",{dc_id:o},{noErrorBox:!0}).then(function(e){m("auth.importAuthorization",{id:e.id,bytes:e.bytes},{dcID:o,noErrorBox:!0}).then(function(){u.resolve()},function(e){u.reject(e)})},function(e){u.reject(e)}),y[o]=u.promise}y[o].then(function(){(c=i).wrapApiCall(t,n,r).then(function(e){d.resolve(e)},h)},h)}else if(303==a.code){var g=a.type.match(/^(PHONE_MIGRATE_|NETWORK_MIGRATE_|USER_MIGRATE_)(\d+)/)[2];g!=o&&(r.dcID?r.dcID=g:e.set({dc:b=g}),p(g,r).then(function(e){e.wrapApiCall(t,n,r).then(function(e){d.resolve(e)},h)}))}else h(a)})};return(o=r.dcID||b)?p(o,r).then(_,h):e.get("dc").then(function(e){p(o=e||2,r).then(_,h)}),d.promise}function h(){return e.get("user_auth").then(function(e){return l(e&&e.id>0||!1),e.id||0})}function g(){return b||!1}var f,_={},v={},y={},b=!1;return r.start(),e.get("dc").then(function(e){e&&(b=e)}),{getBaseDcID:g,getUserID:h,invokeApi:m,getNetworker:p,setUserAuth:d,logOut:u}}]).factory("MtpApiFileManager",["MtpApiManager","$q","FileManager","IdbFileStorage","TmpfsFileStorage","MemoryFileStorage",function(e,t,n,r,i,a){function o(e,n,r){void 0===y[e]&&(y[e]=[],b[e]=0);var i=y[e],a=t.defer();return i.push({cb:n,deferred:a,activeDelta:r}),setZeroTimeout(function(){s(e)}),a.promise}function s(e){var t=y[e],n="upload"==e?11:5;if(b[e]>=n||!t||!t.length)return!1;var r=t.shift(),i=r.activeDelta||1;b[e]+=i;w++;r.cb().then(function(t){b[e]-=i,s(e),r.deferred.resolve(t)},function(t){b[e]-=i,s(e),r.deferred.reject(t)})}function c(e){switch(e._){case"inputVideoFileLocation":return"video"+e.id+".mp4";case"inputDocumentFileLocation":return"doc"+e.id;case"inputAudioFileLocation":return"audio"+e.id}return e.volume_id||console.trace("Empty location",e),e.volume_id+"_"+e.local_id+"_"+e.secret+".jpg"}function l(e){if(!e)return!1;var t=c(e);return v[t]||!1}function d(){return i.isAvailable()?i:r.isAvailable()?r:a}function u(e,t){var n=c(e);return f[n]||(f[n]=d().saveFile(n,t).then(function(e){return v[n]=e})),f[n]}function p(r){if(!n.isAvailable())return t.reject({type:"BROWSER_BLOB_NOT_SUPPORTED"});var i=c(r),a="image/jpeg",s=f[i]||_[i];if(s)return s;var l=d();return _[i]=l.getFile(i).then(function(e){return v[i]=e},function(){var t=o(r.dc_id,function(){var t=r;return t._&&"fileLocation"!=t._||(t=angular.extend({},r,{_:"inputFileLocation"})),e.invokeApi("upload.getFile",{location:t,offset:0,limit:1048576},{dcID:r.dc_id,fileDownload:!0,createNetworker:!0})});return l.getFileWriter(i,a).then(function(e){return t.then(function(t){return n.write(e,t.bytes).then(function(){return v[i]=e.finalize()})})})})}function m(e,t){var n=d(),r=c(e);return n.getFile(r,t)}function h(r,i,a,s){if(!n.isAvailable())return t.reject({type:"BROWSER_BLOB_NOT_SUPPORTED"});s=s||{};var l=c(i),u=s.toFileEntry||null,p=f[l]||_[l],m=d();if(p)return u?p.then(function(e){return n.copy(e,u)}):p;var h,g=t.defer(),y=!1,b=!1,w=s.mime||"image/jpeg",k=function(e){g.reject(e),k=angular.noop,!h||e&&"DOWNLOAD_CANCELED"==e.type||h.truncate(0)};return m.getFile(l,a).then(function(e){u?n.copy(e,u).then(function(){g.resolve()},k):g.resolve(v[l]=e)},function(){var s=u?n.getFileWriter(u):m.getFileWriter(l,w);s.then(function(s){h=s;var c,d,p=524288,m=0,f=t.when();if(s.length){if(m=s.length,m>=a)return void(u?g.resolve():g.resolve(v[l]=s.finalize()));s.seek(m),g.notify({done:m,total:a})}for(c=m;a>c;c+=p)d=t.defer(),function(c,d,m,h){return o(r,function(){return y?t.when():e.invokeApi("upload.getFile",{location:i,offset:d,limit:p},{dcID:r,fileDownload:!0,singleInRequest:void 0!==window.safari,createNetworker:!0})},2).then(function(e){h.then(function(){return y?t.when():n.write(s,e.bytes).then(function(){m.resolve()},k).then(function(){c?(b=!0,u?g.resolve():g.resolve(v[l]=s.finalize())):g.notify({done:d+p,total:a})})})})}(c+p>=a,c,d,f),f=d.promise})}),g.promise.cancel=function(){y||b||(y=!0,delete _[l],k({type:"DOWNLOAD_CANCELED"}))},u||(_[l]=g.promise),g.promise}function g(n){var r=n.size,i=r>=10485760,a=!1,s=!1,c=0,l=262144,d=2;r>67108864?(l=524288,d=4):102400>r&&(l=32768,d=1);var u=Math.ceil(r/l);if(u>3e3)return t.reject({type:"FILE_TOO_BIG"});var p,m=[nextRandomInt(4294967295),nextRandomInt(4294967295)],h=t.defer(),g=function(e){h.reject(e),a=!0,g=angular.noop},f=0,_={_:i?"inputFileBig":"inputFile",id:m,parts:u,name:n.name,md5_checksum:""};for(p=0;r>p;p+=l)!function(p,f){o("upload",function(){var o=t.defer(),d=new FileReader,v=n.slice(p,p+l);return d.onloadend=function(t){return a?void o.reject():void(t.target.readyState==FileReader.DONE&&e.invokeApi(i?"upload.saveBigFilePart":"upload.saveFilePart",{file_id:m,file_part:f,file_total_parts:u,bytes:t.target.result},{startMaxLength:l+256,fileUpload:!0,singleInRequest:!0}).then(function(e){c++,o.resolve(),c>=u?(h.resolve(_),s=!0):(console.log(dT(),"Progress",c*l/r),h.notify({done:c*l,total:r}))},g))},d.readAsArrayBuffer(v),o.promise},d)}(p,f++);return h.promise.cancel=function(){console.log("cancel upload",a,s),a||s||(a=!0,g({type:"UPLOAD_CANCELED"}))},h.promise}var f={},_={},v={},y={},b={},w=0;return{getCachedFile:l,getDownloadedFile:m,downloadFile:h,downloadSmallFile:p,saveSmallFile:u,uploadFile:g}}]).service("MtpSingleInstanceService",["_","$rootScope","$interval","Storage","AppRuntimeManager","IdleManager","ErrorService","MtpNetworkerFactory",function(e,t,n,r,i,a,o,s){function c(){if(!p&&!Config.Navigator.mobile&&!Config.Modes.packed){p=!0,a.start(),h=tsNow(),t.$watch("idle.isIDLE",d),n(d,5e3),d();try{$($window).on("beforeunload",l)}catch(e){}}}function l(){r.remove(m?"xt_instance":"xt_idle_instance")}function d(){var n=tsNow(),i=t.idle&&t.idle.isIDLE,a={id:u,idle:i,time:n};r.get("xt_instance","xt_idle_instance").then(function(t){var c=t[0],l=t[1];!c||c.time<n-6e4||c.id==u||c.idle||!i?(l&&(l.id==u?r.remove("xt_idle_instance"):l.time>n-1e4&&n>g&&(o.alert(e("error_modal_warning_title_raw"),e("error_modal_multiple_open_tabs_raw")),g+=tsNow()+6e4)),r.set({xt_instance:a}),m||s.startAll(),m=!0):(r.set({xt_idle_instance:a}),m&&s.stopAll(),m=!1)})}var u=nextRandomInt(4294967295),p=!1,m=!1,h=tsNow(),g=0;return{start:c}}]),angular.module("myApp",["ngRoute","ngSanitize","ngTouch","ui.bootstrap","mediaPlayer","izhukov.utils","izhukov.mtproto","izhukov.mtproto.wrapper","myApp.filters","myApp.services","myApp.templates","myApp.directives","myApp.controllers"]).config(["$locationProvider","$routeProvider","$compileProvider","StorageProvider",function(e,t,n,r){n.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|blob|filesystem|chrome-extension|app):|data:image\//),n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|file|tg|mailto|blob|filesystem|chrome-extension|app):|data:/),Config.Modes.test&&r.setPrefix("t_"),t.when("/",{templateUrl:templateUrl("welcome"),controller:"AppWelcomeController"}),t.when("/login",{templateUrl:templateUrl("login"),controller:"AppLoginController"}),t.when("/im",{templateUrl:templateUrl("im"),controller:"AppIMController",reloadOnSearch:!1}),t.otherwise({redirectTo:"/"})}]),angular.module("myApp.services",["myApp.i18n","izhukov.utils"]).service("AppUsersManager",["$rootScope","$modal","$modalStack","$filter","$q","qSync","MtpApiFileManager","MtpApiManager","RichTextProcessor","ErrorService","Storage","_",function(e,t,n,r,i,a,o,s,c,l,d,u){function p(){return O?O:O=s.invokeApi("contacts.getContacts",{hash:""}).then(function(e){var t,n;L=[],_(e.users);for(var n=0;n<e.contacts.length;n++)t=e.contacts[n].user_id,L.push(t),SearchIndexManager.indexObject(t,m(t),j);return L})}function m(e){var t=B[e];return t?(t.first_name||"")+" "+(t.last_name||"")+" "+(t.phone||"")+" "+(t.username||""):!1}function h(e){return p().then(function(t){if(angular.isString(e)&&e.length){for(var n=SearchIndexManager.search(e,j),r=[],i=0;i<t.length;i++)n[t[i]]&&r.push(t[i]);t=r}return t})}function g(e){return e&&e.toLowerCase()||""}function f(e){var t=g(e),n=F[t];return n&&g(B[n].username)==t?a.when(n):s.invokeApi("contacts.resolveUsername",{username:e}).then(function(e){return v(e),e.id})}function _(e){angular.forEach(e,v)}function v(t,n){if(angular.isObject(t)&&!(n&&angular.isObject(B[t.id])&&B[t.id].first_name)){var i=t.id;t.phone&&(t.rPhone=r("phoneNumber")(t.phone)),t.num=Math.abs(i)%8+1,t.first_name?(t.rFirstName=c.wrapRichText(t.first_name,{noLinks:!0,noLinebreaks:!0}),t.rFullName=t.last_name?c.wrapRichText(t.first_name+" "+(t.last_name||""),{noLinks:!0,noLinebreaks:!0}):t.rFirstName):(t.rFirstName=c.wrapRichText(t.last_name,{noLinks:!0,noLinebreaks:!0})||t.rPhone||u("user_first_name_deleted"),t.rFullName=c.wrapRichText(t.last_name,{noLinks:!0,noLinebreaks:!0})||t.rPhone||u("user_name_deleted")),t.username&&(F[g(t.username)]=i),t.sortName=SearchIndexManager.cleanSearchText(t.first_name+" "+(t.last_name||""));var a=t.sortName.split(" "),o=a.shift(),s=a.pop();t.initials=o.charAt(0)+(s?s.charAt(0):o.charAt(1)),t.sortStatus=y(t.status);var l=B[i];void 0===l?l=B[i]=t:safeReplaceObject(l,t),e.$broadcast("user_update",i),void 0!==q[i]&&safeReplaceObject(q[i],t&&t.photo&&t.photo.photo_small||{empty:!0})}}function y(e){if(e){var t=e.expires||e.was_online;if(t)return t;{tsNow(!0)+H}switch(e._){case"userStatusRecently":return tsNow(!0)+H-259200;case"userStatusLastWeek":return tsNow(!0)+H-604800;case"userStatusLastMonth":return tsNow(!0)+H-2592e3}}return 0}function b(e){return angular.isObject(e)?e:B[e]||{id:e,deleted:!0,num:1}}function w(){return b(R)}function k(e){return angular.isObject(B[e])}function $(e,t){var n=b(e);return 333e3==e?{placeholder:"img/placeholders/DialogListAvatarSystem@2x.png"}:(void 0===q[e]&&(q[e]=n&&n.photo&&n.photo.photo_small||{empty:!0}),{num:n.num,placeholder:"img/placeholders/"+t+"Avatar"+n.num+"@2x.png",location:q[e]})}function S(e){var t=b(e);return"u"+e+(t.access_hash?"_"+t.access_hash:"")}function C(e){var t=b(e);return"userSelf"==t._?{_:"inputUserSelf"}:{_:"inputUserForeign",user_id:e,access_hash:t.access_hash||0}}function M(){var t=tsNow(!0)+H;angular.forEach(B,function(n){n.status&&"userStatusOnline"==n.status._&&n.status.expires<t&&(n.status=n.status.wasStatus||{_:"userStatusOffline",was_online:n.status.expires},delete n.status.wasStatus,e.$broadcast("user_update",n.id))})}function A(t){var n=b(t);if(n&&n.status&&"userStatusOnline"!=n.status._&&"userStatusEmpty"!=n.status._){var r;"userStatusOffline"!=n.status._&&(delete n.status.wasStatus,r!=angular.copy(n.status)),n.status={_:"userStatusOnline",expires:tsNow(!0)+H+60,wasStatus:r},n.sortStatus=y(n.status),e.$broadcast("user_update",t)}}function x(e){var t=b(e);return t}function E(n,r){var i=e.$new();i.userID=n,i.override=r||{};t.open({templateUrl:templateUrl("user_modal"),controller:"UserModalController",scope:i,windowClass:"user_modal_window mobile_modal",backdrop:"single"})}function T(e,t,n){return s.invokeApi("contacts.importContacts",{contacts:[{_:"inputPhoneContact",client_id:"1",phone:e,first_name:t,last_name:n}],replace:!1}).then(function(e){_(e.users);var t=!1;return angular.forEach(e.imported,function(e){P(t=e.user_id,!0)}),t||!1})}function I(e){var t,n,r=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].phones.length;n++)r.push({_:"inputPhoneContact",client_id:(t<<16|n).toString(10),phone:e[t].phones[n],first_name:e[t].first_name,last_name:e[t].last_name});return s.invokeApi("contacts.importContacts",{contacts:r,replace:!1}).then(function(e){_(e.users);var t=[];return angular.forEach(e.imported,function(e){P(e.user_id,!0),t.push(e.user_id)}),t})}function D(e){var t=[];return angular.forEach(e,function(e){t.push({_:"inputUserContact",user_id:e})}),s.invokeApi("contacts.deleteContacts",{id:t}).then(function(){angular.forEach(e,function(e){P(e,!1)})})}function P(t,n){if(angular.isArray(L)){var r=i=L.indexOf(parseInt(t)),i=-1!=r;n!=i&&(n?(L.push(t),SearchIndexManager.indexObject(t,m(t),j)):L.splice(r,1),e.$broadcast("contacts_update",t))}}function N(){return t.open({templateUrl:templateUrl("import_contact_modal"),controller:"ImportContactModalController",windowClass:"md_simple_modal_window mobile_modal"}).result.then(function(e){return e?e:i.reject()})}function U(t,n){var r=B[t];if(r){var i=n?{_:"userStatusOffline",was_online:tsNow(!0)+H}:{_:"userStatusOnline",expires:tsNow(!0)+H+500};r.status=i,r.sortStatus=y(r.status),e.$broadcast("user_update",t)}}var O,L,R,B={},F={},q={},j=SearchIndexManager.createIndex(),H=0;return d.get("server_time_offset").then(function(e){e&&(H=e)}),s.getUserID().then(function(e){R=e}),e.$on("apiUpdate",function(t,n){switch(n._){case"updateUserStatus":var r=n.user_id,i=B[r];i&&(i.status=n.status,i.sortStatus=y(i.status),e.$broadcast("user_update",r));break;case"updateUserPhoto":
var r=n.user_id;B[r]&&(A(r),safeReplaceObject(B[r].photo,n.photo),void 0!==q[r]&&safeReplaceObject(q[r],n.photo&&n.photo.photo_small||{empty:!0}),e.$broadcast("user_update",r));break;case"updateContactLink":P(n.user_id,"contactLinkContact"==n.my_link._)}}),setInterval(M,6e4),{getContacts:h,saveApiUsers:_,saveApiUser:v,getUser:b,getSelf:w,getUserInput:C,setUserStatus:U,forceUserOnline:A,getUserPhoto:$,getUserString:S,getUserSearchText:m,hasUser:k,importContact:T,importContacts:I,deleteContacts:D,wrapForFull:x,openUser:E,resolveUsername:f,openImportContact:N}}]).service("PhonebookContactsService",["$q","$modal","$sce","FileManager",function(e,t,n,r){function i(){if(Config.Mobile&&Config.Navigator.ffos&&Config.Modes.packed)try{return navigator.mozContacts&&navigator.mozContacts.getAll}catch(e){return console.error(dT(),"phonebook n/a",e),!1}return!1}function a(){return t.open({templateUrl:templateUrl("phonebook_modal"),controller:"PhonebookModalController",windowClass:"phonebook_modal_window mobile_modal"})}function o(){try{var t=window.navigator.mozContacts.getAll({})}catch(i){return e.reject(i)}var a=e.defer(),o=[],s=0;return t.onsuccess=function(){if(this.result){var e={id:s,first_name:(this.result.givenName||[]).join(" "),last_name:(this.result.familyName||[]).join(" "),phones:[]};if(void 0!=this.result.tel)for(var t=0;t<this.result.tel.length;t++)e.phones.push(this.result.tel[t].value);if(this.result.photo&&this.result.photo[0])try{e.photo=r.getUrl(this.result.photo[0])}catch(i){}e.photo||(e.photo="img/placeholders/UserAvatar"+(Math.abs(s)%8+1)+"@2x.png"),e.photo=n.trustAsResourceUrl(e.photo),s++,o.push(e)}return!this.result||s>=1e3?void a.resolve(o):void this["continue"]()},t.onerror=function(e){console.log("phonebook error",e,e.type,e.message),a.reject(e)},a.promise}return{isAvailable:i,openPhonebookImport:a,getPhonebookContacts:o}}]).service("AppChatsManager",["$q","$rootScope","$modal","_","MtpApiFileManager","MtpApiManager","AppUsersManager","AppPhotosManager","RichTextProcessor",function(e,t,n,r,i,a,o,s,c){function l(e){angular.forEach(e,d)}function d(e){if(angular.isObject(e)){e.rTitle=c.wrapRichText(e.title,{noLinks:!0,noLinebreaks:!0})||r("chat_title_deleted");var n=SearchIndexManager.cleanSearchText(e.title||"").split(" "),i=n.shift(),a=n.pop();e.initials=i.charAt(0)+(a?a.charAt(0):i.charAt(1)),e.num=Math.abs(e.id>>1)%(Config.Mobile?4:8)+1,void 0===y[e.id]?y[e.id]=e:(safeReplaceObject(y[e.id],e),t.$broadcast("chat_update",e.id)),void 0!==k[e.id]&&safeReplaceObject(k[e.id],e&&e.photo&&e.photo.photo_small||{empty:!0})}}function u(e){return y[e]||{id:e,deleted:!0}}function p(n){return void 0===b[n]||y[n].version!=b[n].participants.version&&!y[n].left?void 0!==w[n]?w[n]:w[n]=a.invokeApi("messages.getFullChat",{chat_id:n}).then(function(e){return l(e.chats),o.saveApiUsers(e.users),e.full_chat&&e.full_chat.chat_photo.id&&s.savePhoto(e.full_chat.chat_photo),delete w[n],t.$broadcast("chat_full_update",n),b[n]=e.full_chat}):e.when(b[n])}function m(e,t){return p(e).then(function(n){return!t&&n.exported_invite&&"chatInviteExported"==n.exported_invite._?n.exported_invite.link:a.invokeApi("messages.exportChatInvite",{chat_id:e}).then(function(t){return void 0!==b[e]&&(b[e].exported_invite=t),t.link})})}function h(e){return angular.isObject(y[e])}function g(e,t){var n=u(e);return void 0===k[e]&&(k[e]=n&&n.photo&&n.photo.photo_small||{empty:!0}),{placeholder:"img/placeholders/"+t+"Avatar"+(Config.Mobile?n.num:Math.ceil(n.num/2))+"@2x.png",location:k[e]}}function f(e){u(e);return"g"+e}function _(e,t){var n=angular.copy(t),r=u(e);return n.participants&&"chatParticipants"==n.participants._&&a.getUserID().then(function(e){n.isAdmin=e==n.participants.admin_id,angular.forEach(n.participants.participants,function(t){t.user=o.getUser(t.user_id),t.canLeave=e==t.user_id,t.canKick=!t.canLeave&&(n.isAdmin||e==t.inviter_id)})}),n.thumb={placeholder:"img/placeholders/GroupAvatar"+(Config.Mobile?r.num:Math.ceil(r.num/2))+"@2x.png",location:r&&r.photo&&r.photo.photo_small,width:72,height:72,size:0},n.peerString=f(e),n.chat=r,n}function v(e,r){var i=t.$new();i.chatID=e;n.open({templateUrl:templateUrl("chat_modal"),controller:"ChatModalController",scope:i,windowClass:"chat_modal_window mobile_modal"})}var y={},b={},w={},k={};return t.$on("apiUpdate",function(e,n){switch(n._){case"updateChatParticipants":var r=n.participants,i=b[r.id];void 0!==i&&(i.participants=n.participants,t.$broadcast("chat_full_update",chatID));break;case"updateChatParticipantAdd":var i=b[n.chat_id];if(void 0!==i){for(var r=i.participants.participants||[],a=0,o=r.length;o>a;a++)if(r[a].user_id==n.user_id)return;r.push({_:"chatParticipant",user_id:n.user_id,inviter_id:n.inviter_id,date:tsNow(!0)}),i.participants.version=n.version,t.$broadcast("chat_full_update",n.chat_id)}break;case"updateChatParticipantDelete":var i=b[n.chat_id];if(void 0!==i)for(var r=i.participants.participants||[],a=0,o=r.length;o>a;a++)if(r[a].user_id==n.user_id)return r.splice(a,1),i.participants.version=n.version,void t.$broadcast("chat_full_update",n.chat_id)}}),{saveApiChats:l,saveApiChat:d,getChat:u,getChatFull:p,getChatPhoto:g,getChatString:f,getChatInviteLink:m,hasChat:h,wrapForFull:_,openChat:v}}]).service("AppPeersManager",["AppUsersManager","AppChatsManager","MtpApiManager",function(e,t,n){return{getInputPeer:function(e){var t="u"==e.charAt(0),n=e.substr(1).split("_");return t?{_:"inputPeerForeign",user_id:n[0],access_hash:n[1]}:{_:"inputPeerChat",chat_id:n[0]}},getInputPeerByID:function(t){return t>0?{_:"inputPeerForeign",user_id:t,access_hash:e.getUser(t).access_hash||0}:0>t?{_:"inputPeerChat",chat_id:-t}:void 0},getPeerSearchText:function(n){var r;if(n>0)r=e.getUserSearchText(n);else if(0>n){var i=t.getChat(-n);r=i.title||""}return r},getPeerString:function(n){return n>0?e.getUserString(n):t.getChatString(-n)},getOutputPeer:function(e){return e>0?{_:"peerUser",user_id:e}:{_:"peerChat",chat_id:-e}},getPeerID:function(e){if(angular.isObject(e))return e.user_id?e.user_id:-e.chat_id;var t="u"==e.charAt(0),n=e.substr(1).split("_");return t?n[0]:-n[0]||0},getPeer:function(n){return n>0?e.getUser(n):t.getChat(-n)},getPeerPhoto:function(n,r,i){return n>0?e.getUserPhoto(n,r):t.getChatPhoto(-n,i)}}}]).service("AppMessagesManager",["$q","$rootScope","$location","$filter","$timeout","$sce","ApiUpdatesManager","AppUsersManager","AppChatsManager","AppPeersManager","AppPhotosManager","AppVideoManager","AppDocsManager","AppAudioManager","AppWebPagesManager","MtpApiManager","MtpApiFileManager","RichTextProcessor","NotificationsManager","PeersSelectService","Storage","FileManager","TelegramMeWebService","ErrorService","StatusManager","_",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,_,v,y,b,w,k,$,S,C){function M(t,n,r){var i=se;if(angular.isString(t)&&t.length){if(!r||he.query!==t){he.query=t;var a=SearchIndexManager.search(t,me);he.dialogs=[],angular.forEach(se.dialogs,function(e){a[e.peerID]&&he.dialogs.push(e)}),he.count=he.dialogs.length}i=he}else he.query=!1;var o=0;if(n>0)for(o=0;o<i.dialogs.length&&!(n>i.dialogs[o].top_message);o++);return null!==i.count&&i.dialogs.length==i.count||i.dialogs.length>=o+(r||1)?e.when({count:i.count,dialogs:i.dialogs.slice(o,o+(r||20))}):(r=r||20,g.invokeApi("messages.getDialogs",{offset:o,limit:r,max_id:n||0}).then(function(e){if(k.setAuthorized(!0),s.saveApiUsers(e.users),c.saveApiChats(e.chats),L(e.messages),n>0)for(o=0;o<i.dialogs.length&&!(n>i.dialogs[o].top_message);o++);return i.count=e.count||e.dialogs.length,!n&&i.dialogs.length&&X(i.dialogs[0].top_message),i.dialogs.splice(o,i.dialogs.length-o),angular.forEach(e.dialogs,function(e){var t=l.getPeerID(e.peer),n=l.getPeerSearchText(t);if(SearchIndexManager.indexObject(t,n,me),i.dialogs.push({peerID:t,top_message:e.top_message,unread_count:e.unread_count}),void 0===oe[t]&&(oe[t]={count:null,history:[e.top_message],pending:[]}),v.savePeerSettings(t,e.notify_settings),e.unread_count>0&&$e&&e.top_message>$e){var r=I(e.top_message),a=16&r.flags?r.from_id:t;r.unread&&!r.out&&v.getPeerMuted(a).then(function(e){e||J(r)})}}),{count:i.count,dialogs:i.dialogs.slice(o,o+r)}}))}function A(e,t,n,r){return g.invokeApi("messages.getHistory",{peer:e,offset:r||0,limit:n||0,max_id:t||0},{noErrorBox:!0}).then(function(e){return s.saveApiUsers(e.users),c.saveApiChats(e.chats),L(e.messages),e})}function x(e,t,n,r){return A(e,t,n).then(function(i){r.count=i.count||i.messages.length;var a=0;if(!t&&i.messages.length&&(t=i.messages[0].id+1),t>0)for(a=0;a<r.history.length&&!(t>r.history[a]);a++);return r.history.splice(a,r.history.length-a),angular.forEach(i.messages,function(e){r.history.push(e.id)}),n-=i.messages.length,n>0&&r.history.length<r.count?(t=r.history[r.history.length-1],x(e,t,n,r)):!0})}function E(t,n,r,i,a){var o=l.getPeerID(t),s=oe[o],c=0,d=!1,u=!1,p=!1;if(a=a?Math.min(50,a):0,void 0===s&&(s=oe[o]={count:null,history:[],pending:[]}),r||n){if(n>0)for(d=!0,c=0;c<s.history.length;c++)if(n>s.history[c]){d=!1;break}}else{var m=Z(o);if(m&&m[0]&&m[0].unread_count>1){var h=m[0].unread_count;(p=h>50)?(r=20,u=16,c=h-u):(r=Math.max(10,a,h+2),u=h)}else Config.Mobile&&(r=20)}if(!d&&(null!==s.count&&s.history.length==s.count||s.history.length>=c+(r||1))){i?(i=Math.min(c,i),c=Math.max(0,c-i),r+=i):r=r||(c?20:a||5);var g=s.history.slice(c,c+r);return!n&&s.pending.length&&(g=s.pending.slice().concat(g)),e.when({count:s.count,history:g,unreadOffset:u,unreadSkip:p})}return i||r||(r=a||20),d&&(c=0),i||p||n&&-1==s.history.indexOf(n)?(i&&(c=-i,r+=i),A(t,n,r,c).then(function(e){s.count=e.count||e.messages.length;var t=[];return angular.forEach(e.messages,function(e){t.push(e.id)}),!n&&s.pending.length&&(t=s.pending.slice().concat(t)),{count:s.count,history:t,unreadOffset:u,unreadSkip:p}})):x(t,n,r,s).then(function(){if(c=0,n>0)for(c=0;c<s.history.length&&!(n>s.history[c]);c++);var e=s.history.slice(c,c+r);return!n&&s.pending.length&&(e=s.pending.slice().concat(e)),{count:s.count,history:e,unreadOffset:u,unreadSkip:p}})}function T(t,n,r,i,a){var o=[],d=!n,u=l.getPeerID(t),p={peer:u,filter:r},m=d&&angular.equals(ge,p);if(d&&!m&&(ge=p,fe=[]),!i&&!n){var h=oe[u];if(void 0!==h&&h.history.length){var f,_,v={},y=a||20;switch(r._){case"inputMessagesFilterPhotos":v.messageMediaPhoto=!0;break;case"inputMessagesFilterVideo":v.messageMediaVideo=!0;break;case"inputMessagesFilterPhotoVideo":v.messageMediaPhoto=!0,v.messageMediaVideo=!0;break;case"inputMessagesFilterDocument":v.messageMediaDocument=!0;break;case"inputMessagesFilterAudio":v.messageMediaAudio=!0}for(f=0;f<h.history.length&&(_=re[h.history[f]],!(_.media&&v[_.media._]&&(o.push(_.id),o.length>=y)));f++);}if(o.length<y&&fe.length&&m)for(var b=o.length?o[o.length-1]:4294967295,f=0;f<fe.length&&!(fe[f]<b&&(o.push(fe[f]),o.length>=y));f++);}return o.length||1e3==a?(d&&(fe=listMergeSorted(fe,o)),e.when({count:null,history:o})):g.invokeApi("messages.search",{peer:t,q:n||"",filter:r||{_:"inputMessagesFilterEmpty"},min_date:0,max_date:0,limit:a||20,max_id:i||0}).then(function(e){s.saveApiUsers(e.users),c.saveApiChats(e.chats),L(e.messages);var t=e.count||e.messages.length;return o=[],angular.forEach(e.messages,function(e){o.push(e.id)}),d&&(fe=listMergeSorted(fe,o)),{count:t,history:o}},function(t){return 400==t.code&&(t.handled=!0),e.reject(t)})}function I(e){return re[e]||{deleted:!0}}function D(e){return g.invokeApi("messages.deleteMessages",{id:e}).then(function(t){return o.processUpdateMessage({_:"updateShort",update:{_:"updateDeleteMessages",messages:e,pts:t.pts,pts_count:t.pts_count}}),e})}function P(t,n,r){return o.processUpdateMessage({_:"updateShort",update:{_:"updatePts",pts:n.pts,pts_count:n.pts_count}}),n.offset?g.invokeApi(r,{peer:t,offset:n.offset,max_id:0}).then(function(e){return P(t,e,r)}):e.when()}function N(e){var n=l.getPeerID(e),r=oe[n],i=Z(n);if(!i[0]||!i[0].unread_count){if(!r||!r.history.length)return!1;var a,o,s=!1;for(c=r.history.length;c>=0;c--)if(a=r.history[c],o=re[a],o&&!o.out&&o.unread){s=!0;break}if(!s)return!1}if(r.readPromise)return r.readPromise;if(r.readPromise=g.invokeApi("messages.readHistory",{peer:e,offset:0,max_id:0}).then(function(t){return P(e,t,"messages.readHistory")}).then(function(){i[0]&&(i[0].unread_count=0,t.$broadcast("dialog_unread",{peerID:n,count:0}),t.$broadcast("messages_read"))})["finally"](function(){delete r.readPromise}),r&&r.history.length){var a,o,c,n,i;for(c=0;c<r.history.length;c++)a=r.history[c],o=re[a],o&&!o.out&&(o.unread=!1,ie[a]&&(ie[a].unread=!1),ae[a]&&(ae[a].unread=!1),v.cancel("msg"+a))}return v.soundReset(l.getPeerString(n)),r.readPromise}function U(e){g.invokeApi("messages.readMessageContents",{id:e}).then(function(t){o.processUpdateMessage({_:"updateShort",update:{_:"updateReadMessagesContents",messages:e,pts:t.pts,pts_count:t.pts_count}})})}function O(e){{var n=l.getPeerID(e);oe[n]}return g.invokeApi("messages.deleteHistory",{peer:e,offset:0}).then(function(t){return P(e,t,"messages.deleteHistory")}).then(function(){var e=Z(n);e[0]&&se.dialogs.splice(e[1],1),delete oe[n],t.$broadcast("dialog_flush",{peerID:n})})}function L(e){angular.forEach(e,function(e){if(e.unread=1&e.flags?!0:!1,e.out=2&e.flags?!0:!1,e.media_unread=32&e.flags?!0:!1,re[e.id]=e,e.date-=ye,e.media)switch(e.media._){case"messageMediaEmpty":delete e.media;break;case"messageMediaPhoto":d.savePhoto(e.media.photo);break;case"messageMediaVideo":u.saveVideo(e.media.video);break;case"messageMediaDocument":p.saveDoc(e.media.document);break;case"messageMediaAudio":m.saveAudio(e.media.audio);break;case"messageMediaWebPage":h.saveWebPage(e.media.webpage,e.id)}e.action&&"messageActionChatEditPhoto"==e.action._&&d.savePhoto(e.action.photo)})}function R(e,n,r){if(angular.isString(n)&&n.length){r=r||{};var i,a=pe--,s=[nextRandomInt(4294967295),nextRandomInt(4294967295)],c=bigint(s[0]).shiftLeft(32).add(bigint(s[1])).toString(),d=oe[e],u=l.getInputPeerByID(e),p=0,m=r.replyToMsgID;void 0===d&&(d=oe[e]={count:null,history:[],pending:[]}),g.getUserID().then(function(r){e!=r&&(p|=3),m&&(p|=8),i={_:"message",id:a,from_id:r,to_id:l.getOutputPeer(e),flags:p,date:tsNow(!0)+ye,message:n,random_id:c,reply_to_msg_id:m,pending:!0};var h=function(e){var n=ie[a];e?(i.error=!0,n&&(n.error=!0)):(delete i.error,n&&delete n.error),t.$broadcast("messages_pending")};i.send=function(){h(!1);var t={};de[e]&&(t.afterMessageID=de[e].messageID);var r=0;m&&(r|=1),g.invokeApi("messages.sendMessage",{flags:r,peer:u,message:n,random_id:s,reply_to_msg_id:m},t).then(function(e){i.date=e.date,i.id=e.id,i.media=e.media,o.processUpdateMessage({_:"updates",users:[],chats:[],seq:0,updates:[{_:"updateMessageID",random_id:c,id:e.id},{_:"updateNewMessage",message:i,pts:e.pts,pts_count:e.pts_count}]})},function(e){h(!0)})["finally"](function(){de[e]===t&&delete de[e]}),de[e]=t},L([i]),d.pending.unshift(a),t.$broadcast("history_append",{peerID:e,messageID:a,my:!0}),i.send()}),ce[c]=[e,a]}}function B(n,r,i){i=i||{};var a,s,c=pe--,d=[nextRandomInt(4294967295),nextRandomInt(4294967295)],u=bigint(d[0]).shiftLeft(32).add(bigint(d[1])).toString(),p=oe[n],m=l.getInputPeerByID(n),h=0,_=i.replyToMsgID;i.isMedia?["image/jpeg","image/png","image/bmp"].indexOf(r.type)>=0?(a="photo",s="photo."+r.type.split("/")[1]):"audio/"==r.type.substr(0,6)||["video/ogg"].indexOf(r.type)>=0?(a="audio",s="audio."+("ogg"==r.type.split("/")[1]?"ogg":"mp3")):"video/"==r.type.substr(0,6)?(a="video",s="video.mp4"):(a="document",s="document."+r.type.split("/")[1]):(a="document",s="document."+r.type.split("/")[1]),void 0===p&&(p=oe[n]={count:null,history:[],pending:[]}),g.getUserID().then(function(i){n!=i&&(h|=3),_&&(h|=8);var v,y={_:"messageMediaPending",type:a,file_name:r.name||s,size:r.size,progress:{percent:1,total:r.size}},b={_:"message",id:c,from_id:i,to_id:l.getOutputPeer(n),flags:h,date:tsNow(!0)+ye,message:"",media:y,random_id:u,reply_to_msg_id:_,pending:!0},w=function(e){var n=ie[c];e?(b.error=!0,n&&(n.error=!0)):(delete b.error,n&&delete n.error),t.$broadcast("messages_pending")},k=!1;b.send=function(){var i=e.defer();ue.then(function(){(!k||b.error)&&(k=!1,v=f.uploadFile(r)),v.then(function(e){e.name=s,k=!0;var t;switch(a){case"photo":t={_:"inputMediaUploadedPhoto",file:e};break;case"video":t={_:"inputMediaUploadedVideo",file:e,duration:0,w:0,h:0,mime_type:r.type};break;case"audio":t={_:"inputMediaUploadedAudio",file:e,duration:0,mime_type:r.type};break;case"document":default:t={_:"inputMediaUploadedDocument",file:e,mime_type:r.type,attributes:[{_:"documentAttributeFilename",file_name:r.name}]}}var n=0;_&&(n|=1),g.invokeApi("messages.sendMedia",{flags:n,peer:m,media:t,random_id:d,reply_to_msg_id:_}).then(function(e){o.processUpdateMessage(e)},function(e){return"photo"==a&&400==e.code&&"PHOTO_INVALID_DIMENSIONS"==e.type?(e.handled=!0,a="document",void b.send()):void w(!0)})},function(e){w(!0)},function(e){y.progress.done=e.done,y.progress.percent=Math.max(1,Math.floor(100*e.done/e.total)),t.$broadcast("history_update",{peerID:n})}),y.progress.cancel=function(){k||(i.resolve(),v.cancel(),j(u))},v["finally"](function(){i.resolve()})}),ue=i.promise},L([b]),p.pending.unshift(c),t.$broadcast("history_append",{peerID:n,messageID:c,my:!0}),b.send()}),ce[u]=[n,c]}function F(e,n,r){r=r||{};var i=pe--,a=[nextRandomInt(4294967295),nextRandomInt(4294967295)],s=bigint(a[0]).shiftLeft(32).add(bigint(a[1])).toString(),c=oe[e],u=l.getInputPeerByID(e),m=r.replyToMsgID;void 0===c&&(c=oe[e]={count:null,history:[],pending:[]}),g.getUserID().then(function(r){var h;switch(n._){case"inputMediaContact":h=angular.extend({},n,{_:"messageMediaContact"});break;case"inputMediaPhoto":h={_:"messageMediaPhoto",photo:d.getPhoto(n.id.id)};break;case"inputMediaDocument":h={_:"messageMediaDocument",document:p.getDoc(n.id.id)}}var f={_:"message",id:i,from_id:r,to_id:l.getOutputPeer(e),flags:e==r?0:3,date:tsNow(!0)+ye,message:"",media:h,random_id:s,pending:!0},_=function(e){var n=ie[i];e?(f.error=!0,n&&(n.error=!0)):(delete f.error,n&&delete n.error),t.$broadcast("messages_pending")};f.send=function(){var e=0;m&&(e|=1),g.invokeApi("messages.sendMedia",{flags:e,peer:u,media:n,random_id:a,reply_to_msg_id:m}).then(function(e){o.processUpdateMessage(e)},function(e){_(!0)})},L([f]),c.pending.unshift(i),t.$broadcast("history_append",{peerID:e,messageID:i,my:!0}),f.send()}),ce[s]=[e,i]}function q(e,t){t=t.sort();for(var n,r=[],n=(t.length,0);n<t.length;n++)r.push([nextRandomInt(4294967295),nextRandomInt(4294967295)]);return g.invokeApi("messages.forwardMessages",{peer:l.getInputPeerByID(e),id:t,random_id:r}).then(function(e){o.processUpdateMessage(e)})}function j(e){var t=ce[e];if(console.log("pending",e,t),t){var n=t[0],r=t[1],i=oe[n],a=i.pending.indexOf(r);return o.processUpdateMessage({_:"updateShort",update:{_:"updateDeleteMessages",messages:[r]}}),-1!=a&&i.pending.splice(a,1),delete ie[r],delete re[r],!0}return!1}function H(e,n){var r=ce[e];if(r){var i,a,o=r[0],s=r[1],c=oe[o],l=c.pending.indexOf(s);return-1!=l&&c.pending.splice(l,1),(i=re[s])&&(delete i.pending,delete i.error,delete i.random_id,delete i.send),(a=ie[s])&&(ie[n.id]=angular.extend(a,G(n.id)),delete a.pending,delete a.error,delete a.random_id,delete a.send,t.$broadcast("messages_pending")),delete ie[s],delete re[s],i}return!1}function z(e){return g.invokeApi("messages.checkChatInvite",{hash:e}).then(function(n){var r;if("chatInviteAlready"==n._){if(c.saveApiChat(n.chat),!n.chat.left)return t.$broadcast("history_focus",{peerString:c.getChatString(n.chat.id)});r=n.chat.title}else r=n.title;$.confirm({type:"JOIN_GROUP_BY_LINK",title:r}).then(function(){return g.invokeApi("messages.importChatInvite",{hash:e}).then(function(e){if(o.processUpdateMessage(e),e.updates&&e.updates.length)for(var n,r=0,i=e.updates.length;i>r;r++)if(n=e.updates[r],"updateNewMessage"==n._){t.$broadcast("history_focus",{peerString:c.getChatString(n.message.to_id.chat_id)});break}})})})}function V(e){var t=e.to_id&&l.getPeerID(e.to_id)||0;return 0>t?t:e.out||2&e.flags?t:e.from_id}function W(e,t){var n=-1!=t;if(n&&void 0!==ae[e])return ae[e];var r=angular.copy(re[e]);return r&&r.to_id?((r.chatID=r.to_id.chat_id)?(r.peerID=-r.chatID,r.peerData=c.getChat(r.chatID)):(r.peerID=r.out?r.to_id.user_id:r.from_id,r.peerData=s.getUser(r.peerID)),r.peerString=l.getPeerString(r.peerID),r.peerPhoto=l.getPeerPhoto(r.peerID,"User","Group"),r.unreadCount=t,"messageService"==r._&&r.action.user_id&&(r.action.user=s.getUser(r.action.user_id)),r.message&&r.message.length&&(r.richMessage=_.wrapRichText(r.message.substr(0,64),{noLinks:!0,noLinebreaks:!0})),r.dateText=Se(r.date),n&&(ae[e]=r),r):r}function G(e){if(void 0!==ie[e])return ie[e];var t=angular.copy(re[e])||{id:e};if(t.media&&void 0!==t.media.progress&&(t.media.progress=re[e].media.progress),t.media)switch(t.media.caption&&t.media.caption.length&&(t.media.rCaption=_.wrapRichText(t.media.caption)),t.media._){case"messageMediaPhoto":t.media.photo=d.wrapForHistory(t.media.photo.id);break;case"messageMediaVideo":t.media.video=u.wrapForHistory(t.media.video.id);break;case"messageMediaDocument":t.media.document=p.wrapForHistory(t.media.document.id);break;case"messageMediaAudio":t.media.audio=m.wrapForHistory(t.media.audio.id);break;case"messageMediaGeo":var n="https://maps.google.com/?q="+t.media.geo.lat+","+t.media.geo["long"];t.media.mapUrl=a.trustAsResourceUrl(n);break;case"messageMediaVenue":var n;n="foursquare"==t.media.provider&&t.media.venue_id?"https://foursquare.com/v/"+encodeURIComponent(t.media.venue_id):"https://maps.google.com/?q="+t.media.geo.lat+","+t.media.geo["long"],t.media.mapUrl=a.trustAsResourceUrl(n);break;case"messageMediaContact":t.media.rFullName=_.wrapRichText(t.media.first_name+" "+(t.media.last_name||""),{noLinks:!0,noLinebreaks:!0});break;case"messageMediaWebPage":if(!t.media.webpage||"webPageEmpty"==t.media.webpage._||Config.Mobile){delete t.media;break}t.media.webpage=h.wrapForHistory(t.media.webpage.id)}else if(t.action)switch(t.action._){case"messageActionChatEditPhoto":t.action.photo=d.wrapForHistory(t.action.photo.id);break;case"messageActionChatCreate":case"messageActionChatEditTitle":t.action.rTitle=_.wrapRichText(t.action.title,{noLinks:!0,noLinebreaks:!0})||C("chat_title_deleted")}var r=t.reply_to_msg_id;if(r&&(re[r]?t.reply_to_msg=W(r):(t.reply_to_msg={id:r,loading:!0},-1==_e.indexOf(r)&&(_e.push(r),ve===!1&&(ve=setTimeout(K,100))))),t.message&&t.message.length){var i={};if(Config.Navigator.mobile||(i.extractUrlEmbed=!0),16&t.flags){var o=s.getSelf();o&&(i.highlightUsername=o.username)}t.richMessage=_.wrapRichText(t.message,i),i.extractedUrlEmbed&&(t.richUrlEmbed=i.extractedUrlEmbed)}return ie[e]=t}function K(){if(ve!==!1&&(clearTimeout(ve),ve=!1),_e.length){var e=_e.slice();_e=[],g.invokeApi("messages.getMessages",{id:e}).then(function(n){s.saveApiUsers(n.users),c.saveApiChats(n.chats),L(n.messages),t.$broadcast("messages_downloaded",e)})}}function Y(e,t){if(!e||!e.length)return!1;var n,r,i,a,o,s,c,l=0,d=e.length,u=d,p=!1,m=!Config.Mobile;for(t>0?u=Math.min(t,d):0>t&&(l=Math.max(0,u+t)),n=l;u>n;n++){if(a=e[n],r=Math.floor((a.date+ne)/86400),c=o&&o.grouped,s=a.grouped,r===i?a.needDate&&(delete a.needDate,p=!0):(!n||o)&&(a.needDate||(a.needDate=!0,p=!0)),a.fwd_from_id&&a.media&&a.media.document&&a.media.document.sticker&&(a.from_id!=(o||{}).from_id||!(o||{}).fwd_from_id)&&(delete a.fwd_from_id,a._="message"),o&&a.from_id==o.from_id&&!o.fwd_from_id==!a.fwd_from_id&&!o.action&&!a.action&&a.date<o.date+900){var h=a.message&&a.message.length<70&&-1==a.message.indexOf("\n")&&!a.reply_to_msg_id;a.grouped=m&&a.fwd_from_id&&a.fwd_from_id==o.fwd_from_id?h?"im_grouped_fwd_short":"im_grouped_fwd":!a.fwd_from_id&&h?"im_grouped_short":"im_grouped",m&&a.fwd_from_id&&(o.grouped||(o.grouped="im_grouped_fwd_start"),a.grouped&&n==d-1&&(a.grouped+=" im_grouped_fwd_end"))}else(o||!n)&&(delete a.grouped,m&&o&&o.grouped&&o.fwd_from_id&&(o.grouped+=" im_grouped_fwd_end"));p||c==(o&&o.grouped)||(p=!0),o=a,i=r}return p||s==(o&&o.grouped)||(p=!0),p}function Z(e){for(var t=0;t<se.dialogs.length;t++)if(se.dialogs[t].peerID==e)return[se.dialogs[t],t];return[]}function X(e){$e!==!1&&e&&e>$e&&b.set({max_seen_msg:e})}function J(e,n){n=n||{};var r,i,a=V(e),o=s.getUser(e.from_id),l=s.getUserPhoto(e.from_id,"User"),d={},u=!1,p=v.getNotifySettings();if(e.fwd_from_id&&n.fwd_count)u=Ce(n.fwd_count);else if(e.message)u=p.nopreview?C("conversation_message_sent"):_.wrapPlainText(e.message);else if(e.media)switch(e.media._){case"messageMediaPhoto":u=C("conversation_media_photo_raw");break;case"messageMediaVideo":u=C("conversation_media_video_raw");break;case"messageMediaDocument":if(e.media.document.sticker){u=C("conversation_media_sticker");var m=e.media.document.stickerEmojiRaw;void 0!==m&&(u=_.wrapPlainText(m)+" ("+u+")")}else u=e.media.document.file_name||C("conversation_media_document_raw");break;case"messageMediaAudio":u=C("conversation_media_audio_raw");break;case"messageMediaGeo":case"messageMediaVenue":u=C("conversation_media_location_raw");break;case"messageMediaContact":u=C("conversation_media_contact_raw");break;default:u=C("conversation_media_attachment_raw")}else if("messageService"==e._)switch(e.action._){case"messageActionChatCreate":u=C("conversation_group_created_raw");break;case"messageActionChatEditTitle":u=C("conversation_group_renamed_raw");break;case"messageActionChatEditPhoto":u=C("conversation_group_photo_updated_raw");break;case"messageActionChatDeletePhoto":u=C("conversation_group_photo_removed_raw");break;case"messageActionChatAddUser":u=C(e.action.user_id==e.from_id?"conversation_returned_to_group":"conversation_invited_user_message_raw");break;case"messageActionChatDeleteUser":u=C(e.action.user_id==e.from_id?"conversation_left_group":"conversation_kicked_user_message_raw");break;case"messageActionChatJoinedByLink":u=C("conversation_joined_by_link")}a>0?(d.title=(o.first_name||"")+(o.first_name&&o.last_name?" ":"")+(o.last_name||""),d.title||(d.title=o.phone||C("conversation_unknown_user_raw")),i=l,r=s.getUserString(a)):(d.title=(o.first_name||o.last_name||C("conversation_unknown_user_raw"))+" @ "+(c.getChat(-a).title||C("conversation_unknown_chat_raw")),i=c.getChatPhoto(-a,"Group"),r=c.getChatString(-a)),d.title=_.wrapPlainText(d.title),d.onclick=function(){t.$broadcast("history_focus",{peerString:r,messageID:16&e.flags?e.id:0})},d.message=u,d.image=i.placeholder,d.key="msg"+e.id,d.tag=r,i.location&&!i.location.empty?f.downloadSmallFile(i.location,i.size).then(function(t){d.image=w.getUrl(t,"image/jpeg"),e.unread&&v.notify(d)}):v.notify(d)}function Q(){i.cancel(Me),Me=!1,t.$broadcast("history_multiappend",Ae),Ae={}}function ee(){i.cancel(xe),xe=!1,t.$broadcast("dialogs_multiupdate",Ee),Ee={}}function te(){i.cancel(Te),Te=!1;var e=t.idle.isIDLE&&S.isOtherDeviceActive()?3e4:1e3;angular.forEach(Ie,function(t){t.isMutedPromise.then(function(n){var r=t.top_message;!n&&r.unread&&setTimeout(function(){r.unread&&J(r,{fwd_count:t.fwd_count})},e)})}),Ie={}}var ne,re={},ie={},ae={},oe={},se={count:null,dialogs:[]},ce={},le={},de={},ue=e.when(),pe=-1,me=SearchIndexManager.createIndex(),he={query:!1},ge={},fe=[],_e=[],ve=!1,ye=0,be=tsNow(!0),we=be-be%86400,ke=new Date;b.get("server_time_offset").then(function(e){e&&(ye=e)});var $e=!1;Config.Modes.packed&&b.get("max_seen_msg").then(function(e){$e=e||0});var Se=r("dateOrTime"),Ce=C.pluralize("conversation_forwarded_X_messages");ke.setHours(0),ke.setMinutes(0),ke.setSeconds(0),ne=we-Math.floor(+ke/1e3),v.start(),window.navigator.mozSetMessageHandler&&window.navigator.mozSetMessageHandler("activity",function(e){var n=e.source;console.log(dT(),"Received activity",n.name,n.data),"share"===n.name&&n.data.blobs.length>0&&y.selectPeers({confirm_type:"EXT_SHARE_PEER"}).then(function(e){angular.forEach(e,function(e){var t=l.getPeerID(e);angular.forEach(n.data.blobs,function(e){B(t,e,{isMedia:!0})})}),1==e.length&&t.$broadcast("history_focus",{peerString:e[0]})})});var Me=!1,Ae={},xe=!1,Ee={},Te=!1,Ie={};return t.$on("apiUpdate",function(e,n){switch(n._){case"updateMessageID":le[n.id]=n.random_id;break;case"updateNewMessage":var r=n.message,a=V(r),o=oe[a];if(void 0!==o){var c=o.history;if(-1!=c.indexOf(r.id))return!1;var d=c[0];c.unshift(r.id),r.id>0&&r.id<d&&c.sort(function(e,t){return t-e}),null!==o.count&&o.count++}else o=oe[a]={count:null,history:[r.id],pending:[]};L([r]),r.out||s.forceUserOnline(r.from_id);var u,p=le[r.id];p&&((u=H(p,r))&&t.$broadcast("history_update",{peerID:a}),delete le[r.id]),u||(void 0===Ae[a]&&(Ae[a]=[]),Ae[a].push(r.id),Me||(Me=i(Q,0)));var m,h=Z(a),g=!r.out&&r.unread;if(h.length?(m=h[0],h[1]>0&&(se.dialogs.splice(h[1],1),se.dialogs.unshift(m)),m.top_message=r.id,g&&m.unread_count++):(SearchIndexManager.indexObject(a,l.getPeerSearchText(a),me),m={peerID:a,unread_count:g?1:0,top_message:r.id},se.dialogs.unshift(m)),Ee[a]=m,xe||(xe=i(ee,0)),g&&(t.selectedPeerID!=a||t.idle.isIDLE)){var f=16&r.flags?r.from_id:a,_=Ie[f];void 0===_&&(_=Ie[f]={isMutedPromise:v.getPeerMuted(f),fwd_count:0,from_id:0}),_.from_id!=r.from_id&&(_.from_id=r.from_id,_.fwd_count=0),r.fwd_from_id&&_.fwd_count++,_.top_message=r,Te||(Te=i(te,1e3))}X(r.id);break;case"updateReadHistoryInbox":case"updateReadHistoryOutbox":var y,r,b,w=n.max_id,k="updateReadHistoryOutbox"==n._,a=l.getPeerID(n.peer),h=Z(a),c=(oe[a]||{}).history||[],$=!1,S=c.length,C=!1;for(a>0&&k&&s.forceUserOnline(a),b=0;S>b;b++)if(y=c[b],!(y>w)&&(r=re[y],r.out==k)){if(!r.unread)break;r&&r.unread&&(r.unread=!1,ie[y]&&(ie[y].unread=!1,C||(C=!0)),ae[y]&&(ae[y].unread=!1),r.out||(h&&($=--h[0].unread_count),v.cancel("msg"+y)))}$!==!1&&t.$broadcast("dialog_unread",{peerID:a,count:$}),C&&t.$broadcast("messages_read");break;case"updateReadMessagesContents":var b,y,r,M,A=n.messages,x=A.length;for(b=0;x>b;b++)y=A[b],(r=re[y])&&delete r.media_unread,(M=ie[y])&&delete M.media_unread;break;case"updateDeleteMessages":var y,r,b,a,h,c,E={};for(b=0;b<n.messages.length;b++)y=n.messages[b],r=re[y],r&&(a=V(r),c=E[a]||(E[a]={count:0,unread:0,msgs:{}}),!r.out&&r.unread&&(c.unread++,v.cancel("msg"+y)),c.count++,c.msgs[y]=!0,ie[y]&&(ie[y].deleted=!0,delete ie[y]),ae[y]&&(ae[y].deleted=!0,delete ae[y]),r.deleted=!0,re[y]={deleted:!0,id:y,from_id:r.from_id,to_id:r.to_id,flags:r.flags,out:r.out,unread:r.unread,date:r.date});angular.forEach(E,function(e,n){var r=Z(n);r&&e.unread&&(r[0].unread_count-=e.unread,t.$broadcast("dialog_unread",{peerID:n,count:r[0].unread_count}));var i=oe[n];if(void 0!==i){for(var a=[],o=[],s=0;s<i.history.length;s++)e.msgs[i.history[s]]||a.push(i.history[s]);i.history=a;for(var s=0;s<i.pending.length;s++)e.msgs[i.pending[s]]||o.push(i.pending[s]);i.pending=o,t.$broadcast("history_delete",{peerID:n,msgs:e.msgs})}})}}),t.$on("webpage_updated",function(e,t){angular.forEach(t.msgs,function(e){var n=ie[e];n&&(n.media={_:"messageMediaWebPage",webpage:h.wrapForHistory(t.id)})})}),{getDialogs:M,getHistory:E,getSearch:T,getMessage:I,readHistory:N,readMessages:U,flushHistory:O,deleteMessages:D,saveMessages:L,sendText:R,sendFile:B,sendOther:F,forwardMessages:q,openChatInviteLink:z,getMessagePeer:V,wrapForDialog:W,wrapForHistory:G,regroupWrappedHistory:Y}}]).service("AppPhotosManager",["$modal","$window","$rootScope","MtpApiManager","MtpApiFileManager","AppUsersManager","FileManager",function(e,t,n,r,i,a,o){function s(e){f[e.id]=e,angular.forEach(e.sizes,function(e){"photoCachedSize"==e._&&(i.saveSmallFile(e.location,e.bytes),e.size=e.bytes.length,delete e.bytes,e._="photoSize")})}function c(e,t,n){Config.Navigator.retina&&(t*=2,n*=2);var r={_:"photoSizeEmpty"},i=16777215;return angular.forEach(e.sizes,function(e){var a=Math.abs(e.w*e.h-t*n);i>a&&(r=e,i=a)}),r}function l(e,t,n){return r.invokeApi("photos.getUserPhotos",{user_id:e,offset:0,limit:n||20,max_id:t||0}).then(function(e){a.saveApiUsers(e.users);for(var t=[],n=0;n<e.photos.length;n++)s(e.photos[n]),t.push(e.photos[n].id);return{count:e.count||e.photos.length,photos:t}})}function d(e){if(f[e]){var n=f[e],r=$(window).width()-(Config.Mobile?20:32),a=$(t).height()-(Config.Mobile?150:116);r>800&&(r-=208);var o=c(n,r,a);o&&!o.preloaded&&(o.preloaded=!0,
o.size?i.downloadFile(o.location.dc_id,{_:"inputFileLocation",volume_id:o.location.volume_id,local_id:o.location.local_id,secret:o.location.secret},o.size):i.downloadSmallFile(o.location))}}function u(e){return f[e]||{_:"photoEmpty"}}function p(e,t){t=t||{};var n=angular.copy(f[e])||{_:"photoEmpty"},r=t.website?100:Math.min(_-80,Config.Mobile?210:260),i=t.website?100:Math.min(v-100,Config.Mobile?210:260),a=c(n,r,i),o={placeholder:"img/placeholders/PhotoThumbConversation.gif",width:r,height:i};if(a&&"photoSizeEmpty"!=a._){var s=calcImageInBox(a.w,a.h,r,i);o.width=s.w,o.height=s.h,o.location=a.location,o.size=a.size}else o.width=100,o.height=100;return n.thumb=o,n}function m(e){var n=p(e),r=$(window).width()-(Config.Mobile?0:32),i=$(t).height()-(Config.Mobile?0:116);!Config.Mobile&&r>800&&(r-=208);var a=c(n,r,i),o={placeholder:"img/placeholders/PhotoThumbModal.gif"};if(o.width=r,o.height=i,a&&"photoSizeEmpty"!=a._){var s=calcImageInBox(a.w,a.h,r,i,!0);o.width=s.w,o.height=s.h,o.modalWidth=Math.max(o.width,Math.min(400,r)),o.location=a.location,o.size=a.size}return n.full=o,n}function h(t,r){if(!t||"0"===t)return!1;var i=n.$new(!0);i.photoID=t;var a="PhotoModalController";r&&r.p>0?(a="UserpicModalController",i.userID=r.p):r&&r.p<0?(a="ChatpicModalController",i.chatID=-r.p):r&&r.m>0&&(i.messageID=r.m,r.w&&(i.webpageID=r.w));e.open({templateUrl:templateUrl("photo_modal"),windowTemplateUrl:templateUrl("media_modal_layout"),controller:a,scope:i,windowClass:"photo_modal_window"})}function g(e){var n=f[e],r="jpg",a="image/jpeg",s="photo"+e+"."+r,l=Math.max(screen.width||0,$(window).width()-36,800),d=Math.max(screen.height||0,$(t).height()-150,800),u=c(n,l,d),p={_:"inputFileLocation",volume_id:u.location.volume_id,local_id:u.location.local_id,secret:u.location.secret};o.chooseSave(s,r,a).then(function(e){e&&i.downloadFile(u.location.dc_id,p,u.size,{mime:a,toFileEntry:e}).then(function(){},function(e){console.log("photo download failed",e)})},function(){var e=i.getCachedFile(p);return e?o.download(e,a,s):void i.downloadFile(u.location.dc_id,p,u.size,{mime:a}).then(function(e){o.download(e,a,s)},function(e){console.log("photo download failed",e)})})}var f={},_=$(window).width(),v=$(window).height();return n.preloadPhoto=d,n.openPhoto=h,{savePhoto:s,preloadPhoto:d,getUserPhotos:l,getPhoto:u,choosePhotoSize:c,wrapForHistory:p,wrapForFull:m,openPhoto:h,downloadPhoto:g}}]).service("AppWebPagesManager",["$modal","$sce","$window","$rootScope","MtpApiManager","AppPhotosManager","RichTextProcessor",function(e,t,n,r,i,a,o){function s(e,t){e.photo&&"photo"===e.photo._?a.savePhoto(e.photo):delete e.photo,e.rTitle=o.wrapRichText(e.title||e.author,{noLinks:!0,noLinebreaks:!0});var n="";if("GitHub"==e.site_name){var i=e.url.match(/(https?:\/\/github\.com\/[^\/]+\/[^\/]+)/);i&&(n=i[0]+"/issues/{1}")}if(e.rDescription=o.wrapRichText(e.description,{contextSite:e.site_name||"external",contextHashtag:n}),t&&(void 0===p[e.id]&&(p[e.id]={}),p[e.id][t]=!0,u[e.id]=e),void 0===u[e.id]?u[e.id]=e:safeReplaceObject(u[e.id],e),!t&&void 0!==p[e.id]){var s=[];angular.forEach(p[e.id],function(e,t){s.push(t)}),r.$broadcast("webpage_updated",{id:e.id,msgs:s})}}function c(t,n){var i=r.$new(!0);i.webpageID=t,i.messageID=n,e.open({templateUrl:templateUrl("embed_modal"),windowTemplateUrl:templateUrl("media_modal_layout"),controller:"EmbedModalController",scope:i,windowClass:"photo_modal_window"})}function l(e){var t=angular.copy(u[e])||{_:"webPageEmpty"};return t.photo&&t.photo.id&&(t.photo=a.wrapForHistory(t.photo.id,{website:"photo"!=t.type&&"video"!=t.type})),t}function d(e){var r=l(e);if(!r.embed_url)return r;var i=$(window).width()-(Config.Mobile?0:10),a=$(n).height()-(Config.Mobile?92:150);!Config.Mobile&&i>800&&(i-=208);var o={width:i,height:a};if(r.embed_width&&r.embed_height){var s=calcImageInBox(r.embed_width,r.embed_height,i,a);o.width=s.w,o.height=s.h}else o.height=o.width=Math.min(i,a);var c=Config.Modes.chrome_packed?"webview":"iframe",d="iframe"!=r.embed_type?r.embed_type||"text/html":"text/html",u="<"+c+' src="'+encodeEntities(r.embed_url)+'" type="'+encodeEntities(d)+'" frameborder="0" border="0" webkitallowfullscreen mozallowfullscreen allowfullscreen width="'+o.width+'" height="'+o.height+'" style="width: '+o.width+"px; height: "+o.height+'px;"></'+c+">";return o.html=t.trustAs("html",u),r.full=o,r}var u={},p={};return r.$on("apiUpdate",function(e,t){switch(t._){case"updateWebPage":s(t.webpage)}}),{saveWebPage:s,openEmbed:c,wrapForFull:d,wrapForHistory:l}}]).service("AppVideoManager",["$sce","$rootScope","$modal","$window","MtpApiFileManager","AppUsersManager","FileManager","qSync",function(e,t,n,r,i,a,o,s){function c(e){g[e.id]=e,e.thumb&&"photoCachedSize"==e.thumb._&&(i.saveSmallFile(e.thumb.location,e.thumb.bytes),e.thumb.size=e.thumb.bytes.length,delete e.thumb.bytes,e.thumb._="photoSize")}function l(e){if(void 0!==f[e])return f[e];var t=angular.copy(g[e]),n=Math.min(_-80,Config.Mobile?210:150),r=Math.min(v-100,Config.Mobile?210:150),i=t.thumb,a={placeholder:"img/placeholders/VideoThumbConversation.gif",width:n,height:r};return i&&"photoSizeEmpty"!=i._&&(i.w/i.h>n/r?a.height=parseInt(i.h*n/i.w):(a.width=parseInt(i.w*r/i.h),a.width>n&&(a.height=parseInt(a.height*n/a.width),a.width=n)),a.location=i.location,a.size=i.size),t.thumb=a,f[e]=t}function d(e){var t=l(e),n=Math.min($(window).width()-(Config.Mobile?0:60),542),i=$(r).height()-(Config.Mobile?92:150),a={placeholder:"img/placeholders/VideoThumbModal.gif",width:n,height:i};if(t.w&&t.h){var o=calcImageInBox(t.w,t.h,n,i);a.width=o.w,a.height=o.h}else a.height=a.width=Math.min(n,i);return t.full=a,t.fullThumb=angular.copy(t.thumb),t.fullThumb.width=a.width,t.fullThumb.height=a.height,t}function u(e,r){var i=t.$new(!0);return i.videoID=e,i.messageID=r,n.open({templateUrl:templateUrl("video_modal"),windowTemplateUrl:templateUrl("media_modal_layout"),controller:"VideoModalController",scope:i,windowClass:"video_modal_window"})}function p(e){var t=g[e],n=f[e]||t||{},r={_:"inputVideoFileLocation",id:e,access_hash:t.access_hash};void 0===n.downloaded&&i.getDownloadedFile(r,t.size).then(function(){n.downloaded=!0},function(){n.downloaded=!1})}function m(n,r){var a=g[n],c=f[n]||a||{},l=a.mime_type||"video/ogg",d={_:"inputVideoFileLocation",id:n,access_hash:a.access_hash};if(c.downloaded&&!r){var u=i.getCachedFile(d);if(u)return s.when(u)}c.progress={enabled:!c.downloaded,percent:1,total:a.size};var p=i.downloadFile(a.dc_id,d,a.size,{mime:l,toFileEntry:r});return p.then(function(t){o.getFileCorrectUrl(t,l).then(function(t){c.url=e.trustAsResourceUrl(t)}),delete c.progress,c.downloaded=!0,console.log("video save done")},function(e){console.log("video download failed",e),c.progress.enabled=!1},function(e){console.log("dl progress",e),c.progress.enabled=!0,c.progress.done=e.done,c.progress.percent=Math.max(1,Math.floor(100*e.done/e.total)),t.$broadcast("history_update")}),c.progress.cancel=p.cancel,p}function h(e){{var t=g[e],n=t.mime_type||"video/mp4",r=n.split(".")[1]||"mp4",i="t_video"+e+"."+r;f[e]||t||{}}o.chooseSave(i,r,n).then(function(t){t&&m(e,t)},function(){m(e).then(function(e){o.download(e,n,i)})})}var g={},f={},_=$(window).width(),v=$(window).height();return{saveVideo:c,wrapForHistory:l,wrapForFull:d,openVideo:u,updateVideoDownloaded:p,downloadVideo:m,saveVideoFile:h}}]).service("AppDocsManager",["$sce","$rootScope","$modal","$window","$q","RichTextProcessor","MtpApiFileManager","FileManager","qSync",function(e,t,n,r,i,a,o,s,c){function l(e){f[e.id]=e,e.thumb&&"photoCachedSize"==e.thumb._&&(o.saveSmallFile(e.thumb.location,e.thumb.bytes),e.thumb.size=e.thumb.bytes.length,delete e.thumb.bytes,e.thumb._="photoSize"),angular.forEach(e.attributes,function(t){switch(t._){case"documentAttributeFilename":e.file_name=t.file_name;break;case"documentAttributeVideo":case"documentAttributeAudio":e.duration=t.duration;break;case"documentAttributeSticker":e.sticker=1,void 0!==t.alt&&(e.sticker=2,e.stickerEmojiRaw=t.alt,e.stickerEmoji=a.wrapRichText(e.stickerEmojiRaw,{noLinks:!0,noLinebreaks:!0})),t.stickerset&&"inputStickerSetID"==t.stickerset._&&(e.stickerSetID=t.stickerset.id);break;case"documentAttributeImageSize":e.w=t.w,e.h=t.h}}),e.file_name=e.file_name||""}function d(e){return f[e]||{_:"documentEmpty"}}function u(e){if(void 0!==_[e])return _[e];var t,n,r=angular.copy(f[e]),i="image/gif"==r.mime_type,a="image/"==r.mime_type.substr(0,6)&&r.sticker,o=r.thumb;i?(t=Math.min(v-80,260),n=Math.min(y-100,260)):a?(t=Math.min(v-80,Config.Mobile?128:192),n=Math.min(y-100,Config.Mobile?128:192)):t=n=100;var s={width:t,height:n};if(o&&"photoSizeEmpty"!=o._){var c=calcImageInBox(o.w,o.h,t,n);s.width=c.w,s.height=c.h,s.location=o.location,s.size=o.size}else if(a){var c=calcImageInBox(r.w,r.h,t,n);s.width=c.w,s.height=c.h}else s=!1;return r.thumb=s,r.withPreview=!Config.Mobile&&r.mime_type.match(/^(image\/)/)?1:0,i&&r.thumb?r.isSpecial="gif":a?r.isSpecial="sticker":"audio/"==r.mime_type.substr(0,6)&&(r.isSpecial="audio"),_[e]=r}function p(e){var t=f[e],n=_[e]||t||{},r={_:"inputDocumentFileLocation",id:e,access_hash:t.access_hash};void 0===n.downloaded&&o.getDownloadedFile(r,t.size).then(function(){n.downloaded=!0},function(){n.downloaded=!1})}function m(n,r){var i=f[n],a=_[n]||i||{},l={_:"inputDocumentFileLocation",id:n,access_hash:i.access_hash};if(a.downloaded&&!r){var d=o.getCachedFile(l);if(d)return c.when(d)}a.progress={enabled:!a.downloaded,percent:1,total:i.size};var u=o.downloadFile(i.dc_id,l,i.size,{mime:i.mime_type||"application/octet-stream",toFileEntry:r});return u.then(function(t){delete a.progress,t&&(s.getFileCorrectUrl(t,i.mime_type).then(function(t){a.url=e.trustAsResourceUrl(t)}),a.downloaded=!0),console.log("file save done")},function(e){console.log("document download failed",e),a.progress.enabled=!1},function(e){console.log("dl progress",e),a.progress.enabled=!0,a.progress.done=e.done,a.progress.percent=Math.max(1,Math.floor(100*e.done/e.total)),t.$broadcast("history_update")}),a.progress.cancel=u.cancel,u}function h(e,r){var i=t.$new(!0);i.docID=e,i.messageID=r;n.open({templateUrl:templateUrl("document_modal"),windowTemplateUrl:templateUrl("media_modal_layout"),controller:"DocumentModalController",scope:i,windowClass:"document_modal_window"})}function g(e){var t=f[e],n=(_[e]||t||{},(t.file_name.split(".",2)||[])[1]||"");s.chooseSave(t.file_name,n,t.mime_type).then(function(t){t&&m(e,t)},function(){m(e).then(function(e){s.download(e,t.mime_type,t.file_name)})})}var f={},_={},v=$(window).width(),y=$(window).height();return{saveDoc:l,getDoc:d,wrapForHistory:u,updateDocDownloaded:p,downloadDoc:m,openDoc:h,saveDocFile:g}}]).service("AppAudioManager",["$sce","$rootScope","$modal","$window","MtpApiFileManager","FileManager","qSync",function(e,t,n,r,i,a,o){function s(e){p[e.id]=e}function c(e){if(void 0!==m[e])return m[e];var t=angular.copy(p[e]);return m[e]=t}function l(e){var t=p[e],n=m[e]||t||{},r={_:"inputAudioFileLocation",id:e,access_hash:t.access_hash};void 0===n.downloaded&&i.getDownloadedFile(r,t.size).then(function(){n.downloaded=!0},function(){n.downloaded=!1})}function d(n,r){var s=p[n],c=m[n]||s||{},l=s.mime_type||"audio/ogg",d={_:"inputAudioFileLocation",id:n,access_hash:s.access_hash};if(c.downloaded&&!r){var u=i.getCachedFile(d);if(u)return o.when(u)}c.progress={enabled:!c.downloaded,percent:1,total:s.size};var h=i.downloadFile(s.dc_id,d,s.size,{mime:l,toFileEntry:r});return h.then(function(t){a.getFileCorrectUrl(t,l).then(function(t){c.url=e.trustAsResourceUrl(t)}),delete c.progress,c.downloaded=!0,console.log("audio save done")},function(e){console.log("audio download failed",e),c.progress.enabled=!1},function(e){console.log("dl progress",e),c.progress.enabled=!0,c.progress.done=e.done,c.progress.percent=Math.max(1,Math.floor(100*e.done/e.total)),t.$broadcast("history_update")}),c.progress.cancel=h.cancel,h}function u(e){{var t=p[e],n=t.mime_type||"audio/ogg",r=n.split(".")[1]||"ogg",i="t_audio"+e+"."+r;m[e]||t||{}}a.chooseSave(i,r,n).then(function(t){t&&d(e,t)},function(){d(e).then(function(e){a.download(e,n,i)})})}var p={},m={};return{saveAudio:s,wrapForHistory:c,updateAudioDownloaded:l,downloadAudio:d,saveAudioFile:u}}]).service("AppStickersManager",["$q","$rootScope","$modal","_","FileManager","MtpApiManager","MtpApiFileManager","AppDocsManager","Storage",function(e,t,n,r,i,a,o,s,c){function l(){$||($=!0,setTimeout(p,1e3),setInterval(d,9e5))}function d(){p().then(h)}function u(e){if(k!==e.hash){k=e.hash;var t,n,r,i,a;for(n=e.documents.length,v=[],w={},t=0;n>t;t++)r=e.documents[t],s.saveDoc(r),v.push(r.id),i=r.stickerSetID||0,void 0===w[i]&&(w[i]=[]),w[i].push(r.id);for(y=[],void 0!==w[0]&&y.push({_:"stickerSetDefault",id:0,docIDs:w[0]}),n=e.sets.length,t=0;n>t;t++)a=e.sets[t],b[a.id]=!0,a.docIDs=w[a.id]||[],y.push(a)}return y}function p(e){return c.get("all_stickers").then(function(t){var n=Config.Schema.API.layer;return t.layer!=n&&(t=!1),t&&t.date>tsNow(!0)&&!e?u(t):a.invokeApi("messages.getAllStickers",{hash:t&&t.hash||""}).then(function(e){return"messages.allStickersNotModified"==e._&&(e=t),e.date=tsNow(!0)+3600,e.layer=n,delete e._,c.set({all_stickers:e}),u(e)})})}function m(e){var t=s.getDoc(e);return o.downloadSmallFile(t.thumb.location).then(function(e){return WebpManager.isWebpSupported()?{id:t.id,src:i.getUrl(e,"image/webp")}:i.getByteArray(e).then(function(e){return{id:t.id,src:WebpManager.getPngUrlFromData(e)}})})}function h(){var t=[];return angular.forEach(v,function(e){t.push(m(e))}),e.all(t)}function g(e){return a.invokeApi("messages.getStickerSet",{stickerset:e}).then(function(e){for(var t=0;t<e.documents.length;t++)s.saveDoc(e.documents[t]);return e.installed=void 0!==b[e.set.id],e})}function f(e,t){var n=t?"messages.uninstallStickerSet":"messages.installStickerSet",r={_:"inputStickerSetID",id:e.id,access_hash:e.access_hash};return a.invokeApi(n,{stickerset:r}).then(function(n){t?delete b[e.id]:b[e.id]=!0,p(!0)})}function _(e){var r=t.$new(!0);r.inputStickerset={_:"inputStickerSetShortName",short_name:e};n.open({templateUrl:templateUrl("stickerset_modal"),controller:"StickersetModalController",scope:r,windowClass:"stickerset_modal_window mobile_modal"})}var v=[],y=[],b={},w={},k=!1,$=!1;return{start:l,openStickersetLink:_,installStickerset:f,getStickers:p,getStickerset:g,getStickersImages:h}}]).service("ApiUpdatesManager",["$rootScope","MtpNetworkerFactory","AppUsersManager","AppChatsManager","AppPeersManager","MtpApiManager",function(e,t,n,r,i,a){function o(){var e=h.seq+1,t=v[e];if(!t)return!1;for(var n,r,i=t.updates,n=0,r=i.length;r>n;n++)p(i[n]);return h.seq=t.seq,t.date&&h.date<t.date&&(h.date=t.date),delete v[e],!o()&&f&&f.seqAwaiting&&h.seq>=f.seqAwaiting&&(f.ptsAwaiting?delete f.seqAwaiting:(clearTimeout(f.timeout),f=!1)),!0}function s(){if(!y.length)return!1;y.sort(function(e,t){return e.pts-t.pts});for(var e,t=h.pts,n=!1,r=!1,i=0,a=y.length;a>i;i++)e=y[i],t+=e.pts_count,t>=e.pts&&(n=e.pts,r=i);if(!n)return!1;for(h.pts=n,i=0;r>=i;i++)e=y[i],p(e);return y.splice(r,a-r),!y.length&&f&&(f.seqAwaiting?delete f.ptsAwaiting:(clearTimeout(f.timeout),f=!1)),!0}function c(){_||d()}function l(e){var t={date:e.date,seq:e.seq,seqStart:e.seq_start};switch(e._){case"updatesTooLong":case"new_session_created":c();break;case"updateShort":u(e.update,t);break;case"updateShortMessage":case"updateShortChatMessage":var a=2&e.flags,o=e.from_id||(a?g:e.user_id),s=e.chat_id?-e.chat_id:a?e.user_id:g;u({_:"updateNewMessage",message:{_:"message",flags:e.flags,id:e.id,from_id:o,to_id:i.getOutputPeer(s),date:e.date,message:e.message,fwd_from_id:e.fwd_from_id,fwd_date:e.fwd_date,reply_to_msg_id:e.reply_to_msg_id},pts:e.pts,pts_count:e.pts_count},t);break;case"updatesCombined":case"updates":n.saveApiUsers(e.users),r.saveApiChats(e.chats),angular.forEach(e.updates,function(e){u(e,t)});break;default:console.warn(dT(),"Unknown update message",e)}}function d(){_||(_=!0,v={},y=[]),f&&(clearTimeout(f.timeout),f=!1),a.invokeApi("updates.getDifference",{pts:h.pts,date:h.date,qts:-1}).then(function(t){if("updates.differenceEmpty"==t._)return console.log(dT(),"apply empty diff",t.seq),h.date=t.date,h.seq=t.seq,_=!1,e.$broadcast("stateSynchronized"),!1;n.saveApiUsers(t.users),r.saveApiChats(t.chats),angular.forEach(t.other_updates,function(e){p(e)}),angular.forEach(t.new_messages,function(e){p({_:"updateNewMessage",message:e,pts:h.pts,pts_count:0})});var i=t.intermediate_state||t.state;h.seq=i.seq,h.pts=i.pts,h.date=i.date,console.log(dT(),"apply diff",h.seq,h.pts),"updates.differenceSlice"==t._?d():(e.$broadcast("stateSynchronized"),_=!1)})}function u(e,t){if(_)return!1;if("updateNewMessage"==e._){var i=e.message;if(i.from_id&&!n.hasUser(i.from_id)||i.fwd_from_id&&!n.hasUser(i.fwd_from_id)||i.to_id.user_id&&!n.hasUser(i.to_id.user_id)||i.to_id.chat_id&&!r.hasChat(i.to_id.chat_id))return console.warn(dT(),"Short update not enough data",i),c(),!1}var a,l;if(e.pts){var u=h.pts+(e.pts_count||0);if(u<e.pts)return console.log(dT(),"Pts hole",h,e),y.push(e),f||(f={timeout:setTimeout(function(){d()},5e3)}),f.ptsAwaiting=!0,!1;h.pts=e.pts,a=!0}else if(t.seq>0){var m=t.seq,g=t.seqStart||m;if(g!=h.seq+1&&g>h.seq)return console.warn(dT(),"Seq hole",h,f&&f.seqAwaiting),void 0===v[g]&&(v[g]={seq:m,date:t.date,updates:[]}),v[g].updates.push(e),f||(f={timeout:setTimeout(function(){d()},5e3)}),(!f.seqAwaiting||f.seqAwaiting<g)&&(f.seqAwaiting=g),!1;h.seq!=m&&(h.seq=m,t.date&&h.date<t.date&&(h.date=t.date),l=!0)}p(e),a?s():l&&o()}function p(t){e.$broadcast("apiUpdate",t)}function m(){t.setUpdatesProcessor(l),a.invokeApi("updates.getState",{},{noErrorBox:!0}).then(function(e){h.seq=e.seq,h.pts=e.pts,h.date=e.date,setTimeout(function(){_=!1},1e3)})}var h={},g=0;a.getUserID().then(function(e){g=e});var f=!1,_=!0,v={},y=[];return{processUpdateMessage:l,attach:m}}]).service("RichTextProcessor",["$sce","$sanitize",function(e,t){function n(e){for(var t,n,r,i,a=0;a<Config.EmojiCategories.length;a++)if(i=Config.EmojiCategorySpritesheetDimens[a][1],t=Config.EmojiCategories[a].indexOf(e),t>-1)return n=Math.floor(t/i),r=t%i,{category:a,row:n,column:r};return console.error("emoji not found in spritesheet",e),null}function r(r,o){if(!r||!r.length)return"";o=o||{};for(var u,p,m,h,g=r,v=[],y=o.contextSite||"Telegram",b="Telegram"!=y,w=!1;u=g.match(f);){if(v.push(encodeEntities(g.substr(0,u.index))),u[3]){var k=!o.noLinks&&A[y];if(k){var $="";o.highlightUsername&&o.highlightUsername.toLowerCase()==u[3].toLowerCase()&&($='class="im_message_mymention"'),v.push(u[1],"<a ",$,b?' target="_blank" ':"",' href="',k.replace("{1}",encodeURIComponent(u[3])),'">',encodeEntities(u[2]+u[3]),"</a>")}else v.push(u[1],encodeEntities(u[2]+u[3]))}else if(u[4])if(o.noLinks)v.push(encodeEntities(u[0]));else if(_.test(u[4]))v.push('<a href="',encodeEntities("mailto:"+u[4]),'" target="_blank">',encodeEntities(u[4]),"</a>");else{var p=!1,S=u[5],C=u[6],x="";if(C){if(S||"xn--"!==C.substr(0,4)&&-1===Config.TLD.indexOf(C.toLowerCase())||(S="http://"),S){var E=i(u[4]);E.length!==u[4].length&&(x=u[4].substring(E.length),u[4]=E),p=(u[5]?"":S)+u[4]}var T;if("me"==C&&(T=p.match(/^https?:\/\/telegram\.me\/(.+)/))){var I=T[1].split("/");switch(I[0]){case"joinchat":p="tg://join?invite="+I[1];break;case"addstickers":p="tg://addstickers?set="+I[1];break;default:p="tg://resolve?domain="+I[0]}}}else p=(u[5]?"":"http://")+u[4];p?(v.push('<a href="',encodeEntities(p),'" target="_blank">',encodeEntities(u[4]),"</a>",x),o.extractUrlEmbed&&!o.extractedUrlEmbed&&(o.extractedUrlEmbed=a(p))):v.push(encodeEntities(u[0]))}else if(u[7])v.push(o.noLinebreaks?" ":"<br/>");else if(u[8])(s=c[u[8]])&&(h=n(s))?(m=encodeEntities(l[s][1][0]),w=!0,v.push('<span class="emoji emoji-',h.category,"-",d*h.column,"-",d*h.row,'" ','title="',m,'">',":",m,":</span>")):v.push(encodeEntities(u[8]));else if(u[10]){var k=!o.noLinks&&M[y]||o.contextHashtag;k?v.push(encodeEntities(u[9]),"<a ",b?' target="_blank" ':"",'href="',k.replace("{1}",encodeURIComponent(u[10].substr(1))),'">',encodeEntities(u[10]),"</a>"):v.push(encodeEntities(u[9]),encodeEntities(u[10]))}g=g.substr(u.index+u[0].length)}return v.push(encodeEntities(g)),r=t(v.join("")),w&&(r=r.replace(/\ufe0f|&#65039;|&#65533;|&#8205;/g,"",r),r=r.replace(/<span class="emoji emoji-(\d)-(\d+)-(\d+)"(.+?)<\/span>/g,'<span class="emoji emoji-spritesheet-$1" style="background-position: -$2px -$3px;" $4</span>')),e.trustAs("html",r)}function i(e){for(var t=e.length,n=e.split("(").length-1,r=e.split(")").length-1;r>n&&")"===e.charAt(t-1);)e=e.substr(0,t-1),r--,t--;return n>r&&(e=e.replace(/\)+$/,"")),e}function a(e){var t;if(t=e.match(v))return["youtube",t[1]];if(t=e.match(y))return["vimeo",t[1]];if(t=e.match(b))return["instagram",t[1]];if(t=e.match(w))return["vine",t[1]];if(t=e.match(S)){var n="explore,upload,pages,terms-of-use,mobile,jobs,imprint".split(","),r="sets".split(",");if(-1==n.indexOf(t[1])&&-1==r.indexOf(t[2]))return["soundcloud",t[0]]}else if(t=e.match(C))return["spotify",t[3].replace("/",":")];if(!Config.Modes.chrome_packed){if(t=e.match(k))return["twitter",t[0]];if(t=e.match($))return void 0!=t[2]?["facebook","https://www.facebook.com/"+t[2]+"/posts/"+t[1]]:["facebook",t[0]]}return!1}function o(e,t){if(u)return e;if(!e||!e.length)return"";t=t||{},e=e.replace(/\ufe0f/g,"",e);for(var n,r,i=e,e=[];n=i.match(f);)e.push(i.substr(0,n.index)),e.push(n[8]?(s=c[n[8]])&&(r=l[s][1][0])?":"+r+":":n[0]:n[0]),i=i.substr(n.index+n[0].length);return e.push(i),e.join("")}var s,c={},l=Config.Emoji,d=18,u=-1!=navigator.userAgent.search(/OS X|iPhone|iPad|iOS|Android/i),p="\\u0023\\u20E3|\\u00a9|\\u00ae|\\u203c|\\u2049|\\u2139|[\\u2194-\\u2199]|\\u21a9|\\u21aa|\\u231a|\\u231b|\\u23e9|[\\u23ea-\\u23ec]|\\u23f0|\\u24c2|\\u25aa|\\u25ab|\\u25b6|\\u2611|\\u2614|\\u26fd|\\u2705|\\u2709|[\\u2795-\\u2797]|\\u27a1|\\u27b0|\\u27bf|\\u2934|\\u2935|[\\u2b05-\\u2b07]|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u3030|\\u303d|\\u3297|\\u3299|[\\uE000-\\uF8FF\\u270A-\\u2764\\u2122\\u25C0\\u25FB-\\u25FE\\u2615\\u263a\\u2648-\\u2653\\u2660-\\u2668\\u267B\\u267F\\u2693\\u261d\\u26A0-\\u26FA\\u2708\\u2702\\u2601\\u260E]|[\\u2600\\u26C4\\u26BE\\u23F3\\u2764]|\\uD83D[\\uDC00-\\uDFFF]|\\uD83C[\\uDDE8-\\uDDFA]\\uD83C[\\uDDEA-\\uDDFA]|[0-9]\\u20e3|\\uD83C[\\uDC00-\\uDFFF]";for(s in l)c[l[s][0]]=s;var m="a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc",h="0-9_"+m,g="((?:https?|ftp)://|mailto:)?(?:\\S{1,64}(?::\\S{0,64})?@)?(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}|["+m+"0-9]["+m+"0-9-]{0,64}(?:\\.["+m+"0-9]["+m+"0-9-]{0,64}){0,10}(?:\\.(xn--[0-9a-z]{2,16}|["+m+"]{2,24})))(?::\\d{2,5})?(?:/(?:\\S{0,255}[^\\s.;,(\\[\\]{}<>\"'])?)?",f=new RegExp("(^|\\s)(@)([a-zA-Z\\d_]{5,32})|("+g+")|(\\n)|("+p+")|(^|\\s)(#["+h+"]{2,64})","i"),_=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,v=/^(?:https?:\/\/)?(?:www\.)?youtu(?:|\.be|be\.com|\.b)(?:\/v\/|\/watch\\?v=|e\/|(?:\/\??#)?\/watch(?:.+)v=)(.{11})(?:\&[^\s]*)?/,y=/^(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/,b=/^https?:\/\/(?:instagr\.am\/p\/|instagram\.com\/p\/)([a-zA-Z0-9\-\_]+)/i,w=/^https?:\/\/vine\.co\/v\/([a-zA-Z0-9\-\_]+)/i,k=/^https?:\/\/twitter\.com\/.+?\/status\/\d+/i,$=/^https?:\/\/(?:www\.|m\.)?facebook\.com\/(?:.+?\/posts\/\d+|(?:story\.php|permalink\.php)\?story_fbid=(\d+)(?:&substory_index=\d+)?&id=(\d+))/i,S=/^https?:\/\/(?:soundcloud\.com|snd\.sc)\/([a-zA-Z0-9%\-\_]+)\/([a-zA-Z0-9%\-\_]+)/i,C=/(https?:\/\/(open\.spotify\.com|play\.spotify\.com|spoti\.fi)\/(.+)|spotify:(.+))/i,M={Telegram:"#/im?q=%23{1}",Twitter:"https://twitter.com/hashtag/{1}",Instagram:"https://instagram.com/explore/tags/{1}/","Google Plus":"https://plus.google.com/explore/{1}"},A={Telegram:"#/im?p=%40{1}",Twitter:"https://twitter.com/{1}",Instagram:"https://instagram.com/{1}/",GitHub:"https://github.com/{1}"};return{wrapRichText:r,wrapPlainText:o}}]).service("StatusManager",["$timeout","$rootScope","MtpApiManager","AppUsersManager","IdleManager",function(e,t,n,r,i){function a(){u||(u=!0,t.$watch("idle.isIDLE",s),t.$watch("offline",s))}function o(e){var i=tsNow();if(!(e&&!d||!e&&5e4>i-d||t.offline))return d=e?0:i,r.setUserStatus(p,e),n.invokeApi("account.updateStatus",{offline:e},{noErrorBox:!0})}function s(){l&&e.cancel(l),t.idle.isIDLE?l=e(function(){o(!0)},5e3):(o(!1),l=e(s,6e4))}function c(){return m?tsNow()>m?(m=!1,!1):!0:!1}var l,d=0,u=!1,p=0,m=!1;return n.getUserID().then(function(e){p=e}),t.$on("apiUpdate",function(e,t){"updateUserStatus"==t._&&t.user_id==p&&(m=tsNow()+("userStatusOnline"==t.status._?3e5:0))}),{start:a,isOtherDeviceActive:c}}]).service("NotificationsManager",["$rootScope","$window","$interval","$q","_","MtpApiManager","AppPeersManager","IdleManager","Storage","AppRuntimeManager",function(e,t,n,r,i,a,o,s,c,l){function d(){c.get("notify_nodesktop","notify_volume","notify_novibrate","notify_nopreview").then(function(e){z.nodesktop=e[0],z.volume=e[1]===!1?.5:e[1],z.novibrate=e[2],z.nopreview=e[3]})}function u(){return z}function p(e){return void 0!==B[e]?B[e]:B[e]=a.invokeApi("account.getNotifySettings",{peer:{_:"inputNotifyPeer",peer:o.getInputPeerByID(e)}})}function m(e){if(e=e||"favicon.ico",T!==e){var t=document.createElement("link");t.rel="shortcut icon",t.type="image/x-icon",t.href=e,F.parentNode.replaceChild(t,F),F=t,T=e}}function h(e,t){B[e]=r.when(t)}function g(e,t){h(e,t);var n=angular.copy(t);return n._="inputPeerNotifySettings",a.invokeApi("account.updateNotifySettings",{peer:{_:"inputNotifyPeer",peer:o.getInputPeerByID(e)},settings:n})}function f(e){return p(e).then(function(e){return"peerNotifySettings"==e._&&1e3*e.mute_until>tsNow()})}function _(){if(d(),e.$on("settings_changed",d),C(),!I)return!1;"Notification"in window&&"granted"!==Notification.permission&&"denied"!==Notification.permission&&$(t).on("click",v);try{"onbeforeunload"in window&&$(t).on("beforeunload",S)}catch(n){}}function v(){Notification.requestPermission(),$(t).off("click",v)}function y(e){Config.Navigator.ffos?e.image="https://raw.githubusercontent.com/zhukov/webogram/master/app/img/icons/icon60.png":e.image||(e.image="img/icons/icon60.png"),N++;var t=tsNow();if(z.volume>0&&(!e.tag||!U[e.tag]||t>U[e.tag]+6e4)&&(b(z.volume),U[e.tag]=t),!I||"Notification"in window&&"granted"!==Notification.permission)return!1;if(z.nodesktop){if(O&&!z.novibrate)return void navigator.vibrate([200,100,200])}else{var n,r=++P,i=e.key||"k"+r;if("Notification"in window)n=new Notification(e.title,{icon:e.image||"",body:e.message||"",tag:e.tag||""});else if("mozNotification"in navigator)n=navigator.mozNotification.createNotification(e.title,e.message||"",e.image||"");else{if(!A)return;window.external.msSiteModeClearIconOverlay(),window.external.msSiteModeSetIconOverlay("img/icons/icon16.png",e.title),window.external.msSiteModeActivate(),n={index:r}}n.onclick=function(){n.close(),l.focus(),S(),e.onclick&&e.onclick()},n.onclose=function(){delete D[i],S()},n.show&&n.show(),D[i]=n}}function b(e){var t=tsNow();if(!(L&&L>t&&R==e)){L=t+1e3,R=e;var n="img/sound_a.mp3",r=$("#notify_sound").html('<audio autoplay="autoplay"><source src="'+n+'" type="audio/mpeg" /><embed hidden="true" autostart="true" loop="false" volume="'+100*e+'" src="'+n+'" /></audio>');r.find("audio")[0].volume=e}}function w(e){var t=D[e];if(t){N>0&&N--;try{t.close?t.close():A&&t.index==P&&window.external.msSiteModeClearIconOverlay()}catch(n){}delete N[e]}}function k(e){delete U[e]}function S(){A?window.external.msSiteModeClearIconOverlay():angular.forEach(D,function(e){try{e.close&&e.close()}catch(t){}}),D={},N=0}function C(){if(V)return!1;if(navigator.push&&Config.Navigator.ffos&&Config.Modes.packed){var e=navigator.push.register();e.onsuccess=function(t){clearTimeout(G),console.log(dT(),"Push registered",e.result),V=e.result,a.invokeApi("account.registerDevice",{token_type:4,token:V,device_model:navigator.userAgent||"Unknown UserAgent",system_version:navigator.platform||"Unknown Platform",app_version:Config.App.version,app_sandbox:!1,lang_code:navigator.language||"en"})},e.onerror=function(e){console.error("Push register error",e,e.toString()),G=setTimeout(C,W),W=Math.min(3e4,1.5*W)}}}function M(){return O}navigator.vibrate=navigator.vibrate||navigator.mozVibrate||navigator.webkitVibrate;var A=!1;try{window.external&&window.external.msIsSiteMode()&&(A=!0)}catch(x){}var E,T,I=A||"Notification"in window||"mozNotification"in navigator,D={},P=0,N=0,U={},O=!!navigator.vibrate,L=!1,R=!1,B={},F=$('link[rel="icon"]:first')[0],q=i.pluralize("page_title_pluralize_notifications"),j=document.title,H=!1,z={};e.$watch("idle.isIDLE",function(e){e||S(),Config.Navigator.mobile||(n.cancel(E),e?(j=document.title,E=n(function(){var e=tsNow();!N||e%2e3>1e3?H&&(H=!1,document.title=j,m()):(H=!0,document.title=q(N),m("favicon_unread.ico"))},1e3)):(H=!1,document.title=j,m()))}),e.$on("apiUpdate",function(e,t){switch(t._){case"updateNotifySettings":if("notifyPeer"==t.peer._){var n=o.getPeerID(t.peer.peer);h(n,t.notify_settings)}}});var V=!1;return window.navigator.mozSetMessageHandler&&(window.navigator.mozSetMessageHandler("push",function(t){console.log(dT(),"received push",t),e.$broadcast("push_received")}),window.navigator.mozSetMessageHandler("push-register",function(e){console.log(dT(),"received push",e),V=!1,C()})),{start:_,notify:y,cancel:w,clear:S,soundReset:k,getPeerSettings:p,getPeerMuted:f,savePeerSettings:h,updatePeerSettings:g,updateNotifySettings:d,getNotifySettings:u,getVibrateSupport:M,testSound:b};var W,G}]).service("PasswordManager",["$timeout","$q","$rootScope","MtpApiManager","CryptoWorker","MtpSecureRandom",function(e,t,n,r,i,a){function o(e){return r.invokeApi("account.getPassword",{},e).then(function(e){return e})}function s(e,n){var i,o,s={new_settings:{_:"account.passwordInputSettings",flags:0,hint:n.hint||""}};if(i="string"==typeof n.cur_password&&n.cur_password.length>0?u(e.current_salt,n.cur_password):t.when([]),"string"==typeof n.new_password&&n.new_password.length>0){var c=new Array(8),l=bufferConcat(e.new_salt,c);a.nextBytes(c),o=u(l,n.new_password),s.new_settings.new_salt=l,s.new_settings.flags|=1}else"string"==typeof n.new_password&&(s.new_settings.flags|=1,s.new_settings.new_salt=[]),o=t.when([]);return"string"==typeof n.email&&(s.new_settings.flags|=2,s.new_settings.email=n.email||""),t.all([i,o]).then(function(e){return s.current_password_hash=e[0],s.new_settings.new_password_hash=e[1],r.invokeApi("account.updatePasswordSettings",s)})}function c(e,t,n){return u(e.current_salt,t).then(function(e){return r.invokeApi("auth.checkPassword",{password_hash:e},n)})}function l(e,t){return r.invokeApi("auth.requestPasswordRecovery",{},t)}function d(e,t){return r.invokeApi("auth.recoverPassword",{code:e},t)}function u(e,t){for(var n=unescape(encodeURIComponent(t)),r=new ArrayBuffer(n.length),a=new Uint8Array(r),o=0,s=n.length;s>o;o++)a[o]=n.charCodeAt(o);return r=bufferConcat(bufferConcat(e,a),e),i.sha256Hash(r)}return{check:c,getState:o,requestRecovery:l,recover:d,updateSettings:s}}]).service("ErrorService",["$rootScope","$modal","$window",function(e,t,n){function r(n,r){if(o>=1)return console.log("Skip error box, too many open",o,n,r),
!1;r=r||{};var i=e.$new();angular.extend(i,n),o++;var a=t.open({templateUrl:templateUrl("error_modal"),scope:i,windowClass:r.windowClass||"error_modal_window"});return a.result["finally"](function(){o--}),a}function i(e,t){return r({title:e,description:t})}function a(n,r){r=r||{};var i=e.$new();angular.extend(i,n);var a=t.open({templateUrl:templateUrl("confirm_modal"),scope:i,windowClass:r.windowClass||"confirm_modal_window"});return a.result}var o=0;return n.safeConfirm=function(e,t){"string"==typeof e&&(e={message:e}),a(e).then(function(e){t(e||!0)},function(){t(!1)})},{show:r,alert:i,confirm:a}}]).service("PeersSelectService",["$rootScope","$modal",function(e,t){function n(n){var r=e.$new();return r.multiSelect=!1,n&&angular.extend(r,n),t.open({templateUrl:templateUrl("peer_select"),controller:"PeerSelectController",scope:r,windowClass:"peer_select_window mobile_modal"}).result}function r(r){if(Config.Mobile)return n(r).then(function(e){return[e]});var i=e.$new();return i.multiSelect=!0,r&&angular.extend(i,r),t.open({templateUrl:templateUrl("peer_select"),controller:"PeerSelectController",scope:i,windowClass:"peer_select_window mobile_modal"}).result}return{selectPeer:n,selectPeers:r}}]).service("ContactsSelectService",["$rootScope","$modal",function(e,t){function n(n,r){r=r||{};var i=e.$new();return i.multiSelect=n,angular.extend(i,r),!i.action&&n&&(i.action="select"),t.open({templateUrl:templateUrl("contacts_modal"),controller:"ContactsModalController",scope:i,windowClass:"contacts_modal_window mobile_modal"}).result}return{selectContacts:function(e){return n(!0,e)},selectContact:function(e){return n(!1,e)}}}]).service("ChangelogNotifyService",["Storage","$rootScope","$modal",function(e,t,n){function r(){e.get("last_version").then(function(t){t!=Config.App.version&&(t&&i(t),e.set({last_version:Config.App.version}))})}function i(e){var r=t.$new();r.lastVersion=e,n.open({controller:"ChangelogModalController",templateUrl:templateUrl("changelog_modal"),scope:r,windowClass:"changelog_modal_window mobile_modal"})}return{checkUpdate:r,showChangelog:i}}]).service("HttpsMigrateService",["ErrorService","Storage",function(e,t){function n(){t.get("https_dismiss").then(function(n){(!n||tsNow()>n+432e5)&&e.confirm({type:"MIGRATE_TO_HTTPS"}).then(function(){var e;try{e=window.open("https://web.telegram.org","_blank")}catch(t){}e||(location="https://web.telegram.org")},function(){t.set({https_dismiss:tsNow()})})})}function r(){i||"http:"!=location.protocol||Config.Modes.http||-1==Config.App.domains.indexOf(location.hostname)||(i=!0,setTimeout(n,12e4))}var i=!1;return{start:r,check:n}}]).service("LayoutSwitchService",["ErrorService","Storage","AppRuntimeManager","$window",function(e,t,n,r){function i(e){ConfigStorage.noPrefix(),t.set({layout_selected:e?"mobile":"desktop",layout_width:$(window).width()}).then(function(){n.reload()})}function a(n){if(!c){var r=$(window).width(),a=600>r;!r||!n&&(Config.Navigator.mobile?800>=r:a)||a!=Config.Mobile&&(ConfigStorage.noPrefix(),t.get("layout_width").then(function(n){return r==n?!1:(c=!0,void e.confirm({type:a?"SWITCH_MOBILE_VERSION":"SWITCH_DESKTOP_VERSION"}).then(function(){i(a)},function(){ConfigStorage.noPrefix(),t.set({layout_width:r}),c=!1}))}))}}function o(){s||Config.Navigator.mobile||(s=!0,a(),$(r).on("resize",a))}var s=!1,c=!1;return{start:o,switchLayout:i}}]).service("TelegramMeWebService",["Storage",function(e){function t(t){return n?!1:void e.get("tgme_sync").then(function(n){var r=tsNow(!0);if(t&&n&&n.canRedirect==t&&n.ts+86400>r)return!1;e.set({tgme_sync:{canRedirect:t,ts:r}});var i=$("<script>").appendTo("body").on("load error",function(){i.remove()}).attr("src","//telegram.me/_websync_?authed="+(t?"1":"0"))})}var n=Config.Modes.test||-1==Config.App.domains.indexOf(location.hostname)||"http:"!=location.protocol&&"https:"!=location.protocol||"https:"==location.protocol&&"web.telegram.org"!=location.hostname;return{setAuthorized:t}}]).service("LocationParamsService",["$rootScope","$routeParams","AppUsersManager","AppMessagesManager","AppStickersManager",function(e,t,n,r,i){function a(){var e=t.tgaddr;if(e){try{e=decodeURIComponent(e)}catch(n){}var r=e.match(c);r&&o(r[3])}}function o(t){var a;return(a=t.match(/^resolve\?domain=(.+)$/))?(n.resolveUsername(a[1]).then(function(t){e.$broadcast("history_focus",{peerString:n.getUserString(t)})}),!0):(a=t.match(/^join\?invite=(.+)$/))?(r.openChatInviteLink(a[1]),!0):(a=t.match(/^addstickers\?set=(.+)$/))?(i.openStickersetLink(a[1]),!0):!1}function s(){if(!l){if(l=!0,"registerProtocolHandler"in navigator){try{navigator.registerProtocolHandler("tg","#im?tgaddr=%s","Telegram Web")}catch(t){}try{navigator.registerProtocolHandler("web+tg","#im?tgaddr=%s","Telegram Web")}catch(t){}}$(document).on("click",function(e){var t=e.target;if(t&&"A"==t.tagName&&!t.onclick&&!t.onmousedown){var n=$(t).attr("href")||t.href||"",r=n.match(c);if(r&&o(r[3]))return cancelEvent(e)}}),e.$on("$routeUpdate",a),a()}}var c=/^(web\+)?tg:(\/\/)?(.+)/,l=!1;return{start:s}}]),angular.module("myApp.controllers",["myApp.i18n"]).controller("AppWelcomeController",["$scope","$location","MtpApiManager","ErrorService","ChangelogNotifyService","LayoutSwitchService",function(e,t,n,r,i,a){n.getUserID().then(function(e){return e?void t.url("/im"):"http:"!=location.protocol||Config.Modes.http||-1==Config.App.domains.indexOf(location.hostname)?void t.url("/login"):void(location.href=location.href.replace(/^http:/,"https:"))}),i.checkUpdate(),a.start()}]).controller("AppLoginController",["$scope","$rootScope","$location","$timeout","$modal","$modalStack","MtpApiManager","ErrorService","NotificationsManager","PasswordManager","ChangelogNotifyService","IdleManager","LayoutSwitchService","TelegramMeWebService","_",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h){function g(){var t=(navigator.language||"").toLowerCase(),n=Config.LangCountries[t],r=!Config.Navigator.mobile;if(f(-1==["en","en-us","en-uk"].indexOf(t)?void 0!==n?n:t.indexOf("-")>0?t.split("-")[1].toUpperCase():"US":"US"),r){var i=e.credentials.phone_country;o.invokeApi("help.getNearestDc",{},{dcID:2,createNetworker:!0}).then(function(t){i==e.credentials.phone_country&&f(t.country),t.nearest_dc!=t.this_dc&&o.getNetworker(t.nearest_dc,{createNetworker:!0})})}}function f(e){var t,n;for(t=0;t<Config.CountryCodes.length;t++)if(n=Config.CountryCodes[t],n[0]==e)return _({name:h(n[1]+"_raw"),code:n[2]});return _({name:h("country_select_modal_country_us_raw"),code:"+1"})}function _(t){$=t,e.credentials.phone_country!=t.code?e.credentials.phone_country=t.code:v(),e.$broadcast("country_selected"),e.$broadcast("value_updated")}function v(){var t,n,r,i=((e.credentials.phone_country||"")+(e.credentials.phone_number||"")).replace(/\D+/g,""),a=0,o=!1;if(i.length)if($&&!i.indexOf($.code.replace(/\D+/g,"")))o=$.name;else for(t=0;t<Config.CountryCodes.length;t++)for(n=2;n<Config.CountryCodes[t].length;n++)r=Config.CountryCodes[t][n].replace(/\D+/g,""),r.length>a&&!i.indexOf(r)&&(a=r.length,o=h(Config.CountryCodes[t][1]+"_raw"));e.credentials.phone_full=i,e.credentials.phone_country_name=o||h("login_controller_unknown_country_raw")}function y(e){o.setUserAuth(k.dcID,{expires:e.expires,id:e.user.id}),r.cancel(S),n.url("/im")}function b(){r.cancel(S),e.credentials.viaApp||(--e.callPending.remaining?S=r(b,1e3):(e.callPending.success=!1,o.invokeApi("auth.sendCall",{phone_number:e.credentials.phone_full,phone_code_hash:e.credentials.phone_code_hash},k).then(function(){e.callPending.success=!0})))}function w(){return l.getState(k).then(function(t){return e.password=t})}a.dismissAll(),u.start(),o.getUserID().then(function(e){return e?void n.url("/im"):"http:"!=location.protocol||Config.Modes.http||-1==Config.App.domains.indexOf(location.hostname)?void m.setAuthorized(!1):void(location.href=location.href.replace(/^http:/,"https:"))});var k={dcID:2,createNetworker:!0},$=!1;e.credentials={phone_country:"",phone_country_name:"",phone_number:"",phone_full:""},e.progress={},e.callPending={},e.about={},e.chooseCountry=function(){var e=i.open({templateUrl:templateUrl("country_select_modal"),controller:"CountrySelectModalController",windowClass:"countries_modal_window mobile_modal"});e.result.then(_)},e.$watch("credentials.phone_country",v),e.$watch("credentials.phone_number",v),g();var S;e.sendCode=function(){r.cancel(S),s.confirm({type:"LOGIN_PHONE_CORRECT",country_code:e.credentials.phone_country,phone_number:e.credentials.phone_number}).then(function(){e.progress.enabled=!0,onContentLoaded(function(){e.$broadcast("ui_height")});var n=tsNow();o.invokeApi("auth.sendCode",{phone_number:e.credentials.phone_full,api_id:Config.App.id,api_hash:Config.App.hash,lang_code:navigator.language||"en"},k).then(function(t){e.progress.enabled=!1,e.credentials.phone_code_hash=t.phone_code_hash,e.credentials.phone_occupied=t.phone_registered,e.credentials.viaApp="auth.sentAppCode"==t._,e.callPending.remaining=t.send_call_timeout||60,e.error={},e.about={},b(),onContentLoaded(function(){e.$broadcast("ui_height")})},function(t){switch(e.progress.enabled=!1,console.log("sendCode error",t),t.type){case"PHONE_NUMBER_INVALID":e.error={field:"phone"},t.handled=!0}})["finally"](function(){(t.idle.isIDLE||tsNow()-n>6e4)&&c.notify({title:"Telegram",message:"Your authorization key was successfully generated! Open the app to log in.",tag:"auth_key"})})})},e.sendSms=function(){e.credentials.viaApp&&(delete e.credentials.viaApp,o.invokeApi("auth.sendSms",{phone_number:e.credentials.phone_full,phone_code_hash:e.credentials.phone_code_hash},k).then(b))},e.editPhone=function(){r.cancel(S),delete e.credentials.phone_code_hash,delete e.credentials.phone_unoccupied,delete e.credentials.phone_code_valid,delete e.credentials.viaApp,delete e.callPending.remaining,delete e.callPending.success},e.logIn=function(t){var n="auth.signIn",r={phone_number:e.credentials.phone_full,phone_code_hash:e.credentials.phone_code_hash,phone_code:e.credentials.phone_code};t&&(n="auth.signUp",angular.extend(r,{first_name:e.credentials.first_name||"",last_name:e.credentials.last_name||""})),e.progress.enabled=!0,o.invokeApi(n,r,k).then(y,function(t){if(e.progress.enabled=!1,400==t.code&&"PHONE_NUMBER_UNOCCUPIED"==t.type)return t.handled=!0,e.credentials.phone_code_valid=!0,e.credentials.phone_unoccupied=!0,void(e.about={});if(400==t.code&&"PHONE_NUMBER_OCCUPIED"==t.type)return t.handled=!0,e.logIn(!1);if(401==t.code&&"SESSION_PASSWORD_NEEDED"==t.type)return e.progress.enabled=!0,w().then(function(){e.progress.enabled=!1,e.credentials.phone_code_valid=!0,e.credentials.password_needed=!0,e.about={}}),void(t.handled=!0);switch(t.type){case"FIRSTNAME_INVALID":e.error={field:"first_name"},t.handled=!0;break;case"LASTNAME_INVALID":e.error={field:"last_name"},t.handled=!0;break;case"PHONE_CODE_INVALID":e.error={field:"phone_code"},delete e.credentials.phone_code_valid,t.handled=!0}})},e.checkPassword=function(){return l.check(e.password,e.credentials.password,k).then(y,function(t){switch(t.type){case"PASSWORD_HASH_INVALID":e.error={field:"password"},t.handled=!0}})},e.forgotPassword=function(n){return l.requestRecovery(e.password,k).then(function(n){var r=t.$new();r.recovery=n,r.options=k;var a=i.open({scope:r,templateUrl:templateUrl("password_recovery_modal"),controller:"PasswordRecoveryModalController",windowClass:"md_simple_modal_window mobile_modal"});a.result.then(function(t){t&&t.user?y(t):e.canReset=!0})},function(t){switch(t.type){case"PASSWORD_EMPTY":e.logIn();break;case"PASSWORD_RECOVERY_NA":r(function(){e.canReset=!0},1e3)}}),cancelEvent(n)},e.resetAccount=function(){s.confirm({type:"RESET_ACCOUNT"}).then(function(){e.progress.enabled=!0,o.invokeApi("account.deleteAccount",{reason:"Forgot password"},k).then(function(){delete e.progress.enabled,delete e.credentials.password_needed,e.credentials.phone_unoccupied=!0},function(){delete e.progress.enabled})})},d.checkUpdate(),p.start()}]).controller("AppIMController",["$scope","$location","$routeParams","$modal","$rootScope","$modalStack","MtpApiManager","AppUsersManager","AppChatsManager","AppPeersManager","ContactsSelectService","ChangelogNotifyService","ErrorService","AppRuntimeManager","HttpsMigrateService","LayoutSwitchService","LocationParamsService","AppStickersManager",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,_){function v(){if(n.q){if(n.q!==y&&(e.search.query=y=n.q,void 0!==e.curDialog))return!1}else y=!1;n.p&&"@"==n.p.charAt(0)?(void 0===e.curDialog&&(e.curDialog={}),s.resolveUsername(n.p.substr(1)).then(function(t){e.curDialog={peer:s.getUserString(t),messageID:parseInt(n.m)||!1}})):e.curDialog={peer:n.p||!1,messageID:parseInt(n.m)||!1}}e.$on("$routeUpdate",v),e.$on("history_focus",function(n,r){if(a.dismissAll(),r.peerString==e.curDialog.peer&&r.messageID==e.curDialog.messageID)e.$broadcast(r.messageID?"ui_history_change_scroll":"ui_history_focus");else{var i=l.getPeerID(r.peerString),o=r.peerString;if(i>0){var c=s.getUser(i).username;c&&(o="@"+c)}t.url("/im?p="+o+(r.messageID?"&m="+r.messageID:""))}}),e.$on("esc_no_more",function(){i.$apply(function(){t.url("/im")})}),e.isLoggedIn=!0,e.isEmpty={},e.search={},e.historyFilter={mediaType:!1},e.historyPeer={},e.historyState={selectActions:!1,typing:[],missedCount:0,skipped:!1},e.openSettings=function(){r.open({templateUrl:templateUrl("settings_modal"),controller:"SettingsModalController",windowClass:"settings_modal_window mobile_modal"})},e.openFaq=function(){var e="https://telegram.org/faq";switch(Config.I18n.locale){case"es-es":e+="/es";break;case"it-it":e+="/it";break;case"de-de":e+="/de";break;case"ko-ko":e+="/ko";break;case"pt-br":e+="/br"}window.open(e,"_blank")},e.openContacts=function(){d.selectContact().then(function(t){e.dialogSelect(s.getUserString(t))})},e.openGroup=function(){d.selectContacts({action:"new_group"}).then(function(t){if(1==t.length)e.dialogSelect(s.getUserString(t[0]));else if(t.length>1){var n=i.$new();n.userIDs=t,r.open({templateUrl:templateUrl("chat_create_modal"),controller:"ChatCreateModalController",scope:n,windowClass:"md_simple_modal_window mobile_modal"})}})},e.importContact=function(){s.openImportContact().then(function(e){e&&i.$broadcast("history_focus",{peerString:s.getUserString(e)})})},e.searchClear=function(){e.search.query="",e.$broadcast("search_clear")},e.dialogSelect=function(t,n){var r={peerString:t};n?r.messageID=n:e.search.query&&e.searchClear(),i.$broadcast("history_focus",r)},e.logOut=function(){p.confirm({type:"LOGOUT"}).then(function(){o.logOut().then(function(){location.hash="/login",m.reload()})})},e.openChangelog=function(){u.showChangelog(!1)},e.showPeerInfo=function(){e.curDialog.peerID>0?s.openUser(e.curDialog.peerID):e.curDialog.peerID<0&&c.openChat(-e.curDialog.peerID)},e.toggleEdit=function(){e.$broadcast("history_edit_toggle")},e.selectedFlush=function(){e.$broadcast("history_edit_flush")},e.toggleMedia=function(t){e.$broadcast("history_media_toggle",t)},e.returnToRecent=function(){e.$broadcast("history_return_recent")},e.toggleSearch=function(){e.$broadcast("dialogs_search_toggle")},v();var y=!1;u.checkUpdate(),h.start(),g.start(),f.start(),_.start()}]).controller("AppImDialogsController",["$scope","$location","$q","$timeout","$routeParams","MtpApiManager","AppUsersManager","AppChatsManager","AppMessagesManager","AppPeersManager","PhonebookContactsService","ErrorService","AppRuntimeManager",function(e,t,n,r,i,a,o,s,c,l,d,u,p){function m(t){var i,a=++w;return r.cancel(C),v?(C=t||y?n.when():r(angular.noop,500),i=C.then(function(){return c.getSearch({_:"inputPeerEmpty"},e.search.query,{_:"inputMessagesFilterEmpty"},y)})):i=c.getDialogs(e.search.query,y),i.then(function(e){if(a!=w)return n.reject();if(v){var t=[];angular.forEach(e.history,function(e){var n=c.getMessage(e),r=c.getMessagePeer(n);t.push({peerID:r,top_message:e,unread_count:-1})}),e={count:e.count,dialogs:t}}return e})}function h(t){y=0,b=!1,v||($={},_=!1),m(t).then(function(t){v||(e.dialogs=[],e.contacts=[],e.foundUsers=[]),e.foundMessages=[];var n=v?e.foundMessages:e.dialogs;t.dialogs.length&&(angular.forEach(t.dialogs,function(e){var t=c.wrapForDialog(e.top_message,e.unread_count);v||($[e.peerID]=!0),n.push(t)}),y=t.dialogs[t.dialogs.length-1].top_message,b=null===t.count||n.length<t.count,v||delete e.isEmpty.dialogs),e.$broadcast("ui_dialogs_change"),e.search.query?g():(c.getDialogs("",y,100),t.dialogs.length||(e.isEmpty.dialogs=!0,g()))})}function g(){return!_||b&&y?b||v||!e.search.query&&e.dialogs.length?void m().then(function(t){if(t.dialogs.length){var n=v?e.foundMessages:e.dialogs;angular.forEach(t.dialogs,function(e){var t=c.wrapForDialog(e.top_message,e.unread_count);v||($[e.peerID]=!0),n.push(t)}),y=t.dialogs[t.dialogs.length-1].top_message,b=null===t.count||n.length<t.count,e.$broadcast("ui_dialogs_append")}}):void f():void 0}function f(){_=!0;var t=++k;o.getContacts(e.search.query).then(function(n){t==k&&(e.contacts=[],angular.forEach(n,function(t){void 0===$[t]&&e.contacts.push({userID:t,user:o.getUser(t),peerString:o.getUserString(t)})}),n.length?delete e.isEmpty.contacts:e.search.query||(e.isEmpty.contacts=!0),e.$broadcast("ui_dialogs_append"))}),e.search.query&&e.search.query.length>=5&&r(function(){t==k&&a.invokeApi("contacts.search",{q:e.search.query,limit:10}).then(function(n){o.saveApiUsers(n.users),t==k&&(e.foundUsers=[],angular.forEach(n.results,function(t){var n=t.user_id;void 0===$[n]&&e.foundUsers.push({userID:n,user:o.getUser(n),peerString:o.getUserString(n)})}))},function(e){400==e.code&&(e.handled=!0)})},500),e.search.query&&(v=!0,h())}e.dialogs=[],e.contacts=[],e.foundUsers=[],e.foundMessages=[],void 0===e.search&&(e.search={}),void 0===e.isEmpty&&(e.isEmpty={}),e.phonebookAvailable=d.isAvailable();var _,v=!1,y=0,b=!1,w=0,k=0,$={},S={};e.$on("dialogs_need_more",function(){g()}),e.$on("dialog_unread",function(t,n){angular.forEach(e.dialogs,function(e){e.peerID==n.peerID&&(e.unreadCount=n.count)})}),e.$on("dialogs_multiupdate",function(t,n){if(void 0!==e.search.query&&e.search.query.length)return!1;var r=[],i={};angular.forEach(n,function(e,t){i[e.top_message]=e,r.push(e.top_message)}),r.sort();var a,o,s=e.dialogs.length;for(a=0;s>a;a++)o=e.dialogs[a],n[o.peerID]&&(e.dialogs.splice(a,1),a--,s--);for(s=r.length,a=0;s>a;a++)o=i[r[a]],e.dialogs.unshift(c.wrapForDialog(o.top_message,o.unread_count));delete e.isEmpty.dialogs,$[o.peerID]||($[o.peerID]=!0,_&&f())}),e.$on("dialog_flush",function(t,n){for(var r=0;r<e.dialogs.length;r++)if(e.dialogs[r].peerID==n.peerID){e.dialogs.splice(r,1);break}}),e.$on("history_delete",function(t,n){for(var r=0;r<e.dialogs.length;r++)if(e.dialogs[r].peerID==n.peerID){n.msgs[e.dialogs[r].id]&&(e.dialogs[r].deleted=!0);break}}),e.$on("apiUpdate",function(t,n){switch(n._){case"updateUserTyping":case"updateChatUserTyping":if(!o.hasUser(n.user_id))return void(n.chat_id&&s.getChatFull(n.chat_id));var i="updateUserTyping"==n._?n.user_id:-n.chat_id;o.forceUserOnline(n.user_id);for(var a=0;a<e.dialogs.length;a++)if(e.dialogs[a].peerID==i){e.dialogs[a].typing=n.user_id,r.cancel(S[i]),S[i]=r(function(){for(var t=0;t<e.dialogs.length;t++)e.dialogs[t].peerID==i&&e.dialogs[t].typing==n.user_id&&delete e.dialogs[t].typing},6e3);break}}}),e.$watchCollection("search",function(){e.dialogs=[],e.foundMessages=[],v=!1,k++,h(),i.q&&e.search.query!=i.q&&r(function(){t.url("/im"+(e.curDialog.peer?"?p="+e.curDialog.peer+(e.curDialog.messageID?"&m="+e.curDialog.messageID:""):""))})}),Config.Mobile&&e.$watch("curDialog.peer",function(){e.$broadcast("ui_dialogs_update")}),e.importPhonebook=function(){d.openPhonebookImport()},e.$on("contacts_update",function(){_&&f()}),e.$on("ui_dialogs_search_clear",e.searchClear);var C}]).controller("AppImHistoryController",["$scope","$location","$timeout","$rootScope","MtpApiManager","AppUsersManager","AppChatsManager","AppMessagesManager","AppPeersManager","ApiUpdatesManager","PeersSelectService","IdleManager","StatusManager","ErrorService",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m){function h(t,n){var i=t.peer||e.curDialog.peer||"";return N=c.getPeerID(i),N==e.curDialog.peerID&&n.messageID==t.messageID?!1:(r.selectedPeerID=N,e.curDialog.peerID=N,e.curDialog.inputPeer=c.getInputPeer(i),e.historyFilter.mediaType=!1,M(!0),void(n.peer&&n.peer==t.peer&&t.messageID?y():N?(v(!0),k()):S()))}function g(t){var n,r,i,a=-1,o=10;for(n=0;n<e.peerHistories.length;n++)if(e.peerHistories[n].peerID==t){a=n;break}return a>-1?r=e.peerHistories[a]:(r={peerID:t,messages:[],ids:[]},e.peerHistories.unshift(r),i=e.peerHistories.length-o,i>0&&e.peerHistories.splice(o-1,i),r)}function f(t){var n;for(n=0;n<e.peerHistories.length;n++)if(e.peerHistories[n].peerID==t)return e.peerHistories[n];return!1}function _(t){var n;for(n=0;n<e.peerHistories.length;n++)if(e.peerHistories[n].peerID==t)return e.peerHistories.splice(n,1),!0;return!1}function v(t){var n=c.getPeer(N);return!n||n.deleted?(safeReplaceObject(e.state,{loaded:!1}),!1):(U=g(N),safeReplaceObject(e.historyPeer,{id:N,data:n,photo:c.getPeerPhoto(N,"User","Group")}),i.getUserID().then(function(t){e.ownID=t,e.ownPhoto=a.getUserPhoto(t,"User")}),void(t&&(e.historyState.typing.splice(0,e.historyState.typing.length),e.$broadcast("ui_peer_change"),e.$broadcast("ui_history_change"),safeReplaceObject(e.state,{loaded:!0,empty:!U.messages.length}))))}function y(){var t=f(N);t&&-1!=t.ids.indexOf(e.curDialog.messageID)?(e.historyUnread={},e.$broadcast("messages_focus",e.curDialog.messageID),e.$broadcast("ui_history_change_scroll",!0)):k()}function b(){if(R){if(V)return void(Y=!0);Y=!1,K=!0;var t=H,n=++G,r=0,i=20;s.getHistory(e.curDialog.inputPeer,F,r,i).then(function(r){if(K=!1,t==H&&n==G){var a,o;for(a=r.history.length-1;a>=0;a--)o=r.history[a],o>F&&(U.messages.push(s.wrapForHistory(o)),U.ids.push(o));r.history.length?(F=r.history.length>=i?r.history[0]:0,s.regroupWrappedHistory(U.messages,-i)&&e.$broadcast("messages_regroup"),delete e.state.empty,e.$broadcast("ui_history_append")):F=0,e.historyState.skipped=R=F>0,W&&w()}})}}function w(){if(L){if(K)return void(W=!0);W=!1,V=!0;var t=H,n=++z,r=e.historyFilter.mediaType&&{_:j[e.historyFilter.mediaType]},i=Config.Mobile?20:0,a=r?s.getSearch(e.curDialog.inputPeer,"",r,B,i):s.getHistory(e.curDialog.inputPeer,B,i);a.then(function(r){V=!1,t==H&&n==z&&(angular.forEach(r.history,function(e){U.messages.unshift(s.wrapForHistory(e)),U.ids.unshift(e)}),L=null===r.count||r.history.length&&U.messages.length<r.count,r.history.length&&(delete e.state.empty,B=r.history[r.history.length-1],e.$broadcast("ui_history_prepend"),s.regroupWrappedHistory(U.messages,r.history.length+1)&&e.$broadcast("messages_regroup")),Y&&b())})}}function k(t){e.historyState.missedCount=0,L=!1,e.historyState.skipped=R=!1,B=0,F=0,U=g(N);var n=0,r=0;e.curDialog.messageID?(B=parseInt(e.curDialog.messageID),n=20,r=20):t&&(n=10),V=!1,W=!1,K=!1,Y=!1;var i=U.messages.length;i&&(B||r)&&(i=0,U.messages=[],U.ids=[],e.state.empty=!0);var a=++H,o=e.historyFilter.mediaType&&{_:j[e.historyFilter.mediaType]},c=o?s.getSearch(e.curDialog.inputPeer,"",o,B):s.getHistory(e.curDialog.inputPeer,B,n,r,i);e.state.mayBeHasMore=!0,c.then(function(t){if(a==H){var n=t.history.length;F=t.unreadSkip||B&&t.history.indexOf(B)>=r-1?t.history[0]:0,B=t.history[t.history.length-1],e.historyState.skipped=R=F>0,L=null===t.count||n&&n<t.count,v(),safeReplaceObject(e.state,{loaded:!0,empty:!n}),U.messages=[],U.ids=[],angular.forEach(t.history,function(n){var r=s.wrapForHistory(n);e.historyState.skipped&&delete r.unread,t.unreadOffset&&(r.unreadAfter=!0),U.messages.push(r),U.ids.push(n)}),U.messages.reverse(),U.ids.reverse(),s.regroupWrappedHistory(U.messages)&&e.$broadcast("messages_regroup"),t.unreadOffset?e.historyUnreadAfter=t.history[t.unreadOffset-1]:e.historyUnreadAfter&&delete e.historyUnreadAfter,e.$broadcast("messages_unread_after"),onContentLoaded(function(){e.$broadcast("messages_focus",e.curDialog.messageID||0)}),e.$broadcast("ui_history_change"),s.readHistory(e.curDialog.inputPeer)}},function(){safeReplaceObject(e.state,{error:!0})})}function S(){H++,safeReplaceObject(e.historyPeer,{}),safeReplaceObject(e.state,{notSelected:!0}),U=!1,L=!1,e.$broadcast("ui_history_change")}function C(t,n){var r=n.target,i=n.shiftKey;if(i&&e.$broadcast("ui_selection_clear"),!e.historyState.selectActions&&!$(r).hasClass("icon-select-tick")&&!$(r).hasClass("im_content_message_select_area"))return!1;if(e.selectedMsgs[t])q=!1,delete e.selectedMsgs[t],e.selectedCount--,e.selectedCount||(e.historyState.selectActions=!1,e.$broadcast("ui_panel_update"));else{if(i){if(q!=t){var a,o,s,c=q>t;for(a=0;a<U.messages.length;a++)if(U.messages[a].id==q){o=a;break}for(a=o;U.messages[a]&&(s=U.messages[a].id)!=t;)e.selectedMsgs[s]||(e.selectedMsgs[s]=!0,e.selectedCount++),a+=c?-1:1}}else q=t;e.selectedMsgs[t]=!0,e.selectedCount++,e.historyState.selectActions||(e.historyState.selectActions=!0,e.$broadcast("ui_panel_update"))}e.$broadcast("messages_select")}function M(t){e.selectedMsgs={},e.selectedCount=0,e.historyState.selectActions=!1,q=!1,t||e.$broadcast("ui_panel_update"),e.$broadcast("messages_select")}function A(){m.confirm({type:"HISTORY_FLUSH"}).then(function(){s.flushHistory(e.curDialog.inputPeer).then(function(){M()})})}function x(){if(e.selectedCount>0){var t=[];angular.forEach(e.selectedMsgs,function(e,n){t.push(n)}),t.length&&m.confirm({type:"MESSAGES_DELETE",count:t.length}).then(function(){s.deleteMessages(t).then(function(){M()})})}}function E(){if(e.selectedCount>0){var t=[];angular.forEach(e.selectedMsgs,function(e,n){t.push(n)}),d.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(e){angular.forEach(e,function(n){var i=c.getPeerID(n);s.forwardMessages(i,t).then(function(){M(),1==e.length&&r.$broadcast("history_focus",{peerString:n})})})})}}function T(){if(1==e.selectedCount){var t;angular.forEach(e.selectedMsgs,function(e,n){t=n}),M(),e.$broadcast("reply_selected",t)}}function I(){e.historyState.selectActions?M():(e.historyState.selectActions=!0,e.$broadcast("ui_panel_update"))}function D(t){e.historyFilter.mediaType=t||!1,e.curDialog.messageID=!1,U.messages=[],U.ids=[],e.state.empty=!0,k()}function P(){e.historyFilter.mediaType?D():e.curDialog.messageID?r.$broadcast("history_focus",{peerString:e.curDialog.peer}):k(!0)}e.$watch("curDialog",h),l.attach(),u.start(),p.start(),e.peerHistories=[],e.selectedMsgs={},e.selectedCount=0,e.historyState.selectActions=!1,e.historyState.missedCount=0,e.historyState.skipped=!1,e.state={},e.toggleMessage=C,e.selectedDelete=x,e.selectedForward=E,e.selectedReply=T,e.selectedCancel=M,e.selectedFlush=A,e.toggleEdit=I,e.toggleMedia=D,e.returnToRecent=P,e.$on("history_edit_toggle",I),e.$on("history_edit_flush",A),e.$on("history_media_toggle",function(e,t){D(t)}),e.$on("history_return_recent",P);var N,U=!1,O=!1,L=!1,R=!1,B=0,F=0,q=!1,j={photos:"inputMessagesFilterPhotos",video:"inputMessagesFilterVideo",documents:"inputMessagesFilterDocument",audio:"inputMessagesFilterAudio"},H=0,z=0,V=!1,W=!1,G=0,K=!1,Y=!1;e.$on("history_update",angular.noop);var Z=!1;e.$on("stateSynchronized",function(){Z&&(Z==e.curDialog.peerID&&k(),Z=!1)});var X={};e.$on("history_append",function(t,i){var a=f(i.peerID);if(a){var o=i.peerID==e.curDialog.peerID;if(o){if(e.historyFilter.mediaType||e.historyState.skipped)return void(i.my?P():e.historyState.missedCount++);e.curDialog.messageID&&i.my&&P(),delete e.state.empty}var c=s.wrapForHistory(i.messageID);a.messages.push(c),a.ids.push(i.messageID),s.regroupWrappedHistory(a.messages,-3)&&e.$broadcast("messages_regroup"),o&&(e.historyState.typing.splice(0,e.historyState.typing.length),e.$broadcast("ui_history_append_new",{my:i.my,idleScroll:O&&!c.out&&r.idle.isIDLE}),i.my&&e.historyUnreadAfter&&(delete e.historyUnreadAfter,e.$broadcast("messages_unread_after")),r.idle.isIDLE?!c.unread||c.out||(a.messages[a.messages.length-2]||{}).unread||(e.historyUnreadAfter=c.id,O=!0,e.$broadcast("messages_unread_after")):n(function(){s.readHistory(e.curDialog.inputPeer)}))}}),e.$on("history_multiappend",function(t,i){var a=!1,o=!1,c=r.idle.isIDLE;angular.forEach(i,function(t,r){var i=f(r);if(i){var l=r==e.curDialog.peerID,d=i.messages.length,u=t.length;if(l){if(e.historyFilter.mediaType||e.historyState.skipped)return void(e.historyState.missedCount+=u);delete e.state.empty}if(u>10){if(!l)return void _(r);if(d>10&&(F=i.messages[d-1].id,e.historyState.skipped=R=F>0,R))return Z=r,void e.$broadcast("ui_history_append")}var p,m,h,g=!1,v=!1,m=i.messages[i.messages.length-1],y=!m||!m.unread;for(h=0;u>h;h++)p=t[h],-1===i.ids.indexOf(p)&&(m=s.wrapForHistory(p),i.messages.push(m),i.ids.push(p),!v&&c&&(m.unread&&!m.out&&y?v=p:y=!m.unread),!g&&m.out&&(g=!0));s.regroupWrappedHistory(i.messages,-u-2)&&(a=!0),l&&(e.historyState.typing.length&&e.historyState.typing.splice(0,e.historyState.typing.length),e.$broadcast("ui_history_append_new",{idleScroll:O&&!g&&c}),c?v&&(e.historyUnreadAfter=v,O=!0,o=!0):n(function(){s.readHistory(e.curDialog.inputPeer)}))}}),a&&e.$broadcast("messages_regroup"),o&&e.$broadcast("messages_unread_after")}),e.$on("history_delete",function(t,n){var r=f(n.peerID);if(r){var i,a=[];for(i=0;i<r.messages.length;i++)n.msgs[r.messages[i].id]||a.push(r.messages[i]);r.messages=a,s.regroupWrappedHistory(r.messages),e.$broadcast("messages_regroup"),n.peerID==e.curDialog.peerID&&(e.state.empty=!a.length)}}),e.$on("dialog_flush",function(t,n){var r=f(n.peerID);r&&(r.messages=[],r.ids=[],n.peerID==e.curDialog.peerID&&(e.state.empty=!0))}),e.$on("history_focus",function(t,n){e.historyFilter.mediaType&&D()}),e.$on("apiUpdate",function(t,r){switch(r._){case"updateUserTyping":case"updateChatUserTyping":a.forceUserOnline(r.user_id),a.hasUser(r.user_id)&&e.curDialog.peerID==("updateUserTyping"==r._?r.user_id:-r.chat_id)&&(-1==e.historyState.typing.indexOf(r.user_id)&&e.historyState.typing.push(r.user_id),n.cancel(X[r.user_id]),X[r.user_id]=n(function(){var t=e.historyState.typing.indexOf(r.user_id);-1!==t&&e.historyState.typing.splice(t,1)},6e3))}}),e.$on("history_need_less",b),e.$on("history_need_more",w),r.$watch("idle.isIDLE",function(t){t||!e.curDialog||!e.curDialog.peerID||e.historyFilter.mediaType||e.historyState.skipped||s.readHistory(e.curDialog.inputPeer),t||(O=!1)})}]).controller("AppImPanelController",["$scope",function(e){e.$on("user_update",angular.noop)}]).controller("AppImSendController",["$scope","$timeout","MtpApiManager","Storage","AppChatsManager","AppUsersManager","AppPeersManager","AppDocsManager","AppMessagesManager","MtpApiFileManager",function(e,t,n,r,i,a,o,s,c,l){function d(n){return e.$broadcast("ui_message_before_send"),t(function(){var t=e.draftMessage.text;if(angular.isString(t)&&t.length>0){t=t.replace(/:([a-z0-9\-\+\*_]+?):/gi,function(e,t){var n=EmojiHelper.shortcuts[t];return void 0!==n?EmojiHelper.emojis[n][0]:e});var n=0,r={replyToMsgID:e.draftMessage.replyToMessage&&e.draftMessage.replyToMessage.id};do!function(e,t,n){setTimeout(function(){c.sendText(e,t,r)},n)}(e.curDialog.peerID,t.substr(0,4096),n),t=t.substr(4096),n+=100;while(t.length)}p(),e.$broadcast("ui_message_send")}),cancelEvent(n)}function u(){var t=e.curDialog.peerID;return!t||t>0?(safeReplaceObject(e.mentions,{}),void e.$broadcast("mentions_update")):void i.getChatFull(-t).then(function(t){var n=(t.participants||{}).participants||[],r=[],i=SearchIndexManager.createIndex();angular.forEach(n,function(e){var t=a.getUser(e.user_id);t.username&&(r.push(t),SearchIndexManager.indexObject(t.id,a.getUserSearchText(t.id),i))}),safeReplaceObject(e.mentions,{users:r,index:i}),e.$broadcast("mentions_update")})}function p(t){u(),h(),t?r.get("draft"+e.curDialog.peerID).then(function(t){e.draftMessage.text=t||"",e.$broadcast("ui_peer_draft")}):(e.draftMessage.text="",e.$broadcast("ui_peer_draft"))}function m(t){e.draftMessage.replyToMessage=c.wrapForDialog(t),e.$broadcast("ui_peer_reply")}function h(){delete e.draftMessage.replyToMessage,e.$broadcast("ui_peer_reply")}function g(t){if(t&&t.length){e.historyFilter.mediaType||e.historyState.skipped||c.readHistory(e.curDialog.inputPeer);var n={};n["draft"+e.curDialog.peerID]=t,
r.set(n)}else r.remove("draft"+e.curDialog.peerID)}function f(){n.invokeApi("messages.setTyping",{peer:e.curDialog.inputPeer,action:{_:"sendMessageTypingAction"}})}function _(t){if(angular.isArray(t)&&t.length){var n={replyToMsgID:e.draftMessage.replyToMessage&&e.draftMessage.replyToMessage.id,isMedia:e.draftMessage.isMedia};delete e.draftMessage.replyToMessage;for(var r=0;r<t.length;r++)c.sendFile(e.curDialog.peerID,t[r],n),e.$broadcast("ui_message_send")}}function v(t){if(t){var n=s.getDoc(t);if(n.id&&n.access_hash){var r={_:"inputMediaDocument",id:{_:"inputDocument",id:n.id,access_hash:n.access_hash}},i={replyToMsgID:e.draftMessage.replyToMessage&&e.draftMessage.replyToMessage.id};c.sendOther(e.curDialog.peerID,r,i),e.$broadcast("ui_message_send")}delete e.draftMessage.sticker}}e.$watch("curDialog.peer",p),e.$on("user_update",angular.noop),e.$on("reply_selected",function(e,t){m(t)}),e.$on("ui_typing",f),e.draftMessage={text:"",send:d,replyClear:h},e.mentions={},e.$watch("draftMessage.text",g),e.$watch("draftMessage.files",_),e.$watch("draftMessage.sticker",v)}]).controller("AppLangSelectController",["$scope","_","Storage","ErrorService","AppRuntimeManager",function(e,t,n,r,i){e.supportedLocales=Config.I18n.supported,e.langNames=Config.I18n.languages,e.curLocale=Config.I18n.locale,e.form={locale:Config.I18n.locale},e.localeSelect=function(t){t=t||e.form.locale,e.curLocale!==t&&r.confirm({type:"APPLY_LANG_WITH_RELOAD"}).then(function(){n.set({i18n_locale:t}).then(function(){i.reload()})},function(){e.form.locale=e.curLocale})}}]).controller("AppFooterController",["$scope","LayoutSwitchService",function(e,t){e.switchLayout=function(e){t.switchLayout(e)}}]).controller("PhotoModalController",["$q","$scope","$rootScope","$modalInstance","AppPhotosManager","AppMessagesManager","AppPeersManager","AppWebPagesManager","PeersSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l){function d(e){var n=0>e?[-1,-2]:[1,2],r=v.indexOf(t.messageID);angular.forEach(n,function(e){var t=v[r+e];if(void 0!==t&&void 0===y[t]){y[t]=!0;var n=a.getMessage(t),o=n.media.photo.id;i.preloadPhoto(o)}})}function u(e){var n=v.indexOf(t.messageID);w?e&&(t.count=Math.max(e,v.length)):t.count=v.length,t.pos=t.count-n,t.nav.hasNext=n>0,t.nav.hasPrev=w||n<v.length-1,t.canForward=t.canDelete=t.messageID>0}function p(n){var r=v.indexOf(t.messageID),o=r>=0?r+n:0,s=++k,c=o>=v.length?m():e.when();c.then(function(){if(s==k){var e=v[o],r=a.getMessage(e),c=r&&r.media&&(r.media.photo&&r.media.photo.id||r.media.webpage&&r.media.webpage.photo&&r.media.webpage.photo.id);if(!c)return void console.error("Invalid photo message",o,v,e,r);t.messageID=e,t.photoID=c,t.photo=i.wrapForFull(t.photoID),y[t.messageID]=!0,u(),n>0&&w&&v.indexOf(e)+1>=v.length?m():d(n)}})}function m(){return $?$:$=a.getSearch(g,f,_,b).then(function(t){return t.history.length?(b=t.history[t.history.length-1],v=v.concat(t.history),w=v.length<t.count):w=!1,u(t.count),$=!1,t.history.length?e.reject():void d(1)})}if(t.photo=i.wrapForFull(t.photoID),t.nav={},t.download=function(){i.downloadPhoto(t.photoID)},t.messageID){t.forward=function(){var e=t.messageID;c.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(t){angular.forEach(t,function(r){var i=o.getPeerID(r);a.forwardMessages(i,[e]).then(function(){1==t.length&&n.$broadcast("history_focus",{peerString:r})})})})},t.goToMessage=function(){var e=t.messageID,i=a.getMessagePeer(a.getMessage(e)),s=o.getPeerString(i);r.dismiss(),n.$broadcast("history_focus",{peerString:s,messageID:e})},t["delete"]=function(){var e=t.messageID;l.confirm({type:"MESSAGE_DELETE"}).then(function(){a.deleteMessages([e])})};var h=a.getMessagePeer(a.getMessage(t.messageID)),g=o.getInputPeerByID(h),f="",_={_:"inputMessagesFilterPhotos"},v=[t.messageID],y={},b=t.messageID,w=!0;if(y[t.messageID]=!0,u(),t.nav.next=function(){return t.nav.hasNext?void p(-1):!1},t.nav.prev=function(){return t.nav.hasPrev?void p(1):!1},t.$on("history_delete",function(e,n){if(n.peerID==h){if(n.msgs[t.messageID])if(t.nav.hasNext)t.nav.next();else{if(!t.nav.hasPrev)return r.dismiss();t.nav.prev()}for(var i=[],a=0;a<v.length;a++)n.msgs[v[a]]||i.push(v[a]);v=i}}),t.webpageID)return void(t.webpage=s.wrapForHistory(t.webpageID));a.getSearch(g,f,_,0,1e3).then(function(e){e.history.indexOf(t.messageID)>=0&&(v=e.history,b=v[v.length-1],u(),d(1)),m()},m);var k=0,$=!1}}]).controller("UserpicModalController",["$q","$scope","$rootScope","$modalInstance","MtpApiManager","AppPhotosManager","AppUsersManager","AppPeersManager","AppMessagesManager","ApiUpdatesManager","PeersSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l,d,u){function p(n,r){var i=_.indexOf(t.photoID),o=i>=0?i+n:0,s=++k,c=o>=_.length?h():e.when();c.then(function(){if(s==k){t.photoID=_[o],t.photo=a.wrapForFull(t.photoID),t.photo.thumb={location:a.choosePhotoSize(t.photo,0,0).location};var e;r&&(_.splice(i,1),e=t.count-1),g(e),y[t.photoID]=!0,g(),n>0&&w&&_.indexOf(t.photoID)+1>=_.length?h():m(n)}})}function m(e){var n=0>e?[-1,-2]:[1,2],r=_.indexOf(t.photoID);angular.forEach(n,function(e){var t=_[r+e];void 0!==t&&void 0===y[t]&&(y[t]=!0,a.preloadPhoto(t))})}function h(){return $?$:$=a.getUserPhotos(f,v).then(function(t){return t.photos.length?(v=t.photos[t.photos.length-1],_=_.concat(t.photos),w=_.length<t.count):w=!1,g(t.count),$=!1,t.photos.length?e.reject():void m(1)})}function g(e){var n=_.indexOf(t.photoID);w?e&&(t.count=Math.max(e,_.length)):t.count=_.length,t.pos=t.count-n,t.nav.hasNext=n>0,t.nav.hasPrev=w||n<_.length-1,t.canDelete=t.photo.user_id==b}t.photo=a.wrapForFull(t.photoID),t.photo.thumb={location:a.choosePhotoSize(t.photo,0,0).location},t.nav={},t.canForward=!0;var f=o.getUserInput(t.userID),_=[t.photoID],v=t.photoID,y={},b=0,w=!0;g(),a.getUserPhotos(f,0,1e3).then(function(e){e.photos.indexOf(t.photoID)>=0&&(_=e.photos,v=_[_.length-1]),w=_.length<e.count,g()}),i.getUserID().then(function(e){b=e,t.canDelete=t.photo.user_id==b});var k=0,$=!1;t.nav.next=function(){return t.nav.hasNext?void p(-1):!1},t.nav.prev=function(){return t.nav.hasPrev?void p(1):!1},t.forward=function(){d.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(e){angular.forEach(e,function(r){var i=s.getPeerID(r);c.sendOther(i,{_:"inputMediaPhoto",id:{_:"inputPhoto",id:t.photoID,access_hash:t.photo.access_hash}}),1==e.length&&n.$broadcast("history_focus",{peerString:e[0]})})})},t["delete"]=function(){var e=t.photoID,n=o.getUser(b),a=function(){return t.nav.hasNext||t.nav.hasPrev?void p(t.nav.hasNext?-1:1,!0):r.dismiss()};u.confirm({type:"PHOTO_DELETE"}).then(function(){n&&n.photo&&n.photo.photo_id==e?i.invokeApi("photos.updateProfilePhoto",{id:{_:"inputPhotoEmpty"},crop:{_:"inputPhotoCropAuto"}}).then(function(e){l.processUpdateMessage({_:"updateShort",update:{_:"updateUserPhoto",user_id:b,date:tsNow(!0),photo:e,previous:!0}}),a()}):i.invokeApi("photos.deletePhotos",{id:[{_:"inputPhoto",id:e,access_hash:0}]}).then(a)})},t.download=function(){a.downloadPhoto(t.photoID)}}]).controller("ChatpicModalController",["$q","$scope","$rootScope","$modalInstance","MtpApiManager","AppPhotosManager","AppChatsManager","AppPeersManager","AppMessagesManager","PeersSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l,d){t.photo=a.wrapForFull(t.photoID),t.photo.thumb={location:a.choosePhotoSize(t.photo,0,0).location},t.canForward=!0,t.canDelete=!0,t.forward=function(){l.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(e){angular.forEach(e,function(r){var i=s.getPeerID(r);c.sendOther(i,{_:"inputMediaPhoto",id:{_:"inputPhoto",id:t.photoID,access_hash:t.photo.access_hash}}),1==e.length&&n.$broadcast("history_focus",{peerString:e[0]})})})},t["delete"]=function(){d.confirm({type:"PHOTO_DELETE"}).then(function(){t.photo.updating=!0,i.invokeApi("messages.editChatPhoto",{chat_id:t.chatID,photo:{_:"inputChatPhotoEmpty"}}).then(function(e){ApiUpdatesManager.processUpdateMessage(e),r.dismiss(),n.$broadcast("history_focus",{peerString:o.getChatString(t.chatID)})})["finally"](function(){t.photo.updating=!1})})},t.download=function(){a.downloadPhoto(t.photoID)}}]).controller("VideoModalController",["$scope","$rootScope","$modalInstance","PeersSelectService","AppMessagesManager","AppVideoManager","AppPeersManager","ErrorService",function(e,t,n,r,i,a,o,s){e.video=a.wrapForFull(e.videoID),e.progress={enabled:!1},e.player={},e.forward=function(){var n=e.messageID;r.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(e){angular.forEach(e,function(r){var a=o.getPeerID(r);i.forwardMessages(a,[n]).then(function(){1==e.length&&t.$broadcast("history_focus",{peerString:r})})})})},e["delete"]=function(){var t=e.messageID;s.confirm({type:"MESSAGE_DELETE"}).then(function(){i.deleteMessages([t])})},e.download=function(){a.saveVideoFile(e.videoID)},e.$on("history_delete",function(t,r){r.msgs[e.messageID]&&n.dismiss()})}]).controller("DocumentModalController",["$scope","$rootScope","$modalInstance","PeersSelectService","AppMessagesManager","AppDocsManager","AppPeersManager","ErrorService",function(e,t,n,r,i,a,o,s){e.document=a.wrapForHistory(e.docID),e.forward=function(){var n=e.messageID;r.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(e){angular.forEach(e,function(r){var a=o.getPeerID(r);i.forwardMessages(a,[n]).then(function(){1==e.length&&t.$broadcast("history_focus",{peerString:r})})})})},e["delete"]=function(){var t=e.messageID;s.confirm({type:"MESSAGE_DELETE"}).then(function(){i.deleteMessages([t])})},e.download=function(){a.saveDocFile(e.docID)},e.$on("history_delete",function(t,r){r.msgs[e.messageID]&&n.dismiss()})}]).controller("EmbedModalController",["$q","$scope","$rootScope","$modalInstance","AppPhotosManager","AppMessagesManager","AppPeersManager","AppWebPagesManager","PeersSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l){t.webpage=s.wrapForFull(t.webpageID),t.nav={},t.forward=function(){var e=t.messageID;c.selectPeers({confirm_type:"FORWARD_PEER"}).then(function(t){angular.forEach(t,function(r){var i=o.getPeerID(r);a.forwardMessages(i,[e]).then(function(){1==t.length&&n.$broadcast("history_focus",{peerString:r})})})})},t["delete"]=function(){var e=t.messageID;l.confirm({type:"MESSAGE_DELETE"}).then(function(){a.deleteMessages([e])})}}]).controller("UserModalController",["$scope","$location","$rootScope","$modal","AppUsersManager","MtpApiManager","NotificationsManager","AppPhotosManager","AppMessagesManager","AppPeersManager","PeersSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l,d,u){var p=i.getUserString(e.userID);e.user=i.getUser(e.userID),e.userPhoto=i.getUserPhoto(e.userID,"User"),e.blocked=!1,e.settings={notifications:!0},a.invokeApi("users.getFullUser",{id:i.getUserInput(e.userID)}).then(function(t){e.override&&e.override.phone_number?(t.user.phone=e.override.phone_number,(e.override.first_name||e.override.last_name)&&(t.user.first_name=e.override.first_name,t.user.last_name=e.override.last_name),i.saveApiUser(t.user)):i.saveApiUser(t.user,!0),s.savePhoto(t.profile_photo),e.blocked=t.blocked,o.savePeerSettings(e.userID,t.notify_settings),o.getPeerMuted(e.userID).then(function(t){e.settings.notifications=!t,e.$watch("settings.notifications",function(t,n){return t===n?!1:void o.getPeerSettings(e.userID).then(function(n){n.mute_until=t?0:2e9,o.updatePeerSettings(e.userID,n)})})})}),e.goToHistory=function(){n.$broadcast("history_focus",{peerString:p})},e.flushHistory=function(){u.confirm({type:"HISTORY_FLUSH"}).then(function(){c.flushHistory(l.getInputPeerByID(e.userID)).then(function(){e.goToHistory()})})},e.importContact=function(t){var a=n.$new();a.importContact={phone:e.user.phone,first_name:e.user.first_name,last_name:e.user.last_name},r.open({templateUrl:templateUrl(t?"edit_contact_modal":"import_contact_modal"),controller:"ImportContactModalController",windowClass:"md_simple_modal_window mobile_modal",scope:a}).result.then(function(t){e.userID==t&&(e.user=i.getUser(e.userID))})},e.deleteContact=function(){i.deleteContacts([e.userID]).then(function(){e.user=i.getUser(e.userID)})},e.toggleBlock=function(t){a.invokeApi(t?"contacts.block":"contacts.unblock",{id:i.getUserInput(e.userID)}).then(function(){e.blocked=t})},e.shareContact=function(){d.selectPeers({confirm_type:"SHARE_CONTACT_PEER"}).then(function(t){angular.forEach(t,function(r){var i=l.getPeerID(r);c.sendOther(i,{_:"inputMediaContact",phone_number:e.user.phone,first_name:e.user.first_name,last_name:e.user.last_name,user_id:e.user.id}),1==t.length&&n.$broadcast("history_focus",{peerString:t[0]})})})}}]).controller("ChatModalController",["$scope","$timeout","$rootScope","$modal","AppUsersManager","AppChatsManager","AppPhotosManager","MtpApiManager","MtpApiFileManager","NotificationsManager","AppMessagesManager","AppPeersManager","ApiUpdatesManager","ContactsSelectService","ErrorService",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h){function g(t){p.processUpdateMessage(t),n.$broadcast("history_focus",{peerString:e.chatFull.peerString})}function f(t){t&&t.type&&0===t.type.indexOf("image")&&(e.photo.updating=!0,c.uploadFile(t).then(function(t){return s.invokeApi("messages.editChatPhoto",{chat_id:e.chatID,photo:{_:"inputChatUploadedPhoto",file:t,crop:{_:"inputPhotoCropAuto"}}}).then(g)})["finally"](function(){e.photo.updating=!1}))}e.chatFull=a.wrapForFull(e.chatID,{}),e.settings={notifications:!0},a.getChatFull(e.chatID).then(function(t){e.chatFull=a.wrapForFull(e.chatID,t),e.$broadcast("ui_height"),l.savePeerSettings(-e.chatID,t.notify_settings),l.getPeerMuted(-e.chatID).then(function(t){e.settings.notifications=!t,e.$watch("settings.notifications",function(t,n){return t===n?!1:void l.getPeerSettings(-e.chatID).then(function(n){n.mute_until=t?0:2e9,l.updatePeerSettings(-e.chatID,n)})})})}),e.leaveGroup=function(){s.invokeApi("messages.deleteChatUser",{chat_id:e.chatID,user_id:{_:"inputUserSelf"}}).then(g)},e.returnToGroup=function(){s.invokeApi("messages.addChatUser",{chat_id:e.chatID,user_id:{_:"inputUserSelf"}}).then(g)},e.inviteToGroup=function(){var t=[];angular.forEach(e.chatFull.participants.participants,function(e){t.push(e.user_id)}),m.selectContacts({disabled:t}).then(function(t){angular.forEach(t,function(t){s.invokeApi("messages.addChatUser",{chat_id:e.chatID,user_id:i.getUserInput(t),fwd_limit:100}).then(function(e){p.processUpdateMessage(e)})}),n.$broadcast("history_focus",{peerString:e.chatFull.peerString})})},e.kickFromGroup=function(t){var n=i.getUser(t);s.invokeApi("messages.deleteChatUser",{chat_id:e.chatID,user_id:{_:"inputUserForeign",user_id:t,access_hash:n.access_hash||"0"}}).then(g)},e.flushHistory=function(){h.confirm({type:"HISTORY_FLUSH"}).then(function(){d.flushHistory(u.getInputPeerByID(-e.chatID)).then(function(){n.$broadcast("history_focus",{peerString:e.chatFull.peerString})})})},e.inviteViaLink=function(){var t=n.$new();t.chatID=e.chatID,r.open({templateUrl:templateUrl("chat_invite_link_modal"),controller:"ChatInviteLinkModalController",scope:t,windowClass:"md_simple_modal_window"})},e.photo={},e.$watch("photo.file",f),e.deletePhoto=function(){e.photo.updating=!0,s.invokeApi("messages.editChatPhoto",{chat_id:e.chatID,photo:{_:"inputChatPhotoEmpty"}}).then(g)["finally"](function(){e.photo.updating=!1})},e.editTitle=function(){var t=n.$new();t.chatID=e.chatID,r.open({templateUrl:templateUrl("chat_edit_modal"),controller:"ChatEditModalController",scope:t,windowClass:"md_simple_modal_window mobile_modal"})}}]).controller("SettingsModalController",["$rootScope","$scope","$timeout","$modal","AppUsersManager","AppChatsManager","AppPhotosManager","MtpApiManager","Storage","NotificationsManager","MtpApiFileManager","PasswordManager","ApiUpdatesManager","ChangelogNotifyService","LayoutSwitchService","AppRuntimeManager","ErrorService","_",function(e,t,n,r,i,a,o,s,c,l,d,u,p,m,h,g,f,_){function v(){n.cancel(b),b=!1,u.getState().then(function(e){t.password=e,"account.noPassword"==e._&&e.email_unconfirmed_pattern&&!w&&(b=n(v,5e3))})}function y(e){e&&e.type&&0===e.type.indexOf("image")&&(t.photo.updating=!0,d.uploadFile(e).then(function(e){s.invokeApi("photos.uploadProfilePhoto",{file:e,caption:"",geo_point:{_:"inputGeoPointEmpty"},crop:{_:"inputPhotoCropAuto"}}).then(function(e){i.saveApiUsers(e.users),o.savePhoto(e.photo),s.getUserID().then(function(e){p.processUpdateMessage({_:"updateShort",update:{_:"updateUserPhoto",user_id:e,date:tsNow(!0),photo:i.getUser(e).photo,previous:!0}}),t.photo=i.getUserPhoto(e,"User")})})})["finally"](function(){delete t.photo.updating}))}t.profile={},t.photo={},t.version=Config.App.version,s.getUserID().then(function(e){t.profile=i.getUser(e),t.photo=i.getUserPhoto(e,"User")}),s.invokeApi("users.getFullUser",{id:{_:"inputUserSelf"}}).then(function(e){i.saveApiUser(e.user),o.savePhoto(e.profile_photo)}),t.notify={volume:.5},t.send={},t.$watch("photo.file",y),t.password={_:"account.noPassword"},v();var b=!1,w=!1;t.changePassword=function(n){if(n=n||{},"cancel_email"==n.action)return f.confirm({type:"PASSWORD_ABORT_SETUP"}).then(function(){u.updateSettings(t.password,{email:""}).then(v)});var i=e.$new();i.password=t.password,angular.extend(i,n);var a=r.open({scope:i,templateUrl:templateUrl("password_update_modal"),controller:"PasswordUpdateModalController",windowClass:"md_simple_modal_window mobile_modal"});a.result["finally"](v)},t.showSessions=function(){r.open({templateUrl:templateUrl("sessions_list_modal"),controller:"SessionsListModalController",windowClass:"md_simple_modal_window mobile_modal"})},t.$on("$destroy",function(){n.cancel(b),w=!0}),t.deletePhoto=function(){t.photo.updating=!0,s.invokeApi("photos.updateProfilePhoto",{id:{_:"inputPhotoEmpty"},crop:{_:"inputPhotoCropAuto"}}).then(function(e){s.getUserID().then(function(n){p.processUpdateMessage({_:"updateShort",update:{_:"updateUserPhoto",user_id:n,date:tsNow(!0),photo:e,previous:!0}}),t.photo=i.getUserPhoto(n,"User")})})["finally"](function(){delete t.photo.updating})},t.editProfile=function(){r.open({templateUrl:templateUrl("profile_edit_modal"),controller:"ProfileEditModalController",windowClass:"md_simple_modal_window mobile_modal"})},t.changeUsername=function(){r.open({templateUrl:templateUrl("username_edit_modal"),controller:"UsernameEditModalController",windowClass:"md_simple_modal_window mobile_modal"})},t.terminateSessions=function(){f.confirm({type:"TERMINATE_SESSIONS"}).then(function(){s.invokeApi("auth.resetAuthorizations",{})})},c.get("notify_nodesktop","send_ctrlenter","notify_volume","notify_novibrate","notify_nopreview").then(function(r){t.notify.desktop=!r[0],t.send.enter=r[1]?"":"1",t.notify.volume=r[2]!==!1?r[2]>0&&r[2]<=1?r[2]:0:.5,t.notify.canVibrate=l.getVibrateSupport(),t.notify.vibrate=!r[3],t.notify.preview=!r[4],t.notify.volumeOf4=function(){return 1+Math.ceil((t.notify.volume-.1)/.33)},t.toggleSound=function(){t.notify.volume=t.notify.volume?0:.5};var i;t.$watch("notify.volume",function(t,r){t!==r&&(c.set({notify_volume:t}),e.$broadcast("settings_changed"),l.clear(),i&&n.cancel(i),i=n(function(){l.testSound(t)},500))}),t.toggleDesktop=function(){t.notify.desktop=!t.notify.desktop,t.notify.desktop?c.remove("notify_nodesktop"):c.set({notify_nodesktop:!0}),e.$broadcast("settings_changed")},t.togglePreview=function(){t.notify.preview=!t.notify.preview,t.notify.preview?c.remove("notify_nopreview"):c.set({notify_nopreview:!0}),e.$broadcast("settings_changed")},t.toggleVibrate=function(){t.notify.vibrate=!t.notify.vibrate,t.notify.vibrate?c.remove("notify_novibrate"):c.set({notify_novibrate:!0}),e.$broadcast("settings_changed")},t.toggleCtrlEnter=function(n){t.send.enter=n,t.send.enter?c.remove("send_ctrlenter"):c.set({send_ctrlenter:!0}),e.$broadcast("settings_changed")}}),t.openChangelog=function(){m.showChangelog(!1)},t.logOut=function(){f.confirm({type:"LOGOUT"}).then(function(){s.logOut().then(function(){location.hash="/login",g.reload()})})},t.switchBackToDesktop=Config.Mobile&&!Config.Navigator.mobile,t.switchToDesktop=function(){h.switchLayout(!1)}}]).controller("ChangelogModalController",["$scope","$modal",function(e,t){if(e.currentVersion=Config.App.version,!e.lastVersion){var n=e.currentVersion.split(".");e.lastVersion=n[0]+"."+n[1]+"."+Math.max(0,n[2]-1)}e.changelogHidden=!1,e.changelogShown=!1,e.canShowVersion=function(t){if(e.changelogShown)return!0;var n=versionCompare(t,e.lastVersion)>=0;return n||(e.changelogHidden=!0),n},e.showAllVersions=function(){e.changelogShown=!0,e.changelogHidden=!1,e.$emit("ui_height"),e.$broadcast("ui_height")},e.changeUsername=function(){t.open({templateUrl:templateUrl("username_edit_modal"),controller:"UsernameEditModalController",windowClass:"md_simple_modal_window mobile_modal"})}}]).controller("ProfileEditModalController",["$scope","$modalInstance","AppUsersManager","MtpApiManager",function(e,t,n,r){e.profile={},e.error={},r.getUserID().then(function(t){e.profile=n.getUser(t)}),e.updateProfile=function(){e.profile.updating=!0,r.invokeApi("account.updateProfile",{first_name:e.profile.first_name||"",last_name:e.profile.last_name||""}).then(function(r){e.error={},n.saveApiUser(r),t.close()},function(n){switch(n.type){case"FIRSTNAME_INVALID":e.error={field:"first_name"},n.handled=!0;break;case"LASTNAME_INVALID":e.error={field:"last_name"},n.handled=!0;break;case"NAME_NOT_MODIFIED":n.handled=!0,t.close()}})["finally"](function(){delete e.profile.updating})}}]).controller("UsernameEditModalController",["$scope","$modalInstance","AppUsersManager","MtpApiManager",function(e,t,n,r){e.profile={},e.error={},r.getUserID().then(function(t){e.profile=angular.copy(n.getUser(t))}),e.updateUsername=function(){e.profile.updating=!0,r.invokeApi("account.updateUsername",{username:e.profile.username||""}).then(function(r){e.checked={},n.saveApiUser(r),t.close()},function(e){"USERNAME_NOT_MODIFIED"==e.type&&(e.handled=!0,t.close())})["finally"](function(){delete e.profile.updating})},e.$watch("profile.username",function(t){return t.length?void r.invokeApi("account.checkUsername",{username:t||""}).then(function(n){e.profile.username==t&&(e.checked=n?{success:!0}:{error:!0})},function(n){if(e.profile.username==t)switch(n.type){case"USERNAME_INVALID":e.checked={error:!0},n.handled=!0}}):void(e.checked={})})}]).controller("SessionsListModalController",["$scope","$q","$timeout","_","MtpApiManager","ErrorService","$modalInstance",function(e,t,n,r,i,a,o){function s(){n.cancel(c),i.invokeApi("account.getAuthorizations").then(function(t){e.sessionsLoaded=!0,e.authorizations=t.authorizations;for(var r,i=0,a=e.authorizations.length;a>i;i++)r=e.authorizations[i],r.current=1==(1&r.flags);e.authorizations.sort(function(e,t){return e.current?-1:t.current?1:t.date_active-e.date_active}),l||(c=n(s,5e3))})}e.slice={limit:20,limitDelta:20};var c=!1,l=!1;e.terminateSession=function(e){a.confirm({type:"TERMINATE_SESSION"}).then(function(){i.invokeApi("account.resetAuthorization",{hash:e}).then(s)})},e.terminateAllSessions=function(){a.confirm({type:"TERMINATE_SESSIONS"}).then(function(){i.invokeApi("auth.resetAuthorizations",{})})},s(),e.$on("apiUpdate",function(e,t){"updateNewAuthorization"==t._&&s()}),e.$on("$destroy",function(){n.cancel(c),l=!0})}]).controller("PasswordUpdateModalController",["$scope","$q","_","PasswordManager","MtpApiManager","ErrorService","$modalInstance",function(e,t,n,r,i,a,o){switch(e.passwordSettings={},e.updatePassword=function(){delete e.passwordSettings.error_field;var i;if("disable"==e.action)i=t.when();else{if(!e.passwordSettings.new_password)return e.passwordSettings.error_field="new_password",e.$broadcast("new_password_focus"),!1;if(e.passwordSettings.new_password!=e.passwordSettings.confirm_password)return e.passwordSettings.error_field="confirm_password",e.$broadcast("confirm_password_focus"),!1;i=e.passwordSettings.email?t.when():a.confirm({type:"RECOVERY_EMAIL_EMPTY"})}e.passwordSettings.loading=!0,i.then(function(){r.updateSettings(e.password,{cur_password:e.passwordSettings.cur_password||"",new_password:e.passwordSettings.new_password,email:e.passwordSettings.email,hint:e.passwordSettings.hint}).then(function(t){delete e.passwordSettings.loading,o.close(!0),"disable"==e.action?a.alert(n("error_modal_password_disabled_title_raw"),n("error_modal_password_disabled_descripion_raw")):a.alert(n("error_modal_password_success_title_raw"),n("error_modal_password_success_descripion_raw"))},function(t){switch(t.type){case"PASSWORD_HASH_INVALID":case"NEW_PASSWORD_BAD":e.passwordSettings.error_field="cur_password",t.handled=!0,e.$broadcast("cur_password_focus");break;case"NEW_PASSWORD_BAD":e.passwordSettings.error_field="new_password",t.handled=!0;break;case"EMAIL_INVALID":e.passwordSettings.error_field="email",t.handled=!0;break;case"EMAIL_UNCONFIRMED":a.alert(n("error_modal_email_unconfirmed_title_raw"),n("error_modal_email_unconfirmed_descripion_raw")),o.close(!0),t.handled=!0}delete e.passwordSettings.loading})})},e.action){case"disable":e.passwordSettings.new_password="";break;case"create":onContentLoaded(function(){e.$broadcast("new_password_focus")})}e.$watch("passwordSettings.new_password",function(t){var n=t&&t.length||0;e.passwordSettings.hint=n?3>=n?"***":t.charAt(0)+new Array(n-1).join("*")+t.charAt(n-1):"",e.$broadcast("value_updated")})}]).controller("PasswordRecoveryModalController",["$scope","$q","_","PasswordManager","MtpApiManager","ErrorService","$modalInstance",function(e,t,n,r,i,a,o){e.checkCode=function(){e.recovery.updating=!0,r.recover(e.recovery.code,e.options).then(function(e){a.alert(n("error_modal_password_disabled_title_raw"),n("error_modal_password_disabled_descripion_raw")),o.close(e)},function(t){switch(delete e.recovery.updating,t.type){case"CODE_EMPTY":case"CODE_INVALID":e.recovery.error_field="code",t.handled=!0;break;case"PASSWORD_EMPTY":case"PASSWORD_RECOVERY_NA":case"PASSWORD_RECOVERY_EXPIRED":o.dismiss(),t.handled=!0}})}}]).controller("ContactsModalController",["$scope","$timeout","$modal","$modalInstance","MtpApiManager","AppUsersManager","ErrorService",function(e,t,n,r,i,a,o){function s(){e.selectedContacts={},e.selectedCount=0}function c(n){var r=++l,o=[];a.getContacts(n).then(function(t){r==l&&(e.contacts=[],e.slice.limit=20,angular.forEach(t,function(t){var n={userID:t,user:a.getUser(t),userPhoto:a.getUserPhoto(t,"User")};o.push(t),e.contacts.push(n)}),e.contactsEmpty=n?!1:!e.contacts.length,e.$broadcast("contacts_change"))}),n&&n.length>=5&&t(function(){r==l&&i.invokeApi("contacts.search",{q:n,limit:10}).then(function(t){a.saveApiUsers(t.users),r==l&&angular.forEach(t.results,function(t){var n=t.user_id;-1==o.indexOf(n)&&e.contacts.push({userID:n,user:a.getUser(n),peerString:a.getUserString(n),found:!0})})},function(e){400==e.code&&(e.handled=!0)})},500)}e.contacts=[],e.foundUsers=[],e.search={},e.slice={limit:20,limitDelta:20};var l=0;if(s(),e.disabledContacts={},e.disabled)for(var d=0;d<e.disabled.length;d++)e.disabledContacts[e.disabled[d]]=!0;if(e.selected)for(var d=0;d<e.selected.length;d++)e.selectedContacts[e.selected[d]]||(e.selectedContacts[e.selected[d]]=!0,e.selectedCount++);e.$watch("search.query",c),e.$on("contacts_update",function(){c(e.search&&e.search.query||"")}),e.toggleEdit=function(t){e.action=t?"edit":"",e.multiSelect=t,s()},e.contactSelect=function(t){return e.disabledContacts[t]?!1:e.multiSelect?void(e.selectedContacts[t]?(delete e.selectedContacts[t],e.selectedCount--):(e.selectedContacts[t]=!0,e.selectedCount++)):r.close(t)},e.submitSelected=function(){if(e.selectedCount>0){var t=[];return angular.forEach(e.selectedContacts,function(e,n){t.push(n)}),r.close(t)}},e.deleteSelected=function(){if(e.selectedCount>0){var t=[];angular.forEach(e.selectedContacts,function(e,n){t.push(n)}),a.deleteContacts(t).then(function(){e.toggleEdit(!1)})}},e.importContact=function(){a.openImportContact()}}]).controller("PeerSelectController",["$scope","$modalInstance","$q","AppPeersManager","ErrorService",function(e,t,n,r,i){e.selectedPeers={},e.selectedPeerIDs=[],e.selectedCount=0,e.dialogSelect=function(a){if(!e.multiSelect){var o;if(e.confirm_type){var s=r.getPeerID(a),c=r.getPeer(s);o=i.confirm({type:e.confirm_type,peer_id:s,peer_data:c})}else o=n.when();return void o.then(function(){t.close(a)})}var s=r.getPeerID(a);if(e.selectedPeers[s]){delete e.selectedPeers[s],e.selectedCount--;var l=e.selectedPeerIDs.indexOf(s);l>=0&&e.selectedPeerIDs.splice(l,1)}else e.selectedPeers[s]=r.getPeer(s),e.selectedCount++,e.selectedPeerIDs.unshift(s)},e.submitSelected=function(){if(e.selectedCount>0){var n=[];return angular.forEach(e.selectedPeers,function(e,t){n.push(r.getPeerString(t))}),t.close(n)}},e.toggleSearch=function(){e.$broadcast("dialogs_search_toggle")}}]).controller("ChatCreateModalController",["$scope","$modalInstance","$rootScope","MtpApiManager","AppUsersManager","AppChatsManager","ApiUpdatesManager",function(e,t,n,r,i,a,o){e.group={name:""},e.createGroup=function(){if(e.group.name){e.group.creating=!0;var s=[];return angular.forEach(e.userIDs,function(e){s.push(i.getUserInput(e))}),r.invokeApi("messages.createChat",{title:e.group.name,users:s}).then(function(e){if(o.processUpdateMessage(e),e.updates&&e.updates.length){for(var r,i=0,s=e.updates.length;s>i;i++)if(r=e.updates[i],"updateNewMessage"==r._){n.$broadcast("history_focus",{peerString:a.getChatString(r.message.to_id.chat_id)});break}t.close()}})["finally"](function(){delete e.group.creating})}}}]).controller("ChatEditModalController",["$scope","$modalInstance","$rootScope","MtpApiManager","AppUsersManager","AppChatsManager","ApiUpdatesManager",function(e,t,n,r,i,a,o){var s=a.getChat(e.chatID);e.group={name:s.title},e.updateGroup=function(){return e.group.name?e.group.name==s.title?t.close():(e.group.updating=!0,r.invokeApi("messages.editChatTitle",{chat_id:e.chatID,title:e.group.name}).then(function(t){o.processUpdateMessage(t);var r=a.getChatString(e.chatID);n.$broadcast("history_focus",{peerString:r})})["finally"](function(){delete e.group.updating})):void 0}}]).controller("ChatInviteLinkModalController",["_","$scope","$timeout","$modalInstance","AppChatsManager","ErrorService",function(e,t,n,r,i,a){function o(e){e&&(t.exportedInvite.revoking=!0),i.getChatInviteLink(t.chatID,e).then(function(e){t.exportedInvite={link:e},n(function(){t.$broadcast("ui_invite_select")},100)})["finally"](function(){delete t.exportedInvite.revoking})}t.exportedInvite={link:e("group_invite_link_loading_raw")},t.revokeLink=function(){a.confirm({type:"REVOKE_GROUP_INVITE_LINK"}).then(function(){o(!0)})},o()}]).controller("ImportContactModalController",["$scope","$modalInstance","$rootScope","AppUsersManager","ErrorService","PhonebookContactsService",function(e,t,n,r,i,a){void 0===e.importContact&&(e.importContact={}),e.phonebookAvailable=a.isAvailable(),e.doImport=function(){e.importContact&&e.importContact.phone&&(e.progress={enabled:!0},r.importContact(e.importContact.phone,e.importContact.first_name||"",e.importContact.last_name||"").then(function(e){e||i.show({error:{code:404,type:"USER_NOT_USING_TELEGRAM"}}),t.close(e)})["finally"](function(){delete e.progress.enabled}))},e.importPhonebook=function(){a.openPhonebookImport().result.then(function(e){e?t.close(e[0]):t.dismiss()})}}]).controller("CountrySelectModalController",["$scope","$modalInstance","$rootScope","_",function(e,t,n,r){e.search={},e.slice={limit:20,limitDelta:20};for(var i=SearchIndexManager.createIndex(),a=0;a<Config.CountryCodes.length;a++){var o=Config.CountryCodes[a][0];o+=" "+r(Config.CountryCodes[a][1]+"_raw"),o+=" "+Config.CountryCodes[a].slice(2).join(" "),SearchIndexManager.indexObject(a,o,i)}e.$watch("search.query",function(t){var n=!1,a={};angular.isString(t)&&t.length&&(n=!0,a=SearchIndexManager.search(t,i)),e.countries=[],e.slice.limit=20;for(var o,s=0;s<Config.CountryCodes.length;s++)if(!n||a[s])for(o=2;o<Config.CountryCodes[s].length;o++)e.countries.push({name:r(Config.CountryCodes[s][1]+"_raw"),code:Config.CountryCodes[s][o]});String.prototype.localeCompare&&e.countries.sort(function(e,t){return e.name.localeCompare(t.name)})})}]).controller("PhonebookModalController",["$scope","$modalInstance","$rootScope","AppUsersManager","PhonebookContactsService","ErrorService",function(e,t,n,r,i,a){
function o(){var t=!1,n={};if(angular.isString(e.search.query)&&e.search.query.length){t=!0,n=SearchIndexManager.search(e.search.query,s),e.contacts=[],delete e.contactsEmpty;for(var r=0;r<e.phonebook.length;r++)(!t||n[r])&&e.contacts.push(e.phonebook[r])}else e.contacts=e.phonebook,e.contactsEmpty=!e.contacts.length;e.slice.limit=20}e.search={},e.phonebook=[],e.selectedContacts={},e.selectedCount=0,e.slice={limit:20,limitDelta:20},e.progress={enabled:!1},e.multiSelect=!0;var s=SearchIndexManager.createIndex(),c=!1;i.getPhonebookContacts().then(function(t){for(var n=0;n<t.length;n++)SearchIndexManager.indexObject(n,t[n].first_name+" "+t[n].last_name+" "+t[n].phones.join(" "),s);e.phonebook=t,e.toggleSelection(!0),c=!0,o()},function(e){a.show({error:{code:403,type:"PHONEBOOK_GET_CONTACTS_FAILED",originalError:e}})}),e.$watch("search.query",function(e){c&&o()}),e.contactSelect=function(n){return e.multiSelect?void(e.selectedContacts[n]?(delete e.selectedContacts[n],e.selectedCount--):(e.selectedContacts[n]=!0,e.selectedCount++)):t.close(e.phonebook[n])},e.toggleSelection=function(t){if(!e.selectedCount||t){e.selectedCount=e.phonebook.length;for(var n=0;n<e.phonebook.length;n++)e.selectedContacts[n]=!0}else e.selectedCount=0,e.selectedContacts={}},e.submitSelected=function(){e.selectedCount<=0&&t.dismiss();var n=[];angular.forEach(e.selectedContacts,function(t,r){n.push(e.phonebook[r])}),a.confirm({type:"CONTACTS_IMPORT_PERFORM"}).then(function(){e.progress.enabled=!0,r.importContacts(n).then(function(e){e.length||a.show({error:{code:404,type:"USERS_NOT_USING_TELEGRAM"}}),t.close(e)})["finally"](function(){e.progress.enabled=!1})})}}]).controller("StickersetModalController",["$scope","MtpApiManager","AppStickersManager",function(e,t,n){e.slice={limit:20,limitDelta:20},n.getStickerset(e.inputStickerset).then(function(t){e.$broadcast("ui_height"),e.stickersetLoaded=!0,e.stickerset=t.set,e.stickersetInstalled=t.installed,e.documents=t.documents}),e.toggleInstalled=function(t){n.installStickerset(e.stickerset,!t).then(function(){e.stickersetInstalled=t})}}]),angular.module("myApp.filters",["myApp.i18n"]).filter("userName",["_",function(e){return function(t){return t&&(t.first_name||t.last_name)?t.first_name+" "+t.last_name:e("user_name_deleted")}}]).filter("userFirstName",["_",function(e){return function(t){return t&&(t.first_name||t.last_name)?t.first_name||t.last_name:e("user_first_name_deleted")}}]).filter("userStatus",["$filter","_",function(e,t){var n=e("relativeTime");return function(e){var r=e&&e.status&&e.status._||"userStatusEmpty";switch(r){case"userStatusOnline":return t("user_status_online");case"userStatusOffline":return t("user_status_last_seen",n(e.status.was_online));case"userStatusRecently":return t("user_status_recently");case"userStatusLastWeek":return t("user_status_last_week");case"userStatusLastMonth":return t("user_status_last_month");case"userStatusEmpty":default:return t("user_status_long_ago")}}}]).filter("chatTitle",["_",function(e){return function(t){return t&&t.title?t.title:e("chat_title_deleted")}}]).filter("dateOrTime",["$filter",function(e){var t=e("date");return function(e,n){var r=1e3*e,i=Math.abs(tsNow()-r),a="shortTime";return i>5184e5?a=n?"mediumDate":"shortDate":i>432e5&&(a=n?"EEEE":"EEE"),t(r,a)}}]).filter("time",["$filter",function(e){var t={},n=e("date"),r=Config.Mobile?"shortTime":"mediumTime";return function(e){return t[e]?t[e]:t[e]=n(1e3*e,r)}}]).filter("myDate",["$filter",function(e){var t={},n=e("date");return function(e){return t[e]?t[e]:t[e]=n(1e3*e,"fullDate")}}]).filter("duration",[function(){return function(e){e=parseInt(e),isNaN(e)&&(e=0);var t=e%60,n=Math.floor((e-t)/60);return 10>t&&(t="0"+t),n+":"+t}}]).filter("durationRemains",["$filter",function(e){var t=e("duration");return function(e,n){return"-"+t(n-e)}}]).filter("phoneNumber",[function(){return function(e){var t=" ";return e=(e||"").replace(/\D/g,""),"7"==e.charAt(0)&&11==e.length?"+"+e.charAt(0)+t+"("+e.substr(1,3)+")"+t+e.substr(4,3)+"-"+e.substr(7,2)+"-"+e.substr(9,2):"+"+e}}]).filter("formatSize",[function(){return function(e,t){if(!e)return"0";if(1024>e)return e+" b";if(1048576>e)return Math.round(e/1024)+" Kb";var n=e/1048576;return n=t?n.toFixed(1):Math.round(10*n)/10,n+" MB"}}]).filter("formatSizeProgress",["$filter","_",function(e,t){var n=e("formatSize");return function(e){var r=n(e.done,!0),i=r.split(" "),a=n(e.total),o=a.split(" ");return o[1]===i[1]?t("format_size_progress_mulitple",{done:i[0],total:o[0],parts:i[1]||""}):t("format_size_progress",{done:r,total:a})}}]).filter("nl2br",[function(){return function(e){return e.replace(/\n/g,"<br/>")}}]).filter("richText",["$filter",function(e){var t=e("linky");return function(e){return t(e,"_blank").replace(/\n|&#10;/g,"<br/>")}}]).filter("relativeTime",["$filter","_",function(e,t){var n=t.pluralize("relative_time_pluralize_minutes_ago"),r=t.pluralize("relative_time_pluralize_hours_ago"),i=e("dateOrTime");return function(e){var a=1e3*e,o=Math.abs(tsNow()-a);if(6e4>o)return t("relative_time_just_now");if(36e5>o){var s=Math.floor(o/6e4);return n(s)}if(864e5>o){var c=Math.floor(o/36e5);return r(c)}return i(e,!0)}}]),angular.module("myApp.templates",[]).run(["$templateCache",function(e){e.put("partials/desktop/audio_player.html",'<div class="audio_player_wrap clearfix">\r\n	<a class="im_message_file_button" ng-click="togglePlay()" ng-class="{im_message_file_button_dl_audio: audio.downloaded}">\r\n	  <i class="im_message_file_button_icon" ng-class="{audio_player_btn_icon_pause: mediaPlayer.player.playing}"></i>\r\n	</a>\r\n	<div class="audio_player_title_wrap">\r\n		<div class="audio_player_meta pull-right" ng-if="audio.downloaded &amp;&amp; (mediaPlayer.player.duration || audio.duration)" ng-switch="mediaPlayer.player.playing || mediaPlayer.player.currentTime > 0">\r\n			<span ng-switch-when="true" class="audio_player_duration" ng-bind="mediaPlayer.player.currentTime | durationRemains : (mediaPlayer.player.duration || audio.duration)"></span>\r\n			<span ng-switch-default class="audio_player_duration" ng-bind="mediaPlayer.player.duration || audio.duration | duration"></span>\r\n		</div>\r\n		<a ng-click="download()" class="audio_player_title" ng-switch="::audio.file_name.length > 0">\r\n			<span ng-switch-when="true" ng-bind="::audio.file_name"></span>\r\n			<span ng-switch-default my-i18n="message_attach_audio_message"></span>\r\n		</a>\r\n		<i ng-if="::message.media_unread || false" ng-show="message.media_unread" class="icon icon-audio-unread"></i>\r\n		<div class="audio_player_meta" ng-if="!audio.downloaded || !(mediaPlayer.player.duration || audio.duration)" ng-switch="audio.progress.enabled">\r\n			<span ng-switch-when="true" class="audio_player_size" ng-bind="audio.progress | formatSizeProgress"></span>\r\n			<span ng-switch-default class="audio_player_size" ng-bind="audio.size | formatSize"></span>\r\n		</div>\r\n	</div>\r\n	<div class="audio_player_actions" ng-if="!audio.progress.enabled &amp;&amp; !audio.downloaded">\r\n    <a ng-if="audio._ == \'document\'" ng-click="download()" my-i18n="message_attach_document_download"></a>\r\n    <a ng-click="togglePlay()" my-i18n="message_attach_audio_play"></a>\r\n	</div>\r\n	<div class="audio_player_progress_wrap" ng-if="audio.progress.enabled || audio.downloaded" ng-switch="audio.progress.enabled">\r\n		<div ng-switch-when="true" class="clearfix im_message_cancelable_progress_wrap">\r\n		  <a class="im_message_media_progress_cancel pull-right" ng-click="audio.progress.cancel()" my-i18n="modal_cancel"></a>\r\n		  <div class="im_message_download_progress_wrap">\r\n		    <div class="progress tg_down_progress">\r\n		      <div class="progress-bar progress-bar-success" ng-style="{width: audio.progress.percent + \'%\'}"></div>\r\n		    </div>\r\n		  </div>\r\n		</div>\r\n	  <div ng-switch-default class="im_message_playback_progress_wrap">\r\n	  	<div class="audio_player_seek_slider" my-slider slider-model="mediaPlayer.player.currentTime" slider-max="mediaPlayer.player.duration || audio.duration" slider-onchange="seek(value)"></div>\r\n	  	<div class="audio_player_volume_slider" my-slider slider-model="mediaPlayer.player.volume" slider-min="0" slider-max="1" slider-onchange="setVolume(value)"></div>\r\n	  </div>\r\n	</div>\r\n	<audio ng-if="audio.url" media-player="mediaPlayer.player">\r\n	  <source ng-src="{{::audio.url}}" type="{{audio.mime_type || \'audio/ogg\'}}" volume="{{::volume}}" />\r\n	</audio>\r\n</div>'),e.put("partials/desktop/changelog_modal.html",'<div class="changelog_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$close()" my-i18n="modal_close"></a>\r\n      </div>\r\n      <div class="md_modal_title" my-i18n="head_about"></div>\r\n    </div>\r\n\r\n    <div class="peer_modal_profile_wrap clearfix">\r\n      <div class="peer_modal_photo_wrap pull-left">\r\n        <div class="peer_modal_photo telegram_modal_logo"></div>\r\n      </div>\r\n      <div class="peer_modal_profile">\r\n        <div class="peer_modal_profile_name">Telegram Web</div>\r\n        <div class="peer_modal_profile_description">Version {{currentVersion}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_split_actions_wrap">\r\n    <div class="md_modal_split_actions">\r\n      <a href="https://twitter.com/telegram_web" target="_blank" class="md_modal_split_action">\r\n        <i class="md_modal_split_action_twitter"></i>\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="md_modal_sections">\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.6\')">\r\n        <div class="md_modal_section_version">0.4.6</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Install and share custom sticker sets like this one: <a href="tg://addstickers?set=Animals">telegram.me/addstickers/Animals</a></li>\r\n            <li>If you\'re an artist, create custom sticker sets using our <a href="tg://resolve?domain=stickers">@Stickers</a> bot.</li>\r\n            <li>Check out <a href="https://telegram.org/blog/stickers-revolution" target="_blank">Telegram Blog</a> for more info</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.5\')">\r\n        <div class="md_modal_section_version">0.4.5</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>\r\n              Invite links for group chats:<br/>\r\n              Check out <a href="https://telegram.org/blog/invite-links" target="_blank">Telegram Blog</a> for more info\r\n            </li>\r\n            <li>Smart notifications</li>\r\n            <li>\'Listened\' status for voice messages</li>\r\n            <li>Places in locations (venues, landmarks)</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.4\')">\r\n        <div class="md_modal_section_version">0.4.4</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Link Previews:<br/>\r\n            Get rich link summaries for tweets, YouTube videos, Instagram photos and other content.</li>\r\n\r\n            <li>Check out <a href="https://telegram.org/blog/link-preview" target="_blank">Telegram Blog</a> for more info.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.3\')">\r\n        <div class="md_modal_section_version">0.4.3</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Sessions List:<br/>\r\n            View your active Telegram sessions (on desktop, tablet and mobile devices) and close specific sessions remotely.</li>\r\n\r\n            <li>Two-step verification:<br/>\r\n            Set up an additional password that will be required to log into your Telegram account.</li>\r\n\r\n            <li>Check out <a href="https://telegram.org/blog/sessions-and-2-step-verification" target="_blank">Telegram Blog</a> for more info.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.2\')">\r\n        <div class="md_modal_section_version">0.4.2</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Optimization for screens with smaller Y-resolutions.</li>\r\n            <li>Supported Spotify URL embeds.</li>\r\n            <li>Mentions of the current user in group chats are now highlighted.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.1\')">\r\n        <div class="md_modal_section_version">0.4.1</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Reply to specific messages in groups.</li>\r\n            <li>Mention @usernames in groups to notify multiple users.</li>\r\n            <li>Revised notifications in groups: mentioned users and people you reply to will be notified (private chat notification settings apply in this case instead of group settings). Check out <a href="https://telegram.org/blog/replies-mentions-hashtags" target="_blank">Telegram Blog</a> for more info.</li>\r\n            <li>Setting to disable message preview</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.4.0\')">\r\n        <div class="md_modal_section_version">0.4.0</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Full stickers support</li>\r\n            <li>Multisearch box: instantly find chats, usernames and messages</li>\r\n            <li>Emoji autocomplete: e.g., type <strong>:kiss</strong> in the message field to see the list. <a href="http://www.emoji-cheat-sheet.com/" target="_blank">Full cheat sheet &raquo;</a></li>\r\n            <li>Added \'typing\' notification in chats list</li>\r\n            <li>Online members counter in group headers</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.9\')">\r\n        <div class="md_modal_section_version">0.3.9</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>[Desktop] Material design completed</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.8\')">\r\n        <div class="md_modal_section_version">0.3.8</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Telegram.me links open right in Telegram Web when authorized</li>\r\n            <li>@username mentions in messages are clickable and open a conversation with the user</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.7\')">\r\n        <div class="md_modal_section_version">0.3.7</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>[Desktop] New material design for modal windows</li>\r\n            <li>[Desktop] Forward messages to multiple recipients</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.6\')">\r\n        <div class="md_modal_section_version">0.3.6</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>New viewer for photos, videos, documents.</li>\r\n            <li>[FirefoxOS] Improved media downloads.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.5\')">\r\n        <div class="md_modal_section_version">0.3.5</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added embedded Soundcloud tracks and playlists.</li>\r\n            <li>Added global user search to contacts list.</li>\r\n            <li>Added switch to mobile version on window resize.</li>\r\n            <li>Migrate to HTTPS notification</li>\r\n            <li>Bugfixes.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.4\')">\r\n        <div class="md_modal_section_version">0.3.4</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added embedded Facebook posts and Vimeo videos.</li>\r\n            <li>Improved IE10+ support: downloading files and style fixes.</li>\r\n            <li>Added unsupported media playback warning.</li>\r\n            <li>Bugfixes.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.3\')">\r\n        <div class="md_modal_section_version">0.3.3</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added Native Client module: dramatically improved encryption speed; Download and upload speed is now as high as in native applications.</li>\r\n            <li>HTTPS. We recommend you to use <a href="https://web.telegram.org" target="_blank">https://web.telegram.org</a>.</li>\r\n            <li>Added multiple open tabs warning. Please note, that only one tab with Telegram Web will work.</li>\r\n            <li>Added embedded Instagram, Twitter, Vine, YouTube links.</li>\r\n            <li>Jump to selected spot when playing back audio.</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.2\')">\r\n        <div class="md_modal_section_version">0.3.2</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Usernames support: <a href="" ng-click="changeUsername()">Choose a username right now!</a></li>\r\n            <li>Search can now find public users by username.</li>\r\n            <li>Most popular emoticons shown in \'recent\' when empty</li>\r\n            <li>[ChromeApp] Added saving window position and size</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.1\')">\r\n        <div class="md_modal_section_version">0.3.1</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>New languages: Spanish, German and Italian are now available </li>\r\n            <li>New custom-made audio player</li>\r\n            <li>Bad browser page for IE 6-9</li>\r\n            <li>Perfomance improvements and bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_versioned_section_wrap" ng-if="canShowVersion(\'0.3.0\')">\r\n        <div class="md_modal_section_version">0.3.0</div>\r\n        <div class="md_modal_section_description changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Log in codes may be received in other Telegram apps</li>\r\n            <li>Partner\'s online status updates automatically</li>\r\n            <li>Added support for non-english hashtags in messages</li>\r\n            <li>Fixed invalid scrollbar width bug</li>\r\n            <li>[Desktop] Added automatic country code detection</li>\r\n            <li>[FirefoxOS] Improved PUSH-notifications for &lt;= 1.1</li>\r\n            <li>[FirefoxOS] Fixed emoji in notifications</li>\r\n            <li>[FirefoxOS] Fixed attachment bug for &lt;= 1.1</li>\r\n            <li>[FirefoxOS] Added phonebook permissions handling</li>\r\n            <li>[FirefoxOS] Added ability to share Gallery photos in Telegram</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div class="changelog_footer_wrap clearfix">\r\n      <a class="changelog_github_link" href="https://github.com/zhukov/webogram" target="_blank">GitHub</a>\r\n      <a ng-show="changelogHidden" class="changelog_more_link" href="" ng-click="showAllVersions()">View Previous Updates</a>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/chat_create_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateGroup()">\r\n\r\n      <h4 my-i18n="group_create_modal_title"></h4>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="group_create_name"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="group.name" />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: group.creating}" ng-click="createGroup()" ng-bind="group.creating ? \'group_create_submit_active\' : \'group_create_submit\' | i18n" ng-disabled="group.creating"></button>\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/chat_edit_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateGroup()">\r\n\r\n      <h4 my-i18n="group_edit_modal_title"></h4>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="group_edit_name"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="group.name" />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: group.updating}" ng-click="updateGroup()" ng-bind="group.updating ? \'group_edit_submit_active\' : \'group_edit_submit\' | i18n" ng-disabled="group.updating"></button>\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/chat_invite_link_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <div class="modal_simple_form">\r\n\r\n      <h4 my-i18n="group_invite_link_modal_title"></h4>\r\n\r\n      <div class="md-input-group md-textarea-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="group_invite_link_link_label"></label>\r\n        <textarea class="md-input" ng-model="exportedInvite.link" rows="2" my-copy-field="\'ui_invite_select\'"></textarea>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: exportedInvite.revoking}" ng-click="revokeLink()" ng-bind="exportedInvite.revoking ? \'group_invite_revoke_active\' : \'group_invite_revoke\' | i18n" ng-disabled="exportedInvite.revoking"></button>\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/chat_modal.html",'<div class="chat_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$close()" my-i18n="modal_close"></a>\r\n        <a class="md_modal_action" ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left" ng-click="editTitle()" my-i18n="modal_edit"></a>\r\n      </div>\r\n      <div class="md_modal_title" my-i18n="group_modal_info"></div>\r\n    </div>\r\n\r\n    <div class="peer_modal_profile_wrap clearfix">\r\n      <div class="peer_modal_photo_wrap pull-left" ng-switch="photo.updating">\r\n        <div ng-switch-when="true" class="peer_modal_photo md_photo_loading loading_dots">\r\n          <i></i><i></i><i></i>\r\n        </div>\r\n        <a ng-switch-default ng-click="openPhoto(chatFull.chat_photo.id, {p: -chatFull.chat.id})" class="peer_modal_photo" my-peer-photolink="::-chatFull.chat.id" img-class="peer_modal_photo" no-open="true" watch="true" ng-class="{disabled: !chatFull.chat.photo.photo_small}" ng-disabled="!chatFull.chat.photo.photo_small"></a>\r\n      </div>\r\n      <div class="peer_modal_profile">\r\n        <div class="peer_modal_profile_name" my-chat-link="chatFull.chat.id"></div>\r\n        <div class="peer_modal_profile_description" ng-if="chatFull.chat.participants_count > 0">\r\n          <ng-pluralize count="chatFull.chat.participants_count"\r\n                        when="group_modal_pluralize_participants">\r\n          </ng-pluralize>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_split_actions_wrap">\r\n    <div class="md_modal_split_actions">\r\n      <div class="md_modal_split_action">\r\n        <input my-file-upload  type="file" multiple="false" class="im_attach_input" size="120" multiple="false" accept="image/x-png, image/png, image/gif, image/jpeg" title="{{\'group_modal_update_photo\' | i18n}}" />\r\n        <i class="md_modal_split_action_camera"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="md_modal_sections">\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_link" ng-if="chatFull.chat._ != \'chatForbidden\'">\r\n        <i class="md_modal_section_icon md_modal_section_icon_person"></i>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-switch="chatFull.chat.left">\r\n\r\n          <a ng-switch-when="true" class="md_modal_section_link" ng-click="returnToGroup()" my-i18n="group_modal_return"></a>\r\n          <a ng-switch-default class="md_modal_section_link" ng-click="inviteToGroup()" my-i18n="group_modal_add_member"></a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap  md_modal_iconed_section_link" ng-if="chatFull.chat._ != \'chatForbidden\' && !chatFull.chat.left && chatFull.isAdmin">\r\n        <!-- <i class="md_modal_section_icon md_modal_section_icon_more"></i> -->\r\n\r\n        <div class="md_modal_section_link_wrap">\r\n          <a class="md_modal_section_link" ng-click="inviteViaLink()" my-i18n="group_modal_menu_share_link"></a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_toggle">\r\n        <i class="md_modal_section_icon md_modal_section_icon_notification"></i>\r\n\r\n        <a class="md_modal_section_toggle_wrap tg_checkbox" ng-click="settings.notifications = !settings.notifications" ng-class="settings.notifications ? \'tg_checkbox_on\' : \'\'">\r\n          <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n          <span class="tg_checkbox_label" my-i18n="group_modal_notifications"></span>\r\n        </a>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap  md_modal_iconed_section_link">\r\n        <i class="md_modal_section_icon md_modal_section_icon_more"></i>\r\n\r\n        <div class="md_modal_section_link_wrap">\r\n          <a class="md_modal_section_link" ng-click="flushHistory()" my-i18n="group_modal_menu_delete_chat"></a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left &amp;&amp; chatFull.participants.participants.length > 0">\r\n\r\n      <div class="md_modal_section_splitter"></div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_peers">\r\n        <i class="md_modal_section_icon md_modal_section_icon_people"></i>\r\n\r\n        <div class="md_modal_section_peers_wrap">\r\n\r\n          <div class="md_modal_list_peer_wrap clearfix" ng-repeat="participant in chatFull.participants.participants | orderBy:\'-user.sortStatus\'">\r\n\r\n            <a ng-if="participant.canLeave" ng-click="leaveGroup()" class="md_modal_list_peer_action pull-right" my-i18n="group_modal_menu_leave"></a>\r\n            <a ng-if="participant.canKick" ng-click="kickFromGroup(participant.user_id)" class="md_modal_list_peer_action pull-right" my-i18n="group_modal_members_kick"></a>\r\n\r\n            <a class="md_modal_list_peer_photo pull-left" my-peer-photolink="::participant.user_id" img-class="md_modal_list_peer_photo"></a>\r\n\r\n            <div class="md_modal_list_peer_name">\r\n              <a class="md_modal_list_peer_name" my-user-link="participant.user_id"></a>\r\n            </div>\r\n            <div class="md_modal_list_peer_description" my-user-status="::participant.user_id"></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n'),e.put("partials/desktop/confirm_modal.html",'<div class="confirm_modal_wrap md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <div class="confirm_modal_description" ng-switch="type">\r\n      <span ng-switch-when="LOGOUT" my-i18n="confirm_modal_logout"></span>\r\n      <span ng-switch-when="WEBOGRAM_UPDATED_RELOAD" my-i18n="confirm_modal_update_reload"></span>\r\n      <span ng-switch-when="HISTORY_FLUSH" my-i18n="confirm_modal_history_flush"></span>\r\n      <span ng-switch-when="TERMINATE_SESSIONS" my-i18n="confirm_modal_terminate_sessions"></span>\r\n      <span ng-switch-when="TERMINATE_SESSION" my-i18n="confirm_modal_terminate_session"></span>\r\n\r\n      <span ng-switch-when="FILES_CLIPBOARD_PASTE">\r\n        <ng-pluralize count="files.length"\r\n                     when="confirm_modal_clipboard_X_files_send">\r\n        </ng-pluralize>\r\n      </span>\r\n      <span ng-switch-when="FILE_CLIPBOARD_PASTE" my-i18n="confirm_modal_clipboard_file_send"></span>\r\n      <span ng-switch-when="MESSAGE_DELETE" my-i18n="confirm_modal_message_delete"></span>\r\n      <span ng-switch-when="MESSAGES_DELETE">\r\n        <ng-pluralize count="count"\r\n                     when="confirm_modal_X_messages_delete">\r\n        </ng-pluralize>\r\n      </span>\r\n      <span ng-switch-when="PHOTO_DELETE" my-i18n="confirm_modal_photo_delete"></span>\r\n      <span ng-switch-when="CONTACTS_IMPORT_PERFORM" my-i18n="confirm_modal_contacts_import"></span>\r\n      <div ng-switch-when="LOGIN_PHONE_CORRECT">\r\n        <my-i18n msgid="confirm_modal_login_phone_correct"></my-i18n>\r\n        <div class="confirm_phone_number">\r\n          <span ng-bind="country_code"></span> <span ng-bind="phone_number"></span>\r\n        </div>\r\n      </div>\r\n      <my-i18n>\r\n        <span ng-switch-when="FORWARD_PEER" my-i18n-format="confirm_modal_forward_to_peer"></span>\r\n        <span ng-switch-when="SHARE_CONTACT_PEER" my-i18n-format="confirm_modal_send_to_peer"></span>\r\n        <span ng-switch-when="EXT_SHARE_PEER" my-i18n-format="confirm_modal_share_file_peer"></span>\r\n        <my-i18n-param name="peer">\r\n          <strong ng-switch="peer_id > 0">\r\n            <span ng-switch-when="true" my-user-link="peer_id"></span>\r\n            <span ng-switch-default my-chat-link="-peer_id"></span>\r\n          </strong>\r\n        </my-i18n-param>\r\n      </my-i18n>\r\n      <div ng-switch-when="APPLY_LANG_WITH_RELOAD" my-i18n="confirm_modal_apply_lang_with_reload_md"></div>\r\n      <div ng-switch-when="MIGRATE_TO_HTTPS" my-i18n="confirm_modal_migrate_to_https_md"></div>\r\n      <div ng-switch-when="SWITCH_DESKTOP_VERSION" my-i18n="confirm_modal_resize_desktop_md"></div>\r\n      <div ng-switch-when="SWITCH_MOBILE_VERSION" my-i18n="confirm_modal_resize_mobile_md"></div>\r\n      <div ng-switch-when="RECOVERY_EMAIL_EMPTY" my-i18n="confirm_modal_recovery_email_empty_md"></div>\r\n      <div ng-switch-when="PASSWORD_ABORT_SETUP"  my-i18n="confirm_modal_abort_password_setup"></div>\r\n      <div ng-switch-when="RESET_ACCOUNT" my-i18n="confirm_modal_reset_account_md"></div>\r\n      <div ng-switch-when="JOIN_GROUP_BY_LINK" my-i18n="confirm_modal_join_group_link">\r\n        <my-i18n-param name="title"><strong ng-bind="title"></strong></my-i18n-param>\r\n      </div>\r\n      <div ng-switch-when="REVOKE_GROUP_INVITE_LINK" my-i18n="confirm_modal_revoke_group_link"></div>\r\n\r\n\r\n      <span ng-switch-default ng-switch="message.length > 0">\r\n        <span ng-switch-when="true" ng-bind="message"></span>\r\n        <span ng-switch-default my-i18n="confirm_modal_are_u_sure"></span>\r\n      </span>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()">\r\n      <span my-i18n="modal_cancel"></span>\r\n    </button>\r\n    <button class="btn btn-md btn-md-primary" ng-switch="type" ng-click="$close()" ng-class="{\'btn-md-danger\': type == \'RESET_ACCOUNT\'}" my-focused >\r\n      <span ng-switch-when="LOGOUT" my-i18n="confirm_modal_logout_submit"></span>\r\n      <span ng-switch-when="HISTORY_FLUSH" my-i18n="confirm_modal_history_flush_submit"></span>\r\n      <span ng-switch-when="FILES_CLIPBOARD_PASTE" my-i18n="confirm_modal_clipboard_files_send_submit"></span>\r\n      <span ng-switch-when="FILE_CLIPBOARD_PASTE" my-i18n="confirm_modal_clipboard_file_send_submit"></span>\r\n      <span ng-switch-when="MESSAGE_DELETE" my-i18n="confirm_modal_message_delete_submit"></span>\r\n      <span ng-switch-when="MESSAGES_DELETE" my-i18n="confirm_modal_messages_delete_submit"></span>\r\n      <span ng-switch-when="PHOTO_DELETE" my-i18n="confirm_modal_photo_delete_submit"></span>\r\n      <span ng-switch-when="FORWARD_PEER" my-i18n="confirm_modal_forward_message_submit"></span>\r\n      <span ng-switch-when="PHOTO_SHARE_PEER" my-i18n="confirm_modal_share_photo_submit"></span>\r\n      <span ng-switch-when="VIDEO_SHARE_PEER" my-i18n="confirm_modal_share_video_submit"></span>\r\n      <span ng-switch-when="SHARE_CONTACT_PEER" my-i18n="confirm_modal_share_contact_submit"></span>\r\n      <span ng-switch-when="EXT_SHARE_PEER" my-i18n="confirm_modal_share_file_submit"></span>\r\n      <span ng-switch-when="RESET_ACCOUNT" my-i18n="confirm_modal_reset_account_submit"></span>\r\n      <span ng-switch-default my-i18n="modal_ok"></span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n'),
e.put("partials/desktop/contacts_modal.html",'<div class="contacts_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head md_modal_head_simple">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-if="action != \'edit\'" ng-click="$dismiss()" my-i18n="modal_close"></a>\r\n        <a class="md_modal_action" ng-if="action == \'edit\'" class="contacts_modal_edit_link" ng-click="toggleEdit(false)" my-i18n="contacts_modal_edit_cancel"></a>\r\n        <a class="md_modal_action" ng-if="!action" ng-click="toggleEdit(true)" my-i18n="contacts_modal_edit_list"></a>\r\n      </div>\r\n    </div>\r\n    <div class="md_modal_title" ng-switch="action">\r\n      <div ng-switch-when="new_group" ng-switch="selectedCount > 0">\r\n        <span ng-switch-when="true">\r\n          <ng-pluralize count="selectedCount" when="contacts_modal_pluralize_new_group_members">\r\n          </ng-pluralize>\r\n        </span>\r\n        <span ng-switch-default my-i18n="group_create_contacts_modal_title"></span>\r\n      </div>\r\n      <span ng-switch-default my-i18n="contacts_modal_title"></span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="contacts_modal_search">\r\n      <input class="form-control contacts_modal_search_field no_outline" my-focused type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n      <a class="im_dialogs_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n        <i class="icon icon-search-clear"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div my-contacts-list class="contacts_modal_col">\r\n\r\n      <div class="contacts_wrap nano" my-infinite-scroller>\r\n        <div class="contacts_scrollable_wrap nano-content" ng-switch="contactsEmpty">\r\n\r\n          <div ng-switch-when="true" class="contacts_modal_contacts_empty" my-vertical-position="0.2" padding="true" my-i18n="contacts_modal_empty_list">\r\n            <my-i18n-param name="import-link"><a href="" ng-click="importContact()">{0}</a></my-i18n-param>\r\n          </div>\r\n\r\n          <ul ng-switch-default class="contacts_modal_members_list nav nav-pills nav-stacked">\r\n\r\n            <li class="contacts_modal_contact_wrap clearfix" ng-repeat="contact in contacts | orderBy:\'user.sortName\' | limitTo: slice.limit track by contact.userID" ng-class="{active: selectedContacts[contact.userID], disabled: disabledContacts[contact.userID]}">\r\n              <a class="contacts_modal_contact" ng-click="contactSelect(contact.userID)">\r\n\r\n                <div class="md_modal_list_peer_photo pull-left" my-peer-photolink="::contact.userID" img-class="md_modal_list_peer_photo"></div>\r\n                <div class="md_modal_list_peer_name" my-user-link="contact.userID"></div>\r\n                <div class="md_modal_list_peer_description" ng-switch="contact.found">\r\n                  <span ng-switch-when="true" ng-bind="\'@\' + contact.user.username"></span>\r\n                  <span ng-switch-default my-user-status="::contact.userID"></span>\r\n                </div>\r\n\r\n              </a>\r\n            </li>\r\n\r\n          </ul>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="md_modal_footer clearfix" ng-switch="action">\r\n\r\n    <div ng-switch-when="new_group" class="pull-right">\r\n      <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n      <button class="btn btn-md btn-md-primary" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" ng-click="submitSelected()" type="submit" my-i18n="modal_next"></button>\r\n    </div>\r\n\r\n    <button ng-switch-when="select" class="btn btn-md btn-md-primary pull-right" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" ng-click="submitSelected()" type="submit" my-i18n="modal_next"></button>\r\n\r\n    <button ng-switch-when="edit" class="btn btn-md btn-md-danger pull-right"  ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" ng-click="deleteSelected()">\r\n      <my-i18n msgid="contacts_modal_edit_delete"></my-i18n>\r\n      <strong ng-bind="selectedCount"></strong>\r\n    </button>\r\n\r\n    <div ng-switch-default class="text-center">\r\n      <button class="btn btn-md btn-md-primary" ng-click="importContact()" my-i18n="contacts_modal_new_contact"></button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/country_select_modal.html",'<div class="countries_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head md_modal_head_simple">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$dismiss()" my-i18n="modal_close"></a>\r\n      </div>\r\n    </div>\r\n    <div class="md_modal_title" my-i18n="country_select_modal_title"></div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="countries_modal_search">\r\n      <input class="form-control countries_modal_search_field no_outline" my-focused type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n      <a class="countries_modal_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n        <i class="icon icon-search-clear"></i>\r\n      </a>\r\n\r\n    </div>\r\n\r\n    <div class="countries_modal_col" my-countries-list>\r\n\r\n      <div class="countries_wrap nano" my-infinite-scroller>\r\n        <div class="countries_scrollable_wrap nano-content">\r\n\r\n          <ul class="countries_modal_members_list nav nav-pills nav-stacked">\r\n\r\n            <li class="countries_modal_country_wrap clearfix" ng-repeat="country in countries | limitTo : slice.limit track by $index">\r\n              <a class="countries_modal_country" ng-click="$close(country)">\r\n                <span class="countries_modal_country_code pull-right" ng-bind="country.code"></span>\r\n                <span class="countries_modal_country_name" ng-bind="country.name"></span>\r\n              </a>\r\n            </li>\r\n\r\n          </ul>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/dialog.html",'<a class="im_dialog" ng-mousedown="dialogSelect(dialogMessage.peerString, dialogMessage.unreadCount == -1 && dialogMessage.id)">\r\n\r\n  <div class="im_dialog_meta pull-right text-right">\r\n    <div class="im_dialog_date" ng-bind="dialogMessage.dateText"></div>\r\n    <span\r\n      class="im_dialog_badge badge"\r\n      ng-show="dialogMessage.unreadCount > 0 && !dialogMessage.out"\r\n      ng-bind="dialogMessage.unreadCount"\r\n    ></span>\r\n    <i\r\n      class="im_dialog_unread"\r\n      ng-show="dialogMessage.out && dialogMessage.unread"\r\n    ></i>\r\n  </div>\r\n\r\n  <div class="im_dialog_photo pull-left" my-peer-photolink="::dialogMessage.peerID" img-class="im_dialog_photo" watch="true"></div>\r\n\r\n  <div class="im_dialog_message_wrap">\r\n\r\n    <div class="im_dialog_peer" ng-switch="::dialogMessage.peerID > 0">\r\n      <span class="im_dialog_user" ng-switch-when="true" my-user-link="dialogMessage.peerID"></span>\r\n      <span class="im_dialog_chat" ng-switch-default  my-chat-link="-dialogMessage.peerID"></span>\r\n    </div>\r\n\r\n    <div ng-if="dialogMessage.typing > 0" class="im_dialog_message">\r\n      <span class="im_dialog_message_service" my-i18n="im_conversation_group_typing">\r\n        <my-i18n-param name="name"><span my-user-link="dialogMessage.typing" short="true" class="im_dialog_chat_from_wrap"></span></my-i18n-param><my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>\r\n      </span>\r\n    </div>\r\n\r\n    <div ng-show="!dialogMessage.typing" ng-switch="dialogMessage.deleted">\r\n      <div ng-switch-when="true" class="im_dialog_message">\r\n        <span class="im_dialog_message_text" my-i18n="conversation_message_deleted"></span>\r\n      </div>\r\n      <div ng-switch-default class="im_dialog_message">\r\n        <span ng-switch="::dialogMessage.peerID > 0">\r\n          <span ng-switch-when="true">\r\n            <span class="im_dialog_chat_from_wrap" ng-if="dialogMessage.out">\r\n              <span\r\n                class="im_dialog_chat_from"\r\n                my-i18n="conversation_you"\r\n              ></span><span ng-if="dialogMessage.message.length > 0 || !!dialogMessage.media">:</span>\r\n            </span>\r\n          </span>\r\n          <span ng-switch-default>\r\n            <span class="im_dialog_chat_from_wrap" ng-switch="dialogMessage.out && dialogMessage._ != \'messageService\'">\r\n              <span\r\n                ng-switch-when="false"\r\n                class="im_dialog_chat_from"\r\n                my-user-link="dialogMessage.from_id" short="true" user-watch="true"\r\n              ></span><span\r\n                ng-switch-when="true"\r\n                class="im_dialog_chat_from"\r\n                my-i18n="conversation_you"\r\n              ></span><span ng-if="dialogMessage.message.length || dialogMessage.media">:</span>\r\n            </span>\r\n          </span>\r\n        </span>\r\n\r\n        <span class="im_dialog_message_media" ng-if="dialogMessage.media" ng-switch="dialogMessage.media._">\r\n          <span ng-switch-when="messageMediaPhoto" my-i18n="conversation_media_photo"></span>\r\n          <span ng-switch-when="messageMediaVideo" my-i18n="conversation_media_video"></span>\r\n          <span ng-switch-when="messageMediaDocument" ng-switch="::dialogMessage.media.document.sticker || false">\r\n            <span ng-switch-when="1" my-i18n="conversation_media_sticker"></span>\r\n            <span ng-switch-when="2">\r\n              <span ng-bind-html="dialogMessage.media.document.stickerEmoji"></span>\r\n              (<my-i18n msgid="conversation_media_sticker"></my-i18n>)\r\n            </span>\r\n            <span ng-switch-default ng-bind="dialogMessage.media.document.file_name"></span>\r\n          </span>\r\n          <span ng-switch-when="messageMediaAudio" my-i18n="conversation_media_audio"></span>\r\n          <span ng-switch-when="messageMediaGeo" my-i18n="conversation_media_location"></span>\r\n          <span ng-switch-when="messageMediaVenue" my-i18n="conversation_media_location"></span>\r\n          <span ng-switch-when="messageMediaContact" my-i18n="conversation_media_contact"></span>\r\n        </span>\r\n\r\n        <span class="im_dialog_message_service" ng-if="dialogMessage._ == \'messageService\'" ng-switch="dialogMessage.action._">\r\n          <span ng-switch-when="messageActionChatCreate" my-i18n="conversation_group_created"></span>\r\n          <span ng-switch-when="messageActionChatEditTitle" my-i18n="conversation_group_renamed"></span>\r\n          <span ng-switch-when="messageActionChatEditPhoto" my-i18n="conversation_group_photo_updated"></span>\r\n          <span ng-switch-when="messageActionChatDeletePhoto" my-i18n="conversation_group_photo_removed"></span>\r\n\r\n          <span ng-switch-when="messageActionChatAddUser" ng-switch="dialogMessage.from_id == dialogMessage.action.user_id">\r\n            <span ng-switch-when="true" my-i18n="conversation_returned_to_group"></span>\r\n            <span ng-switch-default my-i18n="conversation_invited_user">\r\n              <my-i18n-param name="user"><span my-user-link="dialogMessage.action.user_id"></span></my-i18n-param>\r\n            </span>\r\n          </span>\r\n\r\n          <span ng-switch-when="messageActionChatDeleteUser" ng-switch="dialogMessage.from_id == dialogMessage.action.user_id">\r\n            <span ng-switch-when="true" my-i18n="conversation_left_group"></span>\r\n            <span ng-switch-default my-i18n="conversation_kicked_user">\r\n              <my-i18n-param name="user"><span my-user-link="dialogMessage.action.user_id"></span></my-i18n-param>\r\n            </span>\r\n          </span>\r\n\r\n          <span ng-switch-when="messageActionChatJoinedByLink" my-i18n="conversation_joined_by_link"></span>\r\n\r\n        </span>\r\n\r\n        <span class="im_dialog_message_text" ng-if="dialogMessage.message.length" ng-bind-html="dialogMessage.richMessage"></span>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</a>\r\n'),e.put("partials/desktop/document_modal.html",'<div class="modal_close_wrap" ng-click="$close()">\r\n  <div class="modal_close"></div>\r\n</div>\r\n\r\n<div class="media_modal_bottom_panel_wrap">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-click="download()" title="{{\'media_modal_download\' | i18n}}">\r\n        <i class="media_modal_action_btn_download"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap pull-left" ng-switch="messageID > 0">\r\n      <a class="media_modal_author_photo pull-left" my-peer-photolink="document.user_id" img-class="media_modal_author_photo" watch="true"></a>\r\n      <div class="media_modal_author_name">\r\n        <a class="media_modal_author" my-user-link="document.user_id" user-watch="true"></a>\r\n      </div>\r\n      <div class="media_modal_date">\r\n        <a ng-switch-when="true" class="media_modal_date" ng-click="goToMessage()" ng-bind="document.date | dateOrTime :true"></a>\r\n        <span ng-switch-default ng-bind="document.date | dateOrTime :true"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="media_modal_title_wrap" ng-bind="document.file_name"></div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{photo.full.modalWidth}}" class="media_modal_wrap photo_modal_wrap" my-modal-position animation="no">\r\n\r\n      <div class="modal-body">\r\n\r\n        <div my-load-document="document"></div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>'),e.put("partials/desktop/edit_contact_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="doImport()">\r\n\r\n      <h4 my-i18n="contact_edit_modal_title"></h4>\r\n\r\n      <div class="md-input-group md-input-disabled" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_import_modal_phone"></label>\r\n        <span class="md-input" ng-bind="importContact.phone | phoneNumber"></span>\r\n      </div>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_edit_modal_first_name"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="importContact.first_name" my-submit-on-enter />\r\n      </div>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_edit_modal_last_name"></label>\r\n        <input class="md-input" type="text" ng-model="importContact.last_name" my-submit-on-enter />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: progress.enabled}" ng-click="doImport()" ng-bind="progress.enabled ? \'contact_edit_modal_submit_active\' : \'contact_edit_modal_submit\'| i18n" ng-disabled="progress.enabled"></button>\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/embed_modal.html",'<div class="modal_close_wrap" ng-click="$close()">\r\n  <div class="modal_close"></div>\r\n</div>\r\n\r\n<div class="media_modal_bottom_panel_wrap">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap pull-left" ng-if="webpageID">\r\n      <div class="media_modal_author_name">\r\n        <a class="media_modal_author" href="{{webpage.url}}" target="_blank" ng-bind-html="webpage.rTitle"></a>\r\n      </div>\r\n      <div class="media_modal_date"  ng-bind="webpage.site_name || webpage.display_url"></div>\r\n    </div>\r\n\r\n    <div class="media_modal_title_wrap" my-i18n="media_modal_video"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{webpage.full.width - 32}}" class="media_modal_wrap embed_modal_wrap" my-modal-position animation="no">\r\n\r\n      <div class="modal-body" ng-bind-html="webpage.full.html">\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>'),e.put("partials/desktop/emoji_btn_tooltip.html",'<div class="composer_emoji_btn_wrap">\r\n\r\n  <div class="composer_emoji_tooltip_wrap">\r\n    <div class="composer_emoji_tooltip">\r\n\r\n      <div class="composer_emoji_tooltip_tabs">\r\n        <a ng-repeat="tab in ::tabs" href="" class="composer_emoji_tooltip_tab" ng-class="[\'composer_emoji_tooltip_tab_\' + tab, curTab == tab ? \'active\' : \'\']" ng-click="tabSelect(tab)"></a>\r\n      </div>\r\n\r\n      <div class="composer_emoji_content" ng-switch="curTab == \'stickers\'">\r\n        <div ng-switch-when="true" class="composer_emoji_content_emoticons">\r\n          <a class="composer_emoticon_option" href="" ng-repeat="emoji in emojis" ng-click="emojiSelect(emoji)"></a>\r\n        </div>\r\n        <div ng-switch-default class="composer_emoji_content_stickers">\r\n          <a class="composer_sticker_option" href="" ng-repeat="sticker in stickers" ng-click="stickerSelect(sticker)"></a>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <a class="composer_emoji_btn">\r\n    <i class="icon icon-emoji"></i>\r\n  </a>\r\n\r\n</div>'),e.put("partials/desktop/error_modal.html",'<div class="error_modal_wrap md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <h4 ng-if="error" class="md_simple_header" ng-switch="error.type">\r\n      <span ng-switch-when="MEDIA_TYPE_NOT_SUPPORTED" my-i18n="error_modal_media_not_supported_title"></span>\r\n      <span ng-switch-when="USERNAME_NOT_OCCUPIED" my-i18n="error_modal_not_found_title"></span>\r\n      <span ng-switch-when="PASSWORD_RECOVERY_NA" my-i18n="error_modal_recovery_na_title"></span>\r\n      <span ng-switch-default ng-switch="error.code">\r\n        <span ng-switch-when="400" my-i18n="error_modal_bad_request_title"></span>\r\n        <span ng-switch-when="401" my-i18n="error_modal_unauthorized_title"></span>\r\n        <span ng-switch-when="403" my-i18n="error_modal_forbidden_title"></span>\r\n        <span ng-switch-when="404" my-i18n="error_modal_not_found_title"></span>\r\n        <span ng-switch-when="406" my-i18n="error_modal_network_title"></span>\r\n        <span ng-switch-when="420" my-i18n="error_modal_flood_title"></span>\r\n        <span ng-switch-default my-i18n="error_modal_internal_title"></span>\r\n      </span>\r\n    </h4>\r\n    <h4 ng-if="!error" class="md_simple_header" ng-switch="title.length > 0">\r\n      <span ng-switch-when="true" ng-bind="title"></span>\r\n      <span ng-switch-default my-i18n="error_modal_alert"></span>\r\n    </h4>\r\n\r\n    <div ng-if="error" class="error_modal_description" ng-switch="error.type">\r\n      <span ng-switch-when="NETWORK_BAD_REQUEST" my-i18n="error_modal_network_description"></span>\r\n      <span ng-switch-when="NETWORK_BAD_RESPONSE" my-i18n="error_modal_network_description"></span>\r\n      <span ng-switch-when="FIRSTNAME_INVALID" my-i18n="error_modal_firstname_invali_description"></span>\r\n      <span ng-switch-when="LASTNAME_INVALID" my-i18n="error_modal_lastname_invalid_description"></span>\r\n      <span ng-switch-when="PHONE_NUMBER_INVALID" my-i18n="error_modal_phone_invalid_description"></span>\r\n      <span ng-switch-when="USERS_TOO_MUCH" my-i18n="error_modal_users_too_much_description"></span>\r\n      <span ng-switch-when="PHOTO_INVALID_DIMENSIONS" my-i18n="error_modal_photo_dimensions_invalid_description"></span>\r\n      <span ng-switch-when="VIDEO_EXT_INVALID" my-i18n="error_modal_video_file_invalid_description"></span>\r\n      <span ng-switch-when="PHOTO_CROP_SIZE_SMALL" my-i18n="error_modal_photo_too_small_description"></span>\r\n      <span ng-switch-when="USER_NOT_USING_TELEGRAM" my-i18n="error_modal_no_phone_user_description_md"></span>\r\n      <span ng-switch-when="USERS_NOT_USING_TELEGRAM" my-i18n="error_modal_no_phone_users_description_md"></span>\r\n      <span ng-switch-when="PHONEBOOK_GET_CONTACTS_FAILED" my-i18n="error_modal_phonebook_required_description"></span>\r\n      <span ng-switch-when="USERNAME_INVALID" my-i18n="error_modal_username_invalid_description"></span>\r\n      <span ng-switch-when="USERNAME_OCCUPIED" my-i18n="error_modal_username_occupied_description"></span>\r\n      <span ng-switch-when="MEDIA_TYPE_NOT_SUPPORTED" my-i18n="error_modal_media_not_supported_description"></span>\r\n      <span ng-switch-when="USERNAME_NOT_OCCUPIED" my-i18n="error_modal_username_not_found_description"></span>\r\n      <span ng-switch-when="USER_NOT_MUTUAL_CONTACT" my-i18n="error_modal_user_not_mutual_contact"></span>\r\n      <span ng-switch-when="INVITE_HASH_INVALID" my-i18n="error_modal_invite_link_invalid"></span>\r\n      <span ng-switch-when="INVITE_HASH_EXPIRED" my-i18n="error_modal_invite_link_invalid"></span>\r\n      <span ng-switch-when="INVITE_HASH_EMPTY" my-i18n="error_modal_invite_link_invalid"></span>\r\n\r\n\r\n\r\n      <div ng-switch-default ng-switch="error.code">\r\n        <span ng-switch-when="400" my-i18n="error_modal_bad_request_description"></span>\r\n        <span ng-switch-when="401" my-i18n="error_modal_unauthorized_description">\r\n          <my-i18n-param name="login-link"><a href="#/login">{0}</a></my-i18n-param>\r\n        </span>\r\n        <span ng-switch-when="403" my-i18n="error_modal_forbidden_description"></span>\r\n        <span ng-switch-when="404" my-i18n="error_modal_not_found_description"></span>\r\n        <span ng-switch-when="420" my-i18n="error_modal_flood_description"></span>\r\n        <span ng-switch-default my-i18n="error_modal_internal_description"></span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div ng-if="error" class="error_modal_details" ng-switch="error.detailsShown">\r\n      <textarea ng-switch-when="true" rows="3" onclick="this.select()">Method: {{error.input || \'N/A\'}}\r\nResult: {{error.originalError ? error.originalError : (error.stack ? (error.name || \'\') + \' \' + (error.description || error.message) : error)}}\r\nStack: {{error.originalError.stack || error.stack}}</textarea>\r\n      <div ng-switch-default>\r\n        <a class="error_modal_details_link" href="" ng-click="error.detailsShown = true" my-i18n="error_modal_tech_details"></a>\r\n      </div>\r\n    </div>\r\n\r\n    <div ng-if="!error" class="error_modal_description" ng-bind="description"></div>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md btn-md-primary" ng-click="$dismiss()" my-focused>\r\n      <span my-i18n="modal_ok"></span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/footer.html",'<div class="footer_wrap" ng-controller="AppFooterController">\r\n	<a class="footer_link" href="https://telegram.org" target="_blank" my-i18n="head_about"></a>\r\n  <a class="footer_link" ng-click="openSettings()" my-i18n="im_settings"></a>\r\n  <a class="footer_link" href="https://twitter.com/telegram_web" target="_blank" my-i18n="footer_twitter"></a>\r\n</div>'),e.put("partials/desktop/full_document.html",'<div class="document_modal_image_wrap">\r\n  <div class="img_fullsize_with_progress_wrap document_fullsize_with_progress_wrap" ng-style="{width: frameWidth + \'px\', height: frameHeight + \'px\'}">\r\n    <div class="img_fullsize_progress_overlay">\r\n      <div class="img_fullsize_progress_wrap" ng-style="{width: frameWidth + \'px\', height: frameHeight + \'px\'}">\r\n        <div class="img_fullsize_progress progress tg_progress">\r\n          <div class="progress-bar progress-bar-success" style="width: {{document.progress.percent}}%"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="img_fullsize_wrap" ng-if="thumbSrc.length > 0">\r\n      <img\r\n        class="img_fullsize"\r\n        ng-src="{{thumbSrc}}"\r\n        ng-style="{width: imageWidth + \'px\', height: imageHeight + \'px\'}"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class="document_fullsize_wrap" ng-click="toggleZoom(!zoomed)">\r\n    <img class="document_fullsize_img" />\r\n  </div>\r\n</div>'),e.put("partials/desktop/full_gif.html",'<a class="img_gif_with_progress_wrap" ng-click="toggle($event)">\r\n\r\n  <div class="img_gif_image_wrap" ng-switch="document.downloaded &amp;&amp; isActive">\r\n\r\n    <img ng-switch-when="true" class="img_gif_image" ng-src="{{document.url}}" />\r\n    <img ng-switch-default class="img_gif_thumb" my-load-thumb thumb="document.thumb" />\r\n\r\n  </div>\r\n\r\n  <div ng-show="!isActive" ng-switch="document.progress.enabled">\r\n\r\n    <div ng-switch-when="true" class="img_gif_progress_wrap">\r\n      <div class="img_gif_progress progress tg_progress">\r\n        <div class="progress-bar progress-bar-success" ng-style="{width: document.progress.percent + \'%\'}"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div ng-switch-default class="img_gif_info_wrap">\r\n      <div class="img_gif_label pull-left">GIF</div>\r\n      <div ng-if="!document.downloaded" class="img_gif_size pull-right" ng-bind="::document.size | formatSize"></div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</a>'),e.put("partials/desktop/full_photo.html",'<div class="img_fullsize_with_progress_wrap">\r\n  <div class="img_fullsize_progress_overlay" ng-show="progress.enabled">\r\n    <div class="img_fullsize_progress_wrap">\r\n      <div class="img_fullsize_progress progress tg_progress" ng-show="progress.percent > 0">\r\n        <div class="progress-bar progress-bar-success" ng-style="{width: progress.percent + \'%\'}">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="photo_full_wrap">\r\n    <a class="photo_modal_image">\r\n      <img class="photo_modal_image"/>\r\n    </a>\r\n  </div>\r\n  <div class="photo_modal_error_wrap" ng-if="error">\r\n    <div class="photo_modal_error" ng-if="error.html" ng-bind-html="error.html"></div>\r\n    <div class="photo_modal_error" ng-if="error.text" ng-bind="error.text"></div>\r\n  </div>\r\n</div>'),e.put("partials/desktop/full_video.html",'<div class="img_fullsize_with_progress_wrap" ng-style="{width: video.full.width + \'px\', height: video.full.height + \'px\'}">\r\n  <div class="img_fullsize_progress_overlay" ng-show="video.progress.enabled">\r\n    <div class="img_fullsize_progress_wrap" ng-style="{width: video.full.width + \'px\', height: video.full.height + \'px\'}">\r\n      <div class="img_fullsize_progress progress tg_progress">\r\n        <div class="progress-bar progress-bar-success" style="width: {{video.progress.percent}}%"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="img_fullsize_wrap" ng-if="!video.url">\r\n    <img\r\n      class="img_fullsize"\r\n      my-load-thumb\r\n      thumb="video.fullThumb"\r\n    />\r\n  </div>\r\n  <div class="video_full_player" ng-if="video.url" ng-switch="player.quicktime">\r\n    <embed ng-switch-when="true" ng-src="{{video.url}}" width="{{video.full.width}}" height="{{video.full.height}}" autoplay="true" CONTROLLER="TRUE" SHOWCONTROLS="TRUE" controller="true" loop="false" pluginspace="http://www.apple.com/quicktime/" />\r\n    <video ng-switch-default width="{{video.full.width}}" height="{{video.full.height}}" controls autoplay >\r\n      <source ng-src="{{video.url}}" type="video/mp4">\r\n    </video>\r\n  </div>\r\n  <div class="video_full_error_wrap" ng-if="error">\r\n    <div class="video_full_error" ng-if="error.html" ng-bind-html="error.html"></div>\r\n    <div class="video_full_error" ng-if="error.text" ng-bind="error.text"></div>\r\n  </div>\r\n</div>'),e.put("partials/desktop/head.html",'<div class="tg_page_head tg_head_wrap noselect clearfix">\r\n  <div class="tg_head_split">\r\n\r\n    <div class="tg_head_logo_wrap">\r\n      <div class="tg_head_logo_dropdown dropdown" dropdown>\r\n        <a class="tg_head_btn dropdown-toggle" dropdown-toggle>\r\n          <div class="icon-hamburger-wrap">\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n          </div><i class="icon icon-tg-title"></i>\r\n        </a>\r\n\r\n        <ul class="dropdown-menu">\r\n          <li><a ng-click="openGroup()">\r\n            <i class="icon icon-new-group"></i><span my-i18n="im_new_group"></span>\r\n          </a></li>\r\n          <li ng-if="!isEmpty.contacts"><a ng-click="openContacts()">\r\n            <i class="icon icon-contacts"></i><span my-i18n="im_contacts"></span>\r\n          </a></li>\r\n          <li><a ng-click="openSettings()">\r\n            <i class="icon icon-settings"></i><span my-i18n="im_settings"></span>\r\n          </a></li>\r\n          <li><a ng-click="openFaq()">\r\n            <i class="icon icon-faq"></i><span my-i18n="head_telegram_faq"></span>\r\n          </a></li>\r\n          <li><a href="" ng-click="openChangelog()">\r\n            <i class="icon icon-about"></i><span my-i18n="head_about"></span>\r\n          </a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="tg_head_main_wrap" ng-switch="offline">\r\n      <div ng-switch-when="true" class="tg_head_connecting_wrap" ng-switch="offlineConnecting">\r\n        <span ng-switch-default class="tg_head_connecting_text"><my-i18n msgid="head_waiting_for_network"></my-i18n><span my-loading-dots></span></span>\r\n        <a ng-switch-default class="tg_head_btn" ng-click="retryOnline()" my-i18n="head_retry"></a>\r\n        <span ng-switch-when="true" class="tg_head_connecting_text"><my-i18n msgid="head_connecting"></my-i18n><span my-loading-dots></span></span>\r\n      </div>\r\n\r\n      <div ng-switch-default ng-if="!!historyPeer.id" class="tg_head_main_peer_wrap">\r\n\r\n        <a class="tg_head_btn tg_head_msgs_edit_btn" my-i18n="im_edit" ng-click="toggleEdit()"></a>\r\n\r\n        <div class="tg_head_peer_dropdown tg_head_peer_media_dropdown dropdown" dropdown>\r\n          <a class="tg_head_btn dropdown-toggle" dropdown-toggle my-i18n="im_media"></a>\r\n          <ul class="dropdown-menu">\r\n            <li><a ng-click="toggleMedia(\'photos\')" my-i18n="head_media_photos"></a></li>\r\n            <li><a ng-click="toggleMedia(\'video\')" my-i18n="head_media_video"></a></li>\r\n            <li><a ng-click="toggleMedia(\'documents\')" my-i18n="head_media_documents"></a></li>\r\n            <li><a ng-click="toggleMedia(\'audio\')" my-i18n="head_media_audio"></a></li>\r\n          </ul>\r\n        </div>\r\n\r\n        <a class="tg_head_btn tg_head_peer_return_btn" ng-show="historyFilter.mediaType.length || historyState.skipped" ng-click="returnToRecent()" ng-switch="historyState.skipped">\r\n          <span ng-switch-when="true" my-i18n="im_show_recent_messages"></span>\r\n          <span ng-switch-default my-i18n="im_show_all_messages"></span>\r\n          <strong class="tg_head_peer_return_count" ng-show="historyState.missedCount > 0" ng-bind="\'+\' + historyState.missedCount"></strong>\r\n        </a>\r\n\r\n        <div class="tg_head_peer_title_wrap" ng-switch="historyFilter.mediaType">\r\n          <div class="tg_head_peer_media" ng-switch-when="photos">\r\n            <i class="icon icon-filter-photos"></i><span my-i18n="im_media_photos"></span>\r\n          </div>\r\n          <div class="tg_head_peer_media" ng-switch-when="video">\r\n            <i class="icon icon-filter-video"></i><span my-i18n="im_media_video"></span>\r\n          </div>\r\n          <div class="tg_head_peer_media" ng-switch-when="documents">\r\n            <i class="icon icon-filter-documents"></i><span my-i18n="im_media_documents"></span>\r\n          </div>\r\n          <div class="tg_head_peer_media" ng-switch-when="audio">\r\n            <i class="icon icon-filter-audio"></i><span my-i18n="im_media_audio"></span>\r\n          </div>\r\n\r\n          <a class="tg_head_btn" ng-switch-default ng-switch="historyPeer.id > 0" ng-click="showPeerInfo()">\r\n            <div class="tg_head_peer_info" ng-switch-when="true">\r\n              <span class="tg_head_peer_title" my-user-link="historyPeer.id" user-watch="true" dir="auto"></span>\r\n              <span class="tg_head_peer_status" my-user-status="historyPeer.id"></span>\r\n            </div>\r\n            <div class="tg_head_peer_info" ng-switch-default>\r\n              <span class="tg_head_peer_title" my-chat-link="-historyPeer.id" chat-watch="true" dir="auto"></span>\r\n              <span class="tg_head_peer_status" my-chat-status="-historyPeer.id"></span>\r\n            </div>\r\n          </a>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'),
e.put("partials/desktop/im.html",'<div my-head></div>\r\n\r\n<div class="im_page_wrap clearfix" ng-class="{im_page_peer_not_selected: !curDialog.peer}">\r\n\r\n  <div class="im_page_split clearfix">\r\n\r\n    <div class="im_dialogs_col_wrap noselect" ng-controller="AppImDialogsController" my-dialogs has-tabs="{{search.query.length > 0}}">\r\n      <div class="im_dialogs_panel">\r\n        <div class="im_dialogs_search">\r\n          <input class="form-control im_dialogs_search_field no_outline" type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n          <a class="im_dialogs_search_clear tg_search_clear" ng-click="searchClear()" ng-show="search.query.length">\r\n            <i class="icon icon-search-clear"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <div my-dialogs-list class="im_dialogs_col">\r\n        <div class="im_dialogs_wrap nano">\r\n          <div class="im_dialogs_scrollable_wrap nano-content">\r\n\r\n            <div class="im_dialogs_empty_wrap" ng-if="isEmpty.contacts">\r\n              <h3 class="im_dialogs_empty_header" my-i18n="im_no_contacts"></h3>\r\n              <p class="im_dialogs_empty_lead" my-i18n="im_get_started_long"></p>\r\n              <button type="button" class="btn btn-primary btn-sm" ng-click="importContact()" my-i18n="im_add_contact"></button>\r\n              <button ng-if="phonebookAvailable" type="button" class="btn btn-primary btn-sm im_dialogs_import_phonebook" ng-click="importPhonebook()" my-i18n="im_import_phonebook"></button>\r\n            </div>\r\n\r\n            <ul class="nav nav-pills nav-stacked">\r\n              <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in dialogs track by dialogMessage.peerID" ng-class="{active: curDialog.peerID == dialogMessage.peerID}"></li>\r\n            </ul>\r\n\r\n            <div class="im_dialogs_contacts_wrap" ng-show="contacts.length > 0">\r\n              <h5 my-i18n="im_contacts_title"></h5>\r\n              <ul class="nav nav-pills nav-stacked">\r\n                <li class="im_dialog_wrap" ng-repeat="contact in contacts | orderBy:\'user.sortName\' track by contact.userID" ng-class="{active: curDialog.peerID == contact.userID}">\r\n                  <a class="im_dialog" ng-mousedown="dialogSelect(contact.peerString)">\r\n                    <div class="im_dialog_photo pull-left" my-peer-photolink="contact.userID" img-class="im_dialog_photo" watch="true"></div>\r\n                    <div class="im_dialog_message_wrap">\r\n                      <div class="im_dialog_peer">\r\n                        <span class="im_dialog_user" my-user-link="contact.userID"></span>\r\n                      </div>\r\n                      <div class="im_dialog_message">\r\n                        <span class="im_dialog_message_text" my-user-status="::contact.userID"></span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div class="im_dialogs_contacts_wrap" ng-show="foundUsers.length > 0">\r\n              <h5 my-i18n="im_found_title"></h5>\r\n              <ul class="nav nav-pills nav-stacked">\r\n                <li class="im_dialog_wrap" ng-repeat="foundUser in foundUsers track by foundUser.userID" ng-class="{active: curDialog.peerID == foundUser.userID}">\r\n                  <a class="im_dialog" ng-mousedown="dialogSelect(foundUser.peerString)">\r\n                    <div class="im_dialog_photo pull-left" my-peer-photolink="foundUser.userID" img-class="im_dialog_photo" watch="true"></div>\r\n                    <div class="im_dialog_message_wrap">\r\n                      <div class="im_dialog_peer">\r\n                        <span class="im_dialog_user" my-user-link="foundUser.userID"></span>\r\n                      </div>\r\n                      <div class="im_dialog_message" ng-switch="foundUser.user.username.length > 0">\r\n                        <span ng-switch-when="true" class="im_dialog_message_text" ng-bind="::\'@\' + foundUser.user.username"></span>\r\n                        <span ng-switch-default class="im_dialog_message_text" my-user-status="::foundUser.userID"></span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div class="im_dialogs_messages_wrap" ng-show="foundMessages.length > 0">\r\n              <h5 my-i18n="im_messages"></h5>\r\n              <ul class="nav nav-pills nav-stacked">\r\n                <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in foundMessages track by dialogMessage.id" ng-class="{active: curDialog.peerID == dialogMessage.peerID &amp;&amp; curDialog.messageID == dialogMessage.id}"></li>\r\n              </ul>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="im_history_col_wrap noselect" ng-controller="AppImHistoryController">\r\n\r\n      <div ng-show="state.notSelected" ng-switch="isEmpty.contacts &amp;&amp; isEmpty.dialogs">\r\n        <div ng-switch-when="true" class="im_history_no_dialogs_wrap">\r\n          <h3 class="im_dialogs_empty_header" my-i18n="im_get_started"></h3>\r\n          <p class="im_dialogs_empty_lead" my-i18n="im_welcome_text"></p>\r\n          <button type="button" class="btn btn-primary btn-sm" ng-click="openSettings()" my-i18n="im_open_settings"></button>\r\n        </div>\r\n        <div ng-switch-default class="im_history_not_selected" my-vertical-position="0.35" padding="true" my-i18n="im_select_a_chat"></div>\r\n      </div>\r\n\r\n      <div ng-show="!state.notSelected &amp;&amp; !state.loaded" class="im_history_not_selected" my-vertical-position="0.35" padding="true">\r\n        <my-i18n msgid="im_loading_history"></my-i18n><span my-loading-dots></span>\r\n      </div>\r\n\r\n      <div ng-show="state.loaded">\r\n        <div my-history class="im_history_col">\r\n\r\n          <div class="im_history_wrap nano">\r\n\r\n            <div class="im_history_scrollable_wrap nano-content">\r\n\r\n              <div class="im_history_scrollable">\r\n                  <div class="im_history" ng-class="{im_history_selectable: historyState.selectActions}">\r\n                    <div ng-if="state.empty"  class="im_history_empty" ng-switch="state.mayBeHasMore" my-vertical-position="0.25" padding="true">\r\n                      <span ng-switch-when="true">\r\n                        <my-i18n msgid="im_loading_history"></my-i18n><span my-loading-dots></span>\r\n                      </span>\r\n                      <span ng-switch-default my-i18n="im_no_messages"></span>\r\n                    </div>\r\n\r\n                    <div class="im_history_messages" ng-class="{im_history_messages_group: historyPeer.id < 0}">\r\n                      <div class="im_history_messages_peer" ng-show="peerHistory.peerID == historyPeer.id" ng-repeat="peerHistory in peerHistories">\r\n                        <div class="im_history_message_wrap" my-message ng-repeat="historyMessage in peerHistory.messages"></div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                  <div class="im_history_typing_wrap">\r\n\r\n                    <div class="im_history_typing" ng-show="historyState.typing.length > 0 &amp;&amp; !historyFilter.mediaType &amp;&amp; !state.empty" ng-switch="historyState.typing.length" my-i18n>\r\n                      <span ng-switch-when="1" my-i18n-format="im_one_typing"></span>\r\n                      <span ng-switch-when="2" my-i18n-format="im_two_typing"></span>\r\n                      <span ng-switch-default my-i18n-format="im_many_typing"></span>\r\n                      <my-i18n-param name="name1"><a class="im_history_typing_author" my-user-link="historyState.typing[0]"></a></my-i18n-param>\r\n                      <my-i18n-param name="name2"><a class="im_history_typing_author" my-user-link="historyState.typing[1]"></a></my-i18n-param>\r\n                      <my-i18n-param name="count">{{historyState.typing.length - 2}}</my-i18n-param>\r\n                      <my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>\r\n                    </div>\r\n                  </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class="im_bottom_panel_wrap">\r\n\r\n            <div class="im_edit_panel_wrap clearfix" ng-show="historyState.selectActions">\r\n              <div class="im_edit_panel_border"></div>\r\n              <a class="btn btn-md btn-md-primary im_edit_cancel_link" ng-click="selectedCancel()" my-i18n="modal_cancel"></a>\r\n              <div class="im_edit_selected_actions" my-i18n>\r\n                <a class="btn btn-primary im_edit_forward_btn" ng-click="selectedForward()" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" my-i18n-format="im_forward"></a>\r\n                <a class="btn btn-primary im_edit_delete_btn" ng-click="selectedDelete()" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" my-i18n-format="im_delete"></a>\r\n                <a class="btn btn-primary im_edit_reply_btn" ng-click="selectedReply()" ng-show="selectedCount == 1"my-i18n="im_reply"></a>\r\n                <my-i18n-param name="count"><strong class="im_selected_count" ng-show="selectedCount > 0" ng-bind="selectedCount"></strong></my-i18n-param>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="im_send_panel_wrap" ng-hide="historyState.selectActions">\r\n\r\n              <div class="im_send_form_wrap1">\r\n\r\n                <div class="im_send_form_wrap clearfix" ng-controller="AppImSendController" ng-class="{im_send_reply_form_wrap: draftMessage.replyToMessage != null}">\r\n\r\n                  <a class="pull-right im_panel_peer_photo" my-peer-photolink="historyPeer.id" img-class="im_panel_peer_photo" watch="true">\r\n                    <i class="icon im_panel_peer_online" ng-show="historyPeer.id > 0 &amp;&amp; historyPeer.data.status._ == \'userStatusOnline\'"></i>\r\n                  </a>\r\n                  <a class="pull-left im_panel_own_photo" my-peer-photolink="ownID" img-class="im_panel_own_photo" watch="true" ng-click="openSettings()" no-open="true"></a>\r\n\r\n                  <form my-send-form draft-message="draftMessage" mentions="mentions" class="im_send_form" ng-class="{im_send_form_empty: !draftMessage.text.length}">\r\n\r\n                    <div class="im_send_reply_wrap" ng-if="draftMessage.replyToMessage != null">\r\n                      <a class="im_send_reply_cancel" ng-click="draftMessage.replyClear()"><i class="icon icon-reply-bar"></i><i class="icon icon-reply-bar"></i></a>\r\n                      <div my-reply-message="draftMessage.replyToMessage"></div>\r\n                    </div>\r\n\r\n                    <div class="im_send_field_wrap">\r\n                      <a class="composer_emoji_insert_btn"><i class="icon icon-emoji"></i></a>\r\n\r\n                      <div class="im_send_dropbox_wrap" my-i18n="im_photos_drop_text"></div>\r\n                      <textarea ng-model="draftMessage.text" placeholder="{{\'im_message_field_placeholder\' | i18n}}" class="form-control im_message_field no_outline" dir="auto"></textarea>\r\n                    </div>\r\n\r\n                    <div class="clearfix">\r\n                      <button type="submit" class="btn btn-md im_submit" my-i18n="im_submit_message"></button>\r\n\r\n                      <div class="im_attach pull-left">\r\n                        <input type="file" class="im_attach_input" size="28" multiple="true" title="{{\'im_attach_file_title\' | i18n}}" />\r\n                        <i class="icon icon-paperclip"></i>\r\n                      </div>\r\n\r\n                      <div class="im_media_attach pull-left">\r\n                        <input type="file" class="im_media_attach_input" size="28" multiple="true" accept="image/*, video/*, audio/*" title="{{\'im_media_attach_title\' | i18n}}"/>\r\n                        <i class="icon icon-camera"></i>\r\n                      </div>\r\n\r\n                      <div class="composer_emoji_panel"></div>\r\n\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class="footer_wrap footer_empty"></div>'),e.put("partials/desktop/import_contact_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="doImport()">\r\n\r\n      <h4 my-i18n="contact_import_modal_title"></h4>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_import_modal_phone"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="importContact.phone" my-submit-on-enter />\r\n      </div>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_edit_modal_first_name"></label>\r\n        <input class="md-input" type="text" ng-model="importContact.first_name"  my-submit-on-enter />\r\n      </div>\r\n\r\n      <div class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="contact_edit_modal_last_name"></label>\r\n        <input class="md-input" type="text" ng-model="importContact.last_name"  my-submit-on-enter />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: progress.enabled}" ng-click="doImport()" ng-bind="progress.enabled ? \'contact_import_modal_submit_active\' : \'contact_import_modal_submit\' | i18n" ng-disabled="progress.enabled"></button>\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/lang_footer.html",'<div class="footer_wrap" ng-controller="AppLangSelectController">\r\n	<span ng-repeat="locale in ::supportedLocales">\r\n	  <a class="footer_lang_link" ng-class="{active: curLocale == locale, disabled: curLocale == locale}" ng-disabled="curLocale == locale" ng-click="localeSelect(locale)" ng-bind="langNames[locale]"></a>\r\n	  <span ng-if="!$last" class="footer_link_divider"></span>\r\n	</span>\r\n</div>'),e.put("partials/desktop/login.html",'<div class="login_page_wrap" my-custom-background="#e7ebf0">\r\n  <div class="login_head_bg"></div>\r\n  <div class="login_page">\r\n    <div class="login_head_wrap clearfix" ng-switch="progress.enabled">\r\n      <div ng-switch-when="true" class="login_head_submit_progress">\r\n        <my-i18n ng-if="!credentials.phone_code_hash" msgid="login_generating_key"></my-i18n><my-i18n ng-if="credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" msgid="login_checking_code"></my-i18n><my-i18n ng-if="credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" msgid="login_signing_up"></my-i18n><my-i18n ng-if="credentials.phone_code_valid &amp;&amp; credentials.password_needed" msgid="login_checking_password"></my-i18n><span my-loading-dots></span>\r\n      </div>\r\n      <div ng-switch-default class="login_head_submit_wrap">\r\n        <a class="login_head_submit_btn" ng-if="!credentials.phone_code_hash" ng-click="sendCode()">\r\n          <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n        </a>\r\n        <a class="login_head_submit_btn" ng-if="credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" ng-click="logIn()">\r\n          <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n        </a>\r\n        <a class="login_head_submit_btn" ng-if="credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" ng-click="logIn(true)">\r\n          <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n        </a>\r\n        <a class="login_head_submit_btn" ng-if="credentials.phone_code_valid &amp;&amp; credentials.password_needed" ng-click="checkPassword()">\r\n          <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n        </a>\r\n      </div>\r\n      <a class="login_head_logo_link" href="https://telegram.org" target="_blank">\r\n        <i class="icon icon-tg-logo"></i><i class="icon icon-tg-title"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="login_form_wrap">\r\n      <div class="error" ng-if="error.message" ng-bind="error.message"></div>\r\n\r\n      <form name="mySendCodeForm" ng-if="!credentials.phone_code_hash" ng-submit="sendCode()">\r\n        <h3 class="login_form_head" my-i18n="login_sign_in"></h3>\r\n        <p class="login_form_lead" my-i18n="login_enter_number_description"></p>\r\n\r\n        <div class="md-input-group md-input-has-value login_phone_country_input_group" ng-click="chooseCountry()">\r\n          <label class="md-input-label" my-i18n="login_country_select_placeholder"></label>\r\n          <div autocomplete="off" class="md-input"ng-bind="credentials.phone_country_name"></div>\r\n        </div>\r\n\r\n        <div class="login_phone_groups_wrap clearfix">\r\n\r\n          <div class="md-input-group login_phone_code_input_group" ng-class="{\'md-input-error\': error.field == \'phone\'}" my-labeled-input>\r\n            <label class="md-input-label" my-i18n="login_code_input_placeholder"></label>\r\n            <input autocomplete="off" class="md-input" my-focused name="phone_country" type="tel" ng-model="credentials.phone_country" />\r\n          </div>\r\n\r\n          <div class="md-input-group login_phone_num_input_group" ng-class="{\'md-input-error\': error.field == \'phone\'}" my-labeled-input ng-switch="error.field == \'phone\'">\r\n            <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_number"></label>\r\n            <label ng-switch-default class="md-input-label" my-i18n="login_tel_input_placeholder"></label>\r\n            <input required autocomplete="off" my-submit-on-enter class="md-input" my-focus-on="country_selected" name="phone_number" type="tel" ng-model="credentials.phone_number" />\r\n          </div>\r\n\r\n        </div>\r\n        <div class="login_form_messaging" ng-show="progress.enabled" my-i18n="login_generating_keys_info"></div>\r\n      </form>\r\n\r\n      <form name="myLoginForm" ng-if="credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" ng-submit="logIn()">\r\n        <h3 class="login_phone_head"><span ng-bind="credentials.phone_country"></span> <span ng-bind="credentials.phone_number"></span></h3>\r\n        <div class="login_edit_phone"><a ng-click="editPhone()" my-i18n="login_edit_number"></a></div>\r\n        <div ng-switch="credentials.viaApp">\r\n          <div ng-switch-when="true">\r\n            <p class="login_smscode_lead" my-i18n="login_enter_code_label_md"></p>\r\n            <p class="login_smscode_lead">\r\n              <a ng-click="sendSms()" my-i18n="login_code_not_received"></a>\r\n            </p>\r\n          </div>\r\n          <div ng-switch-default>\r\n            <p class="login_smscode_lead" my-i18n="login_enter_sms_code_label_md"></p>\r\n\r\n            <p class="login_smscode_lead">\r\n              <span ng-show="callPending.remaining > 0" my-i18n="login_call_remaining">\r\n                <my-i18n-param name="remaining">{{callPending.remaining | duration}}</my-i18n-param>\r\n              </span>\r\n              <span ng-show="!callPending.remaining &amp;&amp; !callPending.success" my-i18n="login_calling"></span>\r\n              <span ng-show="!callPending.remaining &amp;&amp; callPending.success" my-i18n="login_number_dialed"></span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="md-input-group md-input-group-centered" ng-class="{\'md-input-error\': error.field == \'phone_code\'}" my-labeled-input ng-switch="error.field == \'phone_code\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_sms_code"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_number_input_placeholder"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="phone_code" type="tel" ng-model="credentials.phone_code" required />\r\n        </div>\r\n      </form>\r\n\r\n      <form name="myFullNameForm" ng-if="credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" ng-submit="logIn(true)">\r\n        <h3 class="login_form_head" my-i18n="login_your_info"></h3>\r\n        <p class="login_form_lead" my-i18n="login_fulll_name_label"></p>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'first_name\'}" my-labeled-input ng-switch="error.field == \'first_name\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_first_name"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_first_name"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="first_name" type="text" ng-model="credentials.first_name" required />\r\n        </div>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'last_name\'}" my-labeled-input ng-switch="error.field == \'last_name\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_last_name"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_last_name"></label>\r\n          <input autocomplete="off" class="md-input" name="last_name" type="text" ng-model="credentials.last_name" />\r\n        </div>\r\n\r\n      </form>\r\n\r\n      <form name="myPasswordForm" ng-if="credentials.phone_code_valid &amp;&amp; credentials.password_needed" ng-submit="checkPassword()">\r\n        <h3 class="login_form_head" my-i18n="login_password_title"></h3>\r\n        <p class="login_form_lead" my-i18n="login_password_label"></p>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'password\'}" my-labeled-input ng-switch="error.field == \'password\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_password"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_password"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="password" type="password" ng-model="credentials.password" my-submit-on-enter required />\r\n        </div>\r\n\r\n        <p ng-if="password.hint.length > 0" class="login_form_hint" ng-bind="password.hint"></p>\r\n\r\n        <div class="login_forgot_button">\r\n          <button class="btn btn-md" ng-click="forgotPassword($event)" my-i18n="login_password_forgot_link"></button>\r\n        </div>\r\n\r\n        <div ng-if="canReset" class="login_reset_button">\r\n          <button class="btn btn-md btn-md-danger" ng-click="resetAccount($event)" my-i18n="login_account_reset"></button>\r\n        </div>\r\n\r\n      </form>\r\n\r\n    </div>\r\n\r\n    <div ng-switch="about.shown">\r\n      <div ng-switch-when="true" class="login_footer_about_wrap" my-scroll-to-on="$init">\r\n        <h3 my-i18n="login_about_title"></h3>\r\n        <p my-i18n="login_about_desc1_md"></p>\r\n        <p my-i18n="login_about_desc2_md"></p>\r\n        <p my-i18n="login_about_desc3_md">\r\n          <my-i18n-param name="source-link">\r\n            <a href="https://github.com/zhukov/webogram" target="_blank">{0}</a>\r\n          </my-i18n-param>\r\n        </p>\r\n      </div>\r\n      <div ng-switch-default class="login_footer_wrap">\r\n        <p my-i18n="login_about_intro"></p>\r\n        <a class="logo_footer_learn_more_link" href="" ng-click="about.shown = true" my-i18n="login_about_learn"></a>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n'),e.put("partials/desktop/media_modal_layout.html",'<div tabindex="-1" role="dialog" class="modal" ng-style="{\'z-index\': 1050 + index*10}" ng-click="close($event)"  modal-transclude></div>'),e.put("partials/desktop/message.html",'<div class="im_message_outer_wrap" ng-click="toggleMessage(historyMessage.id, $event)">\r\n\r\n\r\n  <div class="im_message_wrap clearfix" ng-switch="::historyMessage._ == \'messageService\'">\r\n\r\n    <div class="im_service_message_wrap" ng-switch-when="true">\r\n      <div class="im_service_message">\r\n        <a class="im_message_author" my-user-link="historyMessage.from_id" short="!historyMessage.to_id.chat_id" color="historyMessage.to_id.chat_id > 0" no-watch="true"></a>\r\n        <span class="im_message_service" my-service-message></span>\r\n      </div>\r\n\r\n      <a ng-if="::historyMessage.action._ == \'messageActionChatEditPhoto\'" class="im_service_message_photo_thumb" href="" ng-click="openPhoto(historyMessage.action.photo.id)">\r\n        <img\r\n          class="im_service_message_photo_thumb"\r\n          my-load-thumb\r\n          thumb="historyMessage.action.photo.thumb"\r\n        />\r\n      </a>\r\n\r\n    </div>\r\n\r\n    <div ng-switch-default class="im_content_message_wrap" ng-class="::[historyMessage.out ? \'im_message_out\' : \'im_message_in\', historyMessage.fwd_from_id > 0 ? \'im_message_fwd\' : \'\']">\r\n      <div class="im_content_message_select_area">\r\n        <i class="icon icon-select-tick"></i>\r\n      </div>\r\n\r\n      <a class="im_message_error_btn" ng-if="::historyMessage.pending || historyMessage.error || false" ng-click="historyMessage.send()">\r\n        <i class="icon-message-status" tooltip="Try again"></i>\r\n      </a>\r\n\r\n      <i ng-if="::historyMessage.unread &amp;&amp; historyMessage.out || historyMessage.pending || false" class="icon-message-status" ng-class="{\'icon-message-status-unread\': historyMessage.unread, \'icon-message-status-pending\': historyMessage.pending}" ng-show="!historyMessage.error"></i>\r\n\r\n      <a class="im_message_from_photo pull-left" my-peer-photolink="::historyMessage.from_id" img-class="im_message_from_photo"></a>\r\n\r\n      <div class="im_message_meta pull-right text-right">\r\n        <i class="icon-message-status-tick"></i>\r\n        <span class="im_message_date" ng-bind="::historyMessage.date | time"></span>\r\n      </div>\r\n\r\n      <div class="im_message_body" ng-class="::{im_message_body_media: historyMessage._ == \'message\' &amp;&amp; historyMessage.media ? true : false}">\r\n\r\n        <a class="im_message_author" my-user-link="historyMessage.from_id" short="!historyMessage.to_id.chat_id" color="historyMessage.to_id.chat_id > 0" no-watch="true"></a>\r\n\r\n        <a class="im_message_reply_wrap" my-reply-message="historyMessage.reply_to_msg" ng-if="::historyMessage.reply_to_msg_id"></a>\r\n\r\n        <div ng-if="::historyMessage.fwd_from_id > 0" class="im_message_fwd_from">\r\n          <a class="im_message_fwd_photo pull-left" my-user-photolink="historyMessage.fwd_from_id" img-class="im_message_fwd_photo"></a>\r\n          <div class="im_message_fwd_author_wrap">\r\n            <a class="im_message_fwd_author" my-user-link="historyMessage.fwd_from_id" no-watch="true"></a><span class="im_message_fwd_date" ng-bind="::historyMessage.fwd_date | dateOrTime"></span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="im_message_text" ng-if="::historyMessage.message.length || false" ng-bind-html="::historyMessage.richMessage" dir="auto"></div>\r\n        <!-- <div class="im_message_external_embed_wrap" ng-if="::historyMessage.richUrlEmbed || false" my-external-embed="historyMessage.richUrlEmbed"></div> -->\r\n        <div ng-if="::historyMessage.media || historyMessage.id < 0 ? true : false" class="im_message_media" ng-switch="historyMessage.media._">\r\n\r\n          <div ng-switch-when="messageMediaPhoto"     my-message-photo="historyMessage.media" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaVideo"     my-message-video="historyMessage.media" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaDocument"  my-message-document="historyMessage.media.document" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaAudio"     class="im_message_audio" my-audio-player audio="historyMessage.media.audio" message="historyMessage"></div>\r\n          <div ng-switch-when="messageMediaGeo"       my-message-geo="historyMessage.media"></div>\r\n          <div ng-switch-when="messageMediaVenue"     my-message-venue="historyMessage.media"></div>\r\n          <div ng-switch-when="messageMediaContact"   class="im_message_contact" my-message-contact></div>\r\n          <div ng-switch-when="messageMediaWebPage"   class="im_message_webpage" my-message-webpage="historyMessage.media.webpage" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaPending"   my-message-pending></div>\r\n          <div ng-switch-when="messageMediaUnsupported">\r\n            <div class="im_message_text">\r\n              The message is not supported on your version of Telegram Web. Update the app to view: <a href="https://web.telegram.org">web.telegram.org</a>.\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n'),e.put("partials/desktop/message_attach_contact.html",'<div>\r\n  <a ng-if="historyMessage.media.user_id > 0" class="im_message_contact_photo pull-left" my-peer-photolink="historyMessage.media.user_id" img-class="im_message_contact_photo" user-override="historyMessage.media"></a>\r\n  <div class="im_message_contact_name" ng-switch="historyMessage.media.user_id > 0">\r\n    <a ng-switch-when="true" my-user-link="historyMessage.media.user_id" user-override="historyMessage.media"></a>\r\n    <span ng-switch-default ng-bind-html="::historyMessage.media.rFullName"></span>\r\n  </div>\r\n  <div class="im_message_contact_phone" ng-bind="::historyMessage.media.phone_number | phoneNumber"></div>\r\n</div>'),e.put("partials/desktop/message_attach_document.html",'<div ng-switch="::document.isSpecial">\r\n\r\n  <div ng-switch-when="gif" my-load-gif document="document"></div>\r\n\r\n  <div ng-switch-when="sticker" my-load-sticker document="document"></div>\r\n\r\n  <div ng-switch-when="audio" class="im_message_audio">\r\n    <div my-audio-player audio="document"></div>\r\n  </div>\r\n\r\n  <div ng-switch-default class="im_message_document clearfix" ng-class="{im_message_document_thumbed: !!document.thumb, im_message_document_progress: document.progress.enabled}">\r\n\r\n    <a ng-if="::!document.thumb" class="im_message_file_button" ng-click="docOpen()" ng-class="{im_message_file_button_dl_doc: document.downloaded}">\r\n      <i class="im_message_file_button_icon"></i>\r\n    </a>\r\n    <a ng-if="::document.thumb" ng-click="docOpen()">\r\n      <div class="im_message_document_thumb_wrap">\r\n        <img\r\n          class="im_message_document_thumb"\r\n          my-load-thumb\r\n          thumb="document.thumb"\r\n        />\r\n      </div>\r\n    </a>\r\n\r\n    <div class="im_message_document_info">\r\n      <div class="im_message_document_name_wrap">\r\n        <a href="" ng-click="docOpen()" class="im_message_document_name" ng-bind="::document.file_name"></a>\r\n        <span class="im_message_document_size" ng-if="!document.progress.enabled" ng-bind="::document.size | formatSize"></span>\r\n        <span class="im_message_document_size" ng-if="document.progress.enabled" ng-bind="document.progress | formatSizeProgress"></span>\r\n      </div>\r\n      <div class="im_message_document_actions" ng-if="!document.progress.enabled" ng-switch="document.downloaded">\r\n        <a ng-switch-when="true" href="" ng-click="docSave()" my-i18n="message_attach_document_save"></a>\r\n        <a ng-switch-default href="" ng-click="docSave()" my-i18n="message_attach_document_download"></a>\r\n        <a ng-if="::document.withPreview" href="" ng-click="docOpen()" my-i18n="message_attach_document_open"></a>\r\n      </div>\r\n      <div class="clearfix im_message_cancelable_progress_wrap" ng-if="document.progress.enabled">\r\n        <a class="im_message_media_progress_cancel pull-right" ng-click="document.progress.cancel()" my-i18n="modal_cancel"></a>\r\n        <div class="im_message_download_progress_wrap">\r\n          <div class="progress tg_down_progress">\r\n            <div class="progress-bar progress-bar-success" ng-style="{width: document.progress.percent + \'%\'}"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n'),
e.put("partials/desktop/message_attach_geo.html",'<a ng-href="{{::media.mapUrl}}" target="_blank" class="im_message_geopoint">\r\n  <i class="icon icon-geo-point"></i>\r\n  <img\r\n    class="im_message_venue_geopoint_image"\r\n    my-geo-point-map="media.geo"\r\n    width="300"\r\n    height="150"\r\n  />\r\n</a>'),e.put("partials/desktop/message_attach_pending.html",'<div class="im_message_document im_message_upload_file" ng-class="::\'im_message_upload_\' + historyMessage.media.type">\r\n  <div class="im_message_file_button im_message_file_button_upload">\r\n    <i class="im_message_file_button_icon"></i>\r\n  </div>\r\n  <div class="im_message_document_info">\r\n    <div class="im_message_document_name_wrap">\r\n      <span class="im_message_document_name" ng-bind="::historyMessage.media.file_name"></span>\r\n      <span class="im_message_document_size" ng-if="historyMessage.media.progress" ng-bind="historyMessage.media.progress | formatSizeProgress"></span>\r\n    </div>\r\n    <div class="clearfix im_message_cancelable_progress_wrap">\r\n      <a class="im_message_media_progress_cancel pull-right" ng-click="historyMessage.media.progress.cancel()" my-i18n="modal_cancel"></a>\r\n      <div class="im_message_download_progress_wrap">\r\n        <div class="progress tg_up_progress">\r\n          <div class="progress-bar progress-bar-success" role="progressbar" ng-style="{width: historyMessage.media.progress.percent + \'%\'}"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("partials/desktop/message_attach_photo.html",'<a class="im_message_photo_thumb" ng-click="openPhoto(media.photo.id, {m: messageId})" ng-style="::{width: media.photo.thumb.width + \'px\'}" ng-mouseover="preloadPhoto(media.photo.id)">\r\n  <img\r\n    class="im_message_photo_thumb"\r\n    my-load-thumb\r\n    thumb="media.photo.thumb"\r\n  />\r\n</a>\r\n<div ng-if="::media.rCaption" class="im_message_photo_caption" ng-bind-html="::media.rCaption"></div>'),e.put("partials/desktop/message_attach_venue.html",'<div class="im_message_venue clearfix">\r\n\r\n  <a ng-href="{{::venue.mapUrl}}" target="_blank" class="im_message_venue_geopoint_wrap">\r\n    <i class="icon icon-geo-point"></i>\r\n    <img\r\n      class="im_message_venue_geopoint_image"\r\n      my-geo-point-map="venue.geo"\r\n      width="100"\r\n      height="100"\r\n    />\r\n  </a>\r\n\r\n  <div class="im_message_venue_info">\r\n    <div class="im_message_venue_title_wrap">\r\n      <a ng-href="{{::venue.mapUrl}}" target="_blank" class="im_message_document_name" ng-bind="::venue.title"></a>\r\n    </div>\r\n    <div class="im_message_venue_address" ng-bind="::venue.address"></div>\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/message_attach_video.html",'<div class="im_message_video im_message_document_thumbed">\r\n  <a class="im_message_video_thumb" ng-click="videoOpen()" ng-style="::{width: media.video.thumb.width + \'px\'}">\r\n    <span class="im_message_video_duration" ng-bind="::media.video.duration | duration"></span>\r\n    <i class="icon icon-videoplay"></i>\r\n    <img\r\n      class="im_message_video_thumb im_message_video_thumb_blurred"\r\n      my-load-thumb\r\n      thumb="media.video.thumb"\r\n    />\r\n  </a>\r\n\r\n  <div class="im_message_document_info">\r\n    <div class="im_message_document_name_wrap">\r\n      <span class="im_message_document_name" my-i18n="message_attach_video_video"></span>\r\n      <span class="im_message_document_size" ng-if="!media.video.progress.enabled" ng-bind="::media.video.size | formatSize"></span>\r\n      <span class="im_message_document_size" ng-if="media.video.progress.enabled" ng-bind="media.video.progress | formatSizeProgress"></span>\r\n    </div>\r\n    <div class="im_message_document_actions" ng-if="!media.video.progress.enabled">\r\n      <a href="" ng-click="videoSave()" ng-switch="media.video.downloaded">\r\n        <span ng-switch-when="true" my-i18n="message_attach_video_save"></span>\r\n        <span ng-switch-default my-i18n="message_attach_video_download"></span>\r\n      </a>\r\n      <a href="" ng-click="videoOpen()" my-i18n="message_attach_video_play"></a>\r\n    </div>\r\n    <div class="clearfix im_message_cancelable_progress_wrap" ng-if="media.video.progress.enabled">\r\n      <a class="im_message_media_progress_cancel pull-right" ng-click="media.video.progress.cancel()" my-i18n="modal_cancel"></a>\r\n      <div class="im_message_download_progress_wrap">\r\n        <div class="progress tg_down_progress">\r\n          <div class="progress-bar progress-bar-success" ng-style="{width: media.video.progress.percent + \'%\'}"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div ng-if="::media.rCaption" class="im_message_video_caption" ng-bind-html="::media.rCaption"></div>'),e.put("partials/desktop/message_attach_webpage.html",'<div ng-show="webpage._ == \'webPage\'" class="im_message_webpage_wrap clearfix" ng-switch="webpage.type">\r\n  <div ng-switch-when="photo" class="im_message_webpage_photo">\r\n    <div class="im_message_webpage_site" ng-bind="webpage.site_name || webpage.display_url"></div>\r\n    <div class="im_message_webpage_title">\r\n      <a href="{{webpage.url}}" target="_blank" ng-bind-html="webpage.rTitle"></a>\r\n    </div>\r\n    <div ng-if="webpage.description.length" class="im_message_webpage_description" ng-bind-html="webpage.rDescription"></div>\r\n    <a class="im_message_photo_thumb" ng-click="openPhoto(webpage.photo.id, {w: webpage.id, m: messageId})" ng-style="::{width: webpage.photo.thumb.width + \'px\'}" ng-mouseover="preloadPhoto(webpage.photo.id)">\r\n      <img\r\n        class="im_message_photo_thumb"\r\n        my-load-thumb\r\n        thumb="webpage.photo.thumb"\r\n      />\r\n    </a>\r\n  </div>\r\n  <div ng-switch-when="video" class="im_message_webpage_video">\r\n    <div class="im_message_webpage_site" ng-bind="webpage.site_name || webpage.display_url"></div>\r\n    <div class="im_message_webpage_title">\r\n      <a ng-click="openEmbed($event)" href="{{webpage.url}}" target="_blank" ng-bind-html="webpage.rTitle"></a>\r\n    </div>\r\n    <div ng-if="webpage.description.length" class="im_message_webpage_description" ng-bind-html="webpage.rDescription"></div>\r\n    <a class="im_message_video_thumb" ng-click="openEmbed($event)" ng-href="{{webpage.url}}" target="_blank" ng-style="::{width: video.thumb.width + \'px\'}">\r\n      <span ng-if="webpage.duration > 0" class="im_message_video_duration" ng-bind="::webpage.duration | duration"></span>\r\n      <i class="icon icon-videoplay"></i>\r\n      <img\r\n        class="im_message_video_thumb"\r\n        my-load-thumb\r\n        thumb="webpage.photo.thumb"\r\n      />\r\n    </a>\r\n  </div>\r\n\r\n  <div ng-switch-default class="im_message_webpage_article">\r\n    <a ng-if="webpage.photo" href="{{webpage.url}}" target="_blank" class="im_message_webpage_article_photo pull-right">\r\n      <img\r\n        class="im_message_article_thumb"\r\n        my-load-thumb\r\n        thumb="webpage.photo.thumb"\r\n      />\r\n    </a>\r\n    <div class="im_message_webpage_site" ng-bind="webpage.site_name"></div>\r\n    <div class="im_message_webpage_title">\r\n      <a ng-click="openEmbed($event)" href="{{webpage.url}}" target="_blank" ng-bind-html="webpage.rTitle"></a>\r\n    </div>\r\n    <div ng-if="webpage.description.length" class="im_message_webpage_description" ng-bind-html="webpage.rDescription"></div>\r\n  </div>\r\n</div>\r\n'),e.put("partials/desktop/message_service.html",'<span ng-switch="::historyMessage.action._">\r\n  <my-i18n>\r\n    <span ng-switch-when="messageActionChatCreate" my-i18n-format="message_service_created_group"></span>\r\n    <span ng-switch-when="messageActionChatEditTitle" my-i18n-format="message_service_changed_group_name"></span>\r\n    <my-i18n-param name="group-name">&laquo;<strong ng-bind-html="::historyMessage.action.rTitle"></strong>&raquo;</my-i18n-param>\r\n  </my-i18n>\r\n  <span ng-switch-when="messageActionChatEditPhoto" my-i18n="message_service_changed_group_photo"></span>\r\n  <span ng-switch-when="messageActionChatDeletePhoto" my-i18n="message_service_removed_group_photo"></span>\r\n  <span ng-switch-when="messageActionChatAddUser" ng-switch="::historyMessage.from_id != historyMessage.action.user_id">\r\n    <span ng-switch-when="true" my-i18n="message_service_invited_user">\r\n      <my-i18n-param name="user"><a my-user-link="historyMessage.action.user_id" color="true"></a></my-i18n-param>\r\n    </span>\r\n    <span ng-switch-default my-i18n="message_service_returned_to_group"></span>\r\n  </span>\r\n  <span ng-switch-when="messageActionChatDeleteUser" ng-switch="::historyMessage.from_id != historyMessage.action.user_id">\r\n    <span ng-switch-when="true" my-i18n="message_service_kicked_user">\r\n      <my-i18n-param name="user"><a my-user-link="historyMessage.action.user_id" color="true"></a></my-i18n-param>\r\n    </span>\r\n    <span ng-switch-default my-i18n="message_service_left_group"></span>\r\n  </span>\r\n  <span ng-switch-when="messageActionChatJoinedByLink" my-i18n="message_service_joined_by_link"></span>\r\n\r\n  <span ng-switch-default my-i18n="message_service_unsupported_action">\r\n    <my-i18n-param name="action"><span ng-bind="historyMessage.action._"></span></my-i18n-param>\r\n  </span>\r\n</span>\r\n'),e.put("partials/desktop/password_recovery_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="checkCode()">\r\n\r\n      <h4 my-i18n="login_recovery_title"></h4>\r\n\r\n      <div class="md_simple_form_description" my-i18n="login_recovery_description_md">\r\n        <my-i18n-param name="email">\r\n          <strong ng-bind="recovery.email_pattern"></strong>\r\n        </my-i18n-param>\r\n      </div>\r\n\r\n      <div class="md-input-group" ng-class="{\'md-input-error\': recovery.error_field == \'code\'}" my-labeled-input ng-switch="recovery.error_field == \'code\'">\r\n        <label ng-switch-when="true" class="md-input-label" my-i18n="login_code_incorrect"></label>\r\n        <label ng-switch-default class="md-input-label" my-i18n="login_code_placeholder"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="recovery.code" name="code" my-focused />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: recovery.updating}" ng-click="checkCode()" ng-disabled="recovery.updating" ng-bind="recovery.updating ? \'password_recover_active\' : \'password_recover_submit\' | i18n"></button>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/password_update_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updatePassword()">\r\n\r\n      <h4 ng-switch="action">\r\n        <my-i18n ng-switch-when="disable" msgid="password_delete_title"></my-i18n>\r\n        <my-i18n ng-switch-default msgid="password_change_title"></my-i18n>\r\n      </h4>\r\n\r\n      <div ng-if="password._ != \'account.noPassword\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.error_field == \'cur_password\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_current_placeholder"></label>\r\n        <input class="md-input" my-focused type="password" ng-model="passwordSettings.cur_password" name="cur_password" my-focus-on="cur_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group md-input-grouped" ng-class="{\'md-input-error\': passwordSettings.error_field == \'new_password\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_new_placeholder"></label>\r\n        <input class="md-input" type="password" ng-model="passwordSettings.new_password" name="new_password" my-focus-on="new_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.confirm_password && passwordSettings.new_password && passwordSettings.confirm_password != passwordSettings.new_password}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_confirm_placeholder"></label>\r\n        <input class="md-input" type="password" ng-model="passwordSettings.confirm_password" name="confirm_password" my-focus-on="confirm_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_hint_placeholder"></label>\r\n        <input class="md-input" type="text" ng-model="passwordSettings.hint" name="hint" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md_simple_form_description" my-i18n="password_create_description"></div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.error_field == \'email\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_email_placeholder"></label>\r\n        <input class="md-input" type="text" ng-model="passwordSettings.email" name="email" />\r\n      </div>\r\n\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: passwordSettings.updating}" ng-click="updatePassword()" ng-disabled="passwordSettings.updating" ng-switch="action">\r\n      <span ng-switch-when="disable" ng-bind="passwordSettings.updating ? \'password_delete_active\' : \'password_delete_submit\' | i18n"></span>\r\n      <span ng-switch-default ng-bind="passwordSettings.updating ? \'password_create_active\' : \'password_create_submit\' | i18n"></span>\r\n    </button>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/peer_select.html",'<div class="peer_select_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head md_modal_head_simple">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$dismiss()" my-i18n="modal_close"></a>\r\n      </div>\r\n    </div>\r\n    <div class="md_modal_title" my-i18n="conversations_modal_forward_title"></div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="im_dialogs_modal_col_wrap" ng-controller="AppImDialogsController" my-dialogs>\r\n      <div class="im_dialogs_panel">\r\n        <div class="im_dialogs_search">\r\n          <input my-focused class="form-control im_dialogs_search_field no_outline" type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n          <a class="im_dialogs_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n            <i class="icon icon-search-clear"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div my-dialogs-list modal="true" class="im_dialogs_modal_col">\r\n        <div class="im_dialogs_wrap nano">\r\n          <div class="im_dialogs_scrollable_wrap nano-content">\r\n            <ul class="nav nav-pills nav-stacked">\r\n              <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in dialogs track by dialogMessage.peerID" ng-class="{active: selectedPeers[dialogMessage.peerID] !== undefined}"></li>\r\n            </ul>\r\n            <div class="im_dialogs_contacts_wrap" ng-show="contacts.length > 0">\r\n              <h5 my-i18n="conversation_select_modal_contacts"></h5>\r\n              <ul class="nav nav-pills nav-stacked">\r\n                <li class="im_dialog_wrap" ng-repeat="contact in contacts | orderBy:\'user.sortName\' track by contact.userID" ng-class="{active: selectedPeers[contact.userID] !== undefined}">\r\n                  <a class="im_dialog" ng-click="dialogSelect(contact.peerString)">\r\n                    <div class="im_dialog_photo pull-left" my-peer-photolink="::contact.userID" img-class="im_dialog_photo"></div>\r\n                    <div class="im_dialog_message_wrap">\r\n                      <div class="im_dialog_peer">\r\n                        <span class="im_dialog_user" my-user-link="contact.userID"></span>\r\n                      </div>\r\n                      <div class="im_dialog_message">\r\n                        <span class="im_dialog_message_text" my-user-status="::contact.userID"></span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="md_modal_footer peer_select_modal_footer clearfix" ng-if="multiSelect">\r\n    <button class="btn btn-md btn-md-primary pull-right" ng-click="submitSelected()" my-i18n="conversations_modal_forward_submit"></button>\r\n\r\n    <div class="peer_select_modal_recipients_wrap" ng-switch="!selectedCount">\r\n      <span class="peer_select_modal_recipients_empty" ng-switch-when="true" my-i18n="conversations_modal_select_recipients"></span>\r\n      <span ng-switch-default>\r\n        <span class="peer_select_modal_recipients_name" my-i18n="conversations_modal_recipients"></span>\r\n        <span class="peer_select_modal_recipients_list" ng-switch="selectedCount" my-i18n>\r\n          <span ng-switch-when="1" my-i18n-format="conversation_one_selected"></span>\r\n          <span ng-switch-when="2" my-i18n-format="conversation_two_selected"></span>\r\n          <span ng-switch-default my-i18n-format="conversation_many_selected"></span>\r\n          <my-i18n-param name="name1"><span class="peer_select_modal_recipient" ng-bind-html="selectedPeers[selectedPeerIDs[0]][selectedPeerIDs[0] > 0 ? \'rFullName\' : \'rTitle\']"></span></my-i18n-param>\r\n          <my-i18n-param name="name2"><span class="peer_select_modal_recipient" ng-bind-html="selectedPeers[selectedPeerIDs[1]][selectedPeerIDs[1] > 0 ? \'rFullName\' : \'rTitle\']"></span></my-i18n-param>\r\n          <my-i18n-param name="count">{{selectedCount - 2}}</my-i18n-param>\r\n        </span>\r\n\r\n      </span>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n'),e.put("partials/desktop/photo_modal.html",'<div class="modal_prev_wrap" ng-class="{modal_prev_active_wrap: nav.hasPrev}" ng-click="nav.prev($event)">\r\n  <div class="modal_prev"></div>\r\n</div>\r\n<div class="modal_next_wrap" ng-class="{modal_next_active_wrap: nav.hasNext}" ng-click="nav.next($event)">\r\n  <div class="modal_next"></div>\r\n</div>\r\n<div class="modal_close_wrap modal_close_wrap_wnext" ng-click="$close()">\r\n  <div class="modal_close"></div>\r\n</div>\r\n\r\n<div class="media_modal_bottom_panel_wrap">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions">\r\n      <a class="media_modal_action_btn" ng-click="download()" title="{{\'media_modal_download\' | i18n}}">\r\n        <i class="media_modal_action_btn_download"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="canForward" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="canDelete" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap pull-left" ng-if="!webpageID">\r\n      <a class="media_modal_author_photo pull-left" my-peer-photolink="photo.user_id" img-class="media_modal_author_photo" watch="true"></a>\r\n      <div class="media_modal_author_name">\r\n        <a class="media_modal_author" my-user-link="photo.user_id" user-watch="true"></a>\r\n      </div>\r\n      <div class="media_modal_date" ng-switch="messageID > 0">\r\n        <a ng-switch-when="true" class="media_modal_date" ng-click="goToMessage()" ng-bind="photo.date | dateOrTime :true"></a>\r\n        <span ng-switch-default ng-bind="photo.date | dateOrTime :true"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap pull-left" ng-if="webpageID">\r\n      <div class="media_modal_author_name">\r\n        <a class="media_modal_author" href="{{webpage.url}}" target="_blank" ng-bind-html="webpage.rTitle"></a>\r\n      </div>\r\n      <div class="media_modal_date"  ng-bind="webpage.site_name || webpage.display_url"></div>\r\n    </div>\r\n\r\n    <div class="media_modal_title_wrap" ng-switch="count > 1 &amp;&amp; pos > 0">\r\n      <my-i18n ng-switch-when="true" msgid="media_modal_photo_index">\r\n        <my-i18n-param name="pos" ng-bind="pos"></my-i18n-param>\r\n        <my-i18n-param name="count" ng-bind="count"></my-i18n-param>\r\n      </my-i18n>\r\n      <my-i18n ng-switch-default msgid="media_modal_photo">\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog" my-modal-nav next="nav.next()" prev="nav.prev()">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{photo.full.modalWidth}}" class="media_modal_wrap photo_modal_wrap" my-modal-position animation="no">\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="photo_modal_image_wrap" my-load-full-photo full-photo="photo.full" thumb-location="photo.thumb.location" ng-click="nav.next()"></div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'),e.put("partials/desktop/profile_edit_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateProfile()">\r\n\r\n      <h4 my-i18n="profile_edit_modal_title"></h4>\r\n\r\n      <div class="md-input-group" ng-class="{\'has-error\': error.field == \'first_name\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="profile_edit_first_name"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="profile.first_name" />\r\n      </div>\r\n\r\n      <div class="md-input-group" ng-class="{\'has-error\': error.field == \'last_name\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="profile_edit_last_name"></label>\r\n        <input class="md-input" type="text" ng-model="profile.last_name" />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: profile.updating}" ng-click="updateProfile()" ng-bind="profile.updating ? \'profile_edit_submit_active\' : \'profile_edit_submit\' | i18n" ng-disabled="profile.updating"></button>\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/reply_message.html",'<div class="im_message_reply clearfix" ng-class="{im_message_reply_thumbed: thumb != null}" ng-switch="replyMessage.loading">\r\n  <div class="im_message_reply_border"></div>\r\n  <div class="im_message_reply_loading" ng-switch-when="true" my-i18n="im_reply_loading">\r\n    <my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>\r\n  </div>\r\n  <div class="im_message_reply_thumb_wrap pull-left" ng-if="thumb != null">\r\n    <img\r\n      class="im_message_reply_thumb"\r\n      my-load-thumb\r\n      thumb="thumb"\r\n    />\r\n  </div>\r\n  <div class="im_message_reply_author" ng-switch-default>\r\n    <span my-user-link="replyMessage.from_id"></span>\r\n  </div>\r\n  <div class="im_message_reply_body" ng-switch-default>\r\n    <span class="im_reply_message_media" ng-if="replyMessage.media" ng-switch="replyMessage.media._">\r\n      <span ng-switch-when="messageMediaPhoto" my-i18n="conversation_media_photo"></span>\r\n      <span ng-switch-when="messageMediaVideo" my-i18n="conversation_media_video"></span>\r\n      <span ng-switch-when="messageMediaDocument" ng-switch="::replyMessage.media.document.sticker || false">\r\n        <span ng-switch-when="1" my-i18n="conversation_media_sticker"></span>\r\n        <span ng-switch-when="2">\r\n          <span ng-bind-html="replyMessage.media.document.stickerEmoji"></span>\r\n          (<my-i18n msgid="conversation_media_sticker"></my-i18n>)\r\n        </span>\r\n        <span ng-switch-default ng-bind="replyMessage.media.document.file_name"></span>\r\n      </span>\r\n      <span ng-switch-when="messageMediaAudio" my-i18n="conversation_media_audio"></span>\r\n      <span ng-switch-when="messageMediaGeo" my-i18n="conversation_media_location"></span>\r\n      <span ng-switch-when="messageMediaContact" my-i18n="conversation_media_contact"></span>\r\n    </span>\r\n\r\n    <span class="im_reply_message_service" ng-if="replyMessage._ == \'messageService\'" ng-switch="replyMessage.action._">\r\n      <span ng-switch-when="messageActionChatCreate" my-i18n="conversation_group_created"></span>\r\n      <span ng-switch-when="messageActionChatEditTitle" my-i18n="conversation_group_renamed"></span>\r\n      <span ng-switch-when="messageActionChatEditPhoto" my-i18n="conversation_group_photo_updated"></span>\r\n      <span ng-switch-when="messageActionChatDeletePhoto" my-i18n="conversation_group_photo_removed"></span>\r\n\r\n      <span ng-switch-when="messageActionChatAddUser" ng-switch="replyMessage.from_id == replyMessage.action.user_id">\r\n        <span ng-switch-when="true" my-i18n="conversation_returned_to_group"></span>\r\n        <span ng-switch-default my-i18n="conversation_invited_user">\r\n          <my-i18n-param name="user"><span my-user-link="replyMessage.action.user_id"></span></my-i18n-param>\r\n        </span>\r\n      </span>\r\n\r\n      <span ng-switch-when="messageActionChatDeleteUser" ng-switch="replyMessage.from_id == replyMessage.action.user_id">\r\n        <span ng-switch-when="true" my-i18n="conversation_left_group"></span>\r\n        <span ng-switch-default my-i18n="conversation_kicked_user">\r\n          <my-i18n-param name="user"><span my-user-link="replyMessage.action.user_id"></span></my-i18n-param>\r\n        </span>\r\n      </span>\r\n\r\n      <span ng-switch-when="messageActionChatJoinedByLink" my-i18n="conversation_joined_by_link"></span>\r\n\r\n    </span>\r\n\r\n    <span class="im_reply_message_text" ng-if="replyMessage.message.length" ng-bind-html="replyMessage.richMessage"></span>\r\n  </div>\r\n</div>'),e.put("partials/desktop/sessions_list_modal.html",'<div class="sessions_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head md_modal_head_simple">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$dismiss()" my-i18n="modal_close"></a>\r\n      </div>\r\n    </div>\r\n    <div class="md_modal_title" my-i18n="sessions_modal_title"></div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div my-sessions-list class="sessions_modal_col">\r\n\r\n      <div class="sessions_wrap nano" my-infinite-scroller>\r\n        <div class="sessions_scrollable_wrap nano-content" ng-switch="!sessionsLoaded">\r\n\r\n          <div ng-switch-when="true" class="sessions_modal_loading" my-vertical-position="0.2" padding="true" my-i18n="sessions_modal_loading">\r\n            <my-i18n-param name="dots">\r\n              <span my-loading-dots></span>\r\n            </my-i18n-param>\r\n          </div>\r\n\r\n          <ul ng-switch-default class="sessions_modal_sessions_list nav nav-pills nav-stacked">\r\n\r\n            <li class="sessions_modal_session_wrap clearfix" ng-repeat="authorization in authorizations | limitTo: slice.limit track by authorization.hash">\r\n              <div class="sessions_modal_session">\r\n                <div class="session_meta_wrap pull-right">\r\n                  <div class="session_active_date" ng-switch="authorization.current">\r\n                    <span ng-switch-when="true" class="session_active_date_online" my-i18n="sessions_modal_current_session"></span>\r\n                    <span ng-switch-default ng-bind="authorization.date_active | dateOrTime"></span>\r\n                  </div>\r\n\r\n                  <a ng-if="!authorization.current" class="session_terminate_btn" ng-click="terminateSession(authorization.hash)" my-i18n="sessions_modal_terminate_one"></a>\r\n                </div>\r\n\r\n                <div class="sessions_modal_session_app" ng-bind="authorization.app_name + \' \' + authorization.app_version"></div>\r\n                <div class="sessions_modal_session_device" ng-bind="authorization.device_model + \', \' + authorization.platform + \' \' + authorization.system_version"></div>\r\n                <div class="sessions_modal_session_location" ng-bind="authorization.ip + \' - \' + authorization.country"></div>\r\n              </div>\r\n              <div ng-if="authorization.current && authorizations.length > 1">\r\n                <div class="sessions_modal_terminate_all_wrap">\r\n                  <a ng-click="terminateAllSessions()" my-i18n="sessions_modal_terminate_all"></a>\r\n                </div>\r\n\r\n                <hr class="sessions_modal_other_splitter"></hr>\r\n              </div>\r\n            </li>\r\n\r\n          </ul>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/settings_modal.html",'<div class="settings_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$close()" my-i18n="modal_close"></a>\r\n        <a class="md_modal_action" ng-click="editProfile()" my-i18n="modal_edit"></a>\r\n      </div>\r\n      <div class="md_modal_title" my-i18n="settings_modal_title"></div>\r\n    </div>\r\n\r\n    <div class="peer_modal_profile_wrap clearfix">\r\n      <div class="peer_modal_photo_wrap pull-left" ng-switch="photo.updating">\r\n        <div ng-switch-when="true" class="peer_modal_photo md_photo_loading loading_dots">\r\n          <i></i><i></i><i></i>\r\n        </div>\r\n        <a ng-switch-default ng-click="openPhoto(profile.photo.photo_id, {p: profile.id})" class="peer_modal_photo" my-peer-photolink="::profile.id" img-class="peer_modal_photo" watch="true" no-open="true" ng-class="{disabled: !profile.photo.photo_id}" ng-disabled="!profile.photo.photo_id"></a>\r\n      </div>\r\n      <div class="peer_modal_profile">\r\n        <div class="peer_modal_profile_name" my-user-link="profile.id"></div>\r\n        <div class="peer_modal_profile_description" my-user-status="::profile.id"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_split_actions_wrap">\r\n    <div class="md_modal_split_actions">\r\n      <div class="md_modal_split_action">\r\n        <input my-file-upload  type="file" multiple="false" class="im_attach_input" size="120" multiple="false" accept="image/x-png, image/png, image/gif, image/jpeg" title="{{\'settings_modal_set_photo\' | i18n}}" />\r\n        <i class="md_modal_split_action_camera"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="md_modal_sections">\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_number">\r\n        <i class="md_modal_section_icon md_modal_section_icon_phone"></i>\r\n\r\n        <div class="md_modal_section_param_wrap">\r\n          <div class="md_modal_section_param_value" ng-bind="profile.phone | phoneNumber"></div>\r\n          <div class="md_modal_section_param_name" my-i18n="user_modal_phone"></div>\r\n        </div>\r\n\r\n        <div class="md_modal_section_param_wrap">\r\n          <div class="md_modal_section_param_value" ng-switch="profile.username.length > 0">\r\n            <a ng-switch-when="true" class="settings_modal_username_link" ng-click="changeUsername()" ng-bind="\'@\' + profile.username"></a>\r\n            <a ng-switch-default ng-click="changeUsername()" my-i18n="settings_modal_empty_username_set"></a>\r\n          </div>\r\n          <div class="md_modal_section_param_name" my-i18n="user_modal_username"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_toggle">\r\n        <i class="md_modal_section_icon md_modal_section_icon_notification"></i>\r\n\r\n        <a class="md_modal_section_toggle_wrap tg_checkbox" ng-click="toggleDesktop()" ng-class="notify.desktop ? \'tg_checkbox_on\' : \'\'">\r\n          <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n          <span class="tg_checkbox_label" my-i18n="settings_modal_notifications"></span>\r\n        </a>\r\n\r\n        <a class="md_modal_section_toggle_wrap tg_checkbox" ng-click="togglePreview()" ng-class="notify.preview ? \'tg_checkbox_on\' : \'\'">\r\n          <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n          <span class="tg_checkbox_label" my-i18n="settings_modal_message_preview"></span>\r\n        </a>\r\n\r\n        <a class="md_modal_section_toggle_wrap tg_checkbox" ng-click="toggleSound()" ng-class="notify.volume ? \'tg_checkbox_on\' : \'\'">\r\n          <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n          <span class="tg_checkbox_label" my-i18n="settings_modal_sound"></span>\r\n        </a>\r\n\r\n        <div class="md_modal_section_range_wrap tg_range_wrap" ng-show="notify.volume > 0">\r\n          <div my-slider slider-model="notify.volume"></div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_radio">\r\n        <i class="md_modal_section_icon md_modal_section_icon_keyboard"></i>\r\n\r\n        <div class="tg_radios_wrap">\r\n          <a class="md_modal_section_radio_wrap tg_radio" ng-click="toggleCtrlEnter(1)" ng-class="send.enter == 1 ? \'tg_radio_on\' : \'\'">\r\n            <span class="icon icon-radio-outer"><i class="icon-radio"></i></span>\r\n            <span my-i18n="settings_modal_enter_send_description_md"></span>\r\n          </a>\r\n\r\n          <a class="md_modal_section_radio_wrap tg_radio" ng-click="toggleCtrlEnter(0)" ng-class="send.enter == 0 ? \'tg_radio_on\' : \'\'">\r\n            <span class="icon icon-radio-outer"><i class="icon-radio"></i></span>\r\n            <span my-i18n="settings_modal_ctrl_enter_send_description_md"></span>\r\n          </a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap  md_modal_iconed_section_link">\r\n        <i class="md_modal_section_icon md_modal_section_icon_more"></i>\r\n\r\n        <div class="md_modal_section_select_wrap" ng-controller="AppLangSelectController">\r\n          <div class="dropdown md_modal_section_select" dropdown>\r\n            <button class="btn btn-link dropdown-toggle" dropdown-toggle ng-bind="langNames[curLocale]"></button>\r\n            <ul class="dropdown-menu dropdown-menu-to-up">\r\n              <li ng-repeat="locale in ::supportedLocales">\r\n                <a ng-click="localeSelect(locale)" ng-bind="langNames[locale]"></a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div class="md_modal_section_param_name" my-i18n="settings_modal_language"></div>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap">\r\n          <a ng-if="password._ == \'account.noPassword\' && password.email_unconfirmed_pattern.length" class="md_modal_section_link pull-right" ng-click="changePassword({action: \'cancel_email\'})" my-i18n="settings_modal_password_email_pending_cancel">\r\n          </a>\r\n          <span class="md_modal_section_text" ng-if="password._ == \'account.noPassword\' && password.email_unconfirmed_pattern.length" class="md_modal_section_link" my-i18n="settings_modal_password_email_pending">\r\n            <my-i18n-param name="email">\r\n              <span ng-bind="password.email_unconfirmed_pattern"></span>\r\n            </my-i18n-param>\r\n          </span>\r\n          <a ng-if="password._ == \'account.noPassword\' && !password.email_unconfirmed_pattern" class="md_modal_section_link" ng-click="changePassword({action: \'create\'})" my-i18n="settings_modal_set_password"></a>\r\n\r\n          <a ng-if="password._ == \'account.password\'" class="md_modal_section_link pull-right" ng-click="changePassword({action: \'disable\'})" my-i18n="settings_modal_disable_password"></a>\r\n          <a ng-if="password._ == \'account.password\'" class="md_modal_section_link" ng-click="changePassword({action: \'change\'})" my-i18n="settings_modal_change_password"></a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap">\r\n          <a class="md_modal_section_link" ng-click="showSessions()" my-i18n="settings_modal_active_sessions"></a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap">\r\n          <a class="md_modal_section_link" ng-click="logOut()" my-i18n="head_log_out"></a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),
e.put("partials/desktop/slider.html",'<div class="tg_slider_wrap">\r\n	<div class="tg_slider_thumb"></div>\r\n	<div class="tg_slider_track">\r\n		<div class="tg_slider_track_fill"></div>\r\n	</div>\r\n</div>'),e.put("partials/desktop/stickerset_modal.html",'<div class="stickerset_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head md_modal_head_simple">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$dismiss()" my-i18n="modal_close"></a>\r\n      </div>\r\n    </div>\r\n    <div class="md_modal_title" ng-switch="!stickersetLoaded">\r\n      <span ng-switch-when="true" my-i18n="stickerset_modal_title_loading"></span>\r\n      <span ng-switch-default ng-bind="stickerset.title"></span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div my-stickers-list class="stickerset_modal_col">\r\n\r\n      <div class="stickerset_wrap nano" my-infinite-scroller>\r\n        <div class="stickerset_scrollable_wrap nano-content" ng-switch="!stickersetLoaded">\r\n\r\n          <div ng-switch-when="true" class="stickerset_modal_loading" my-vertical-position="0.2" padding="true" my-i18n="stickerset_modal_loading">\r\n            <my-i18n-param name="dots">\r\n              <span my-loading-dots></span>\r\n            </my-i18n-param>\r\n          </div>\r\n\r\n          <div ng-switch-default class="stickerset_modal_stickers_list clearfix">\r\n            <div class="stickerset_modal_sticker_wrap" ng-repeat="sticker in documents | limitTo: slice.limit">\r\n              <div class="stickerset_modal_sticker" my-load-sticker document="sticker" thumb="true"></div>\r\n              <div class="stickerset_modal_sticker_alt" ng-bind-html="sticker.stickerEmoji"></div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class="stickerset_actions_wrap">\r\n      <div class="stickerset_actions" ng-switch="stickersetInstalled">\r\n        <button ng-switch-when="true" class="btn btn-md btn-md-danger" my-i18n="stickerset_modal_uninstall" ng-click="toggleInstalled(false)"></button>\r\n        <button ng-switch-when="false" class="btn btn-md btn-md-primary" my-i18n="stickerset_modal_install" ng-click="toggleInstalled(true)"></button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/desktop/user_modal.html",'<div class="user_modal_wrap md_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_modal_head">\r\n    <div class="md_modal_title_wrap">\r\n      <div class="md_modal_actions_wrap clearfix">\r\n        <a class="md_modal_action md_modal_action_close" ng-click="$close()" my-i18n="modal_close"></a>\r\n        <a class="md_modal_action" ng-if="user._ == \'userContact\'" ng-click="importContact(true)" my-i18n="modal_edit"></a>\r\n      </div>\r\n      <div class="md_modal_title" my-i18n="user_modal_contact_info"></div>\r\n    </div>\r\n\r\n    <div class="peer_modal_profile_wrap clearfix">\r\n      <div class="peer_modal_photo_wrap pull-left">\r\n        <a ng-click="openPhoto(user.photo.photo_id, {p: user.id})" class="peer_modal_photo" ng-class="{disabled: !user.photo.photo_id}" ng-disabled="!user.photo.photo_id" my-peer-photolink="::user.id" img-class="peer_modal_photo" no-open="true"></a>\r\n      </div>\r\n      <div class="peer_modal_profile">\r\n        <div class="peer_modal_profile_name" my-user-link="user.id"></div>\r\n        <div class="peer_modal_profile_description" my-user-status="::user.id"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="md_modal_split_actions_wrap">\r\n    <div class="md_modal_split_actions">\r\n      <a class="md_modal_split_action" href="" ng-click="goToHistory()" title="{{\'user_modal_send_message\' | i18n}}">\r\n        <i class="md_modal_split_action_msg"></i>\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class="md_modal_body">\r\n\r\n    <div class="md_modal_sections">\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_number" ng-if="user.phone || user.username">\r\n        <i class="md_modal_section_icon md_modal_section_icon_phone"></i>\r\n\r\n        <div class="md_modal_section_param_wrap" ng-if="user.phone">\r\n          <div class="md_modal_section_param_value" ng-bind="user.phone | phoneNumber"></div>\r\n          <div class="md_modal_section_param_name" my-i18n="user_modal_phone"></div>\r\n        </div>\r\n\r\n        <div class="md_modal_section_param_wrap" ng-if="user.username">\r\n          <div class="md_modal_section_param_value">\r\n            <span ng-bind="\'@\' + user.username"></span>\r\n          </div>\r\n          <div class="md_modal_section_param_name" my-i18n="user_modal_username"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_toggle">\r\n        <i class="md_modal_section_icon md_modal_section_icon_notification"></i>\r\n\r\n        <a class="md_modal_section_toggle_wrap tg_checkbox" ng-click="settings.notifications = !settings.notifications" ng-class="settings.notifications ? \'tg_checkbox_on\' : \'\'">\r\n          <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n          <span class="tg_checkbox_label" my-i18n="user_modal_notifications"></span>\r\n        </a>\r\n\r\n      </div>\r\n\r\n      <div class="md_modal_iconed_section_wrap md_modal_iconed_section_link" ng-init="f.showMoreActions = !user.phone.length">\r\n        <i class="md_modal_section_icon md_modal_section_icon_more"></i>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="user.phone.length > 0 &amp;&amp; user._ != \'userContact\' &amp;&amp; user._ != \'userSelf\'">\r\n          <a class="md_modal_section_link" ng-click="importContact()" my-i18n="user_modal_add_contact"></a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="user.phone.length > 0">\r\n          <a class="md_modal_section_link" ng-click="shareContact()" my-i18n="user_modal_share_contact"></a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="f.showMoreActions &amp;&amp; user._ == \'userContact\'">\r\n          <a class="md_modal_section_link" ng-click="deleteContact()" my-i18n="user_modal_delete_contact"></a>\r\n        </div>\r\n\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="f.showMoreActions &amp;&amp; user._ != \'userSelf\'">\r\n          <a class="md_modal_section_link" ng-click="toggleBlock(!blocked)" ng-switch="blocked">\r\n            <my-i18n ng-switch-when="true" msgid="user_modal_unblock_user"></my-i18n>\r\n            <my-i18n ng-switch-default msgid="user_modal_block_user"></my-i18n>\r\n          </a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="f.showMoreActions">\r\n          <a class="md_modal_section_link" ng-click="flushHistory()" my-i18n="user_modal_delete_chat"></a>\r\n        </div>\r\n\r\n        <div class="md_modal_section_link_wrap" ng-if="!f.showMoreActions">\r\n          <a class="md_modal_section_link" ng-click="f.showMoreActions = true" my-i18n="modal_more"></a>\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n'),e.put("partials/desktop/username_edit_modal.html",'<div class="md_simple_modal_wrap" my-modal-position>\r\n\r\n  <div class="md_simple_modal_body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateUsername()">\r\n\r\n      <h4 my-i18n="username_edit_modal_title"></h4>\r\n\r\n      <div class="md-input-group" ng-class="{\'md-input-error\': checked.error}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="username_edit_placeholder"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="profile.username" name="username" ng-model-options="{updateOn: \'default blur\', debounce: {default: 600, blur: 0}}" />\r\n      </div>\r\n\r\n      <div class="md_simple_form_description" my-i18n="username_edit_description_md"></div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n  <div class="md_simple_modal_footer">\r\n\r\n    <button class="btn btn-md" ng-click="$dismiss()" my-i18n="modal_cancel"></button>\r\n    <button class="btn btn-md btn-md-primary" ng-class="{disabled: profile.updating}" ng-click="updateUsername()" ng-bind="profile.updating ? \'username_edit_submit_active\' : \'username_edit_submit\' | i18n" ng-disabled="profile.updating"></button>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/desktop/video_modal.html",'<div class="modal_close_wrap" ng-class="{modal_close_wrap_wnext: nav.hasNext}" ng-click="$close()">\r\n  <div class="modal_close"></div>\r\n</div>\r\n\r\n<div class="media_modal_bottom_panel_wrap">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-click="download()" title="{{\'media_modal_download\' | i18n}}">\r\n        <i class="media_modal_action_btn_download"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap pull-left" ng-switch="messageID > 0">\r\n      <a class="media_modal_author_photo pull-left" my-peer-photolink="video.user_id" img-class="media_modal_author_photo" watch="true"></a>\r\n      <div class="media_modal_author_name">\r\n        <a class="media_modal_author" my-user-link="video.user_id" user-watch="true"></a>\r\n      </div>\r\n      <div class="media_modal_date">\r\n        <a ng-switch-when="true" class="media_modal_date" ng-click="goToMessage()" ng-bind="video.date | dateOrTime :true"></a>\r\n        <span ng-switch-default ng-bind="video.date | dateOrTime :true"></span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="media_modal_title_wrap" my-i18n="media_modal_video"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{video.full.width - 32}}" class="media_modal_wrap video_modal_wrap" my-modal-position animation="no">\r\n\r\n      <div class="modal-body">\r\n        <div class="video_modal_image_wrap" my-load-video video="video"></div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>'),e.put("partials/desktop/welcome.html",""),e.put("partials/mobile/audio_player.html",'<div class="audio_player_wrap clearfix">\r\n	<a class="im_message_file_button" ng-click="togglePlay()" ng-class="{im_message_file_button_dl_audio: audio.downloaded}">\r\n	  <i class="im_message_file_button_icon" ng-class="{audio_player_btn_icon_pause: mediaPlayer.player.playing}"></i>\r\n	</a>\r\n	<div class="audio_player_title_wrap">\r\n		<div class="audio_player_meta pull-right" ng-if="audio.downloaded &amp;&amp; (mediaPlayer.player.duration || audio.duration)" ng-switch="mediaPlayer.player.playing || mediaPlayer.player.currentTime > 0">\r\n			<span ng-switch-when="true" class="audio_player_duration" ng-bind="mediaPlayer.player.currentTime | durationRemains : (mediaPlayer.player.duration || audio.duration)"></span>\r\n			<span ng-switch-default class="audio_player_duration" ng-bind="mediaPlayer.player.duration || audio.duration | duration"></span>\r\n		</div>\r\n		<a ng-click="download()" class="audio_player_title" ng-switch="::audio.file_name.length > 0">\r\n			<span ng-switch-when="true" ng-bind="::audio.file_name"></span>\r\n			<span ng-switch-default my-i18n="message_attach_audio_message"></span>\r\n		</a>\r\n		<div class="audio_player_meta" ng-if="!audio.downloaded || !(mediaPlayer.player.duration || audio.duration)" ng-switch="audio.progress.enabled">\r\n			<span ng-switch-when="true" class="audio_player_size" ng-bind="audio.progress | formatSizeProgress"></span>\r\n			<span ng-switch-default class="audio_player_size" ng-bind="audio.size | formatSize"></span>\r\n		</div>\r\n	</div>\r\n	<div class="audio_player_actions" ng-if="!audio.progress.enabled &amp;&amp; !audio.downloaded">\r\n    <a ng-if="audio._ == \'document\'" ng-click="download()" my-i18n="message_attach_document_download"></a>\r\n    <a ng-click="togglePlay()" my-i18n="message_attach_audio_play"></a>\r\n	</div>\r\n	<div class="audio_player_progress_wrap" ng-if="audio.progress.enabled || audio.downloaded" ng-switch="audio.progress.enabled">\r\n		<div ng-switch-when="true" class="clearfix im_message_cancelable_progress_wrap">\r\n		  <a class="im_message_media_progress_cancel pull-right" ng-click="audio.progress.cancel()" my-i18n="modal_cancel"></a>\r\n		  <div class="im_message_download_progress_wrap">\r\n		    <div class="progress tg_down_progress">\r\n		      <div class="progress-bar progress-bar-success" ng-style="{width: audio.progress.percent + \'%\'}"></div>\r\n		    </div>\r\n		  </div>\r\n		</div>\r\n	  <div ng-switch-default class="im_message_playback_progress_wrap">\r\n	  	<div class="audio_player_seek_slider" my-slider slider-model="mediaPlayer.player.currentTime" slider-max="mediaPlayer.player.duration || audio.duration" slider-onchange="seek(value)"></div>\r\n	  </div>\r\n	</div>\r\n	<audio ng-if="audio.url" media-player="mediaPlayer.player">\r\n	  <source ng-src="{{::audio.url}}" type="{{audio.mime_type || \'audio/ogg\'}}" volume="{{::volume}}" />\r\n	</audio>\r\n</div>'),e.put("partials/mobile/changelog_modal.html",'<div class="changelog_modal_wrap">\r\n\r\n  <a class="modal-close-button" ng-click="$close()"><i></i></a>\r\n\r\n  <div class="modal-body">\r\n\r\n    <div class="changelog_card_wrap" ng-switch="lastVersion === false">\r\n      <div ng-switch-when="true">\r\n        <div class="changelog_card"></div>\r\n        <h2 class="changelog_header" my-i18n="changelog_modal_header_recent_updates_md"></h2>\r\n      </div>\r\n      <div ng-switch-default>\r\n        <div class="changelog_card"></div>\r\n        <h2 class="changelog_header" my-i18n="changelog_modal_header_new_updates_md"></h2>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="changelog_versions_wrap">\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.6\r\n          <span class="pull-right" my-i18n="changelog_modal_title_current_version"></span>\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Install and share custom sticker sets like this one: <a href="tg://addstickers?set=Animals">telegram.me/addstickers/Animals</a></li>\r\n            <li>If you\'re an artist, create custom sticker sets using our <a href="tg://resolve?domain=stickers">@Stickers</a> bot.</li>\r\n            <li>Check out <a href="https://telegram.org/blog/stickers-revolution" target="_blank">Telegram Blog</a> for more info</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.5\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>\r\n              Invite links for group chats:<br/>\r\n              Check out <a href="https://telegram.org/blog/invite-links" target="_blank">Telegram Blog</a> for more info\r\n            </li>\r\n            <li>Smart notifications</li>\r\n            <li>\'Listened\' status for voice messages</li>\r\n            <li>Places in locations (venues, landmarks)</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.4\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Link Previews:<br/>\r\n            Get rich link summaries for tweets, YouTube videos, Instagram photos and other content.</li>\r\n\r\n            <li>Check out <a href="https://telegram.org/blog/link-preview" target="_blank">Telegram Blog</a> for more info.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.3\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Sessions List:<br/>\r\n            View your active Telegram sessions (on desktop, tablet and mobile devices) and close specific sessions remotely.</li>\r\n\r\n            <li>Two-step verification:<br/>\r\n            Set up an additional password that will be required to log into your Telegram account.</li>\r\n\r\n            <li>Check out <a href="https://telegram.org/blog/sessions-and-2-step-verification" target="_blank">Telegram Blog</a> for more info.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.2\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Optimization for screens with smaller Y-resolutions.</li>\r\n            <li>Supported Spotify URL embeds.</li>\r\n            <li>Mentions of the current user in group chats are now highlighted.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.1\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Reply to specific messages in groups.</li>\r\n            <li>Mention @usernames in groups to notify multiple users.</li>\r\n            <li>Revised notifications in groups: mentioned users and people you reply to will be notified (private chat notification settings apply in this case instead of group settings). Check out <a href="https://telegram.org/blog/replies-mentions-hashtags" target="_blank">Telegram Blog</a> for more info.</li>\r\n            <li>Setting to disable message preview</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.4.0\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Full stickers support</li>\r\n            <li>Multisearch box: instantly find chats, usernames and messages</li>\r\n            <li>Emoji autocomplete: e.g., type <strong>:kiss</strong> in the message field to see the list. <a href="http://www.emoji-cheat-sheet.com/" target="_blank">Full cheat sheet &raquo;</a></li>\r\n            <li>Added \'typing\' notification in chats list</li>\r\n            <li>Online members counter in group headers</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.9\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>[Desktop] Material design completed</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.8\r\n          <span class="pull-right" my-i18n="changelog_modal_title_current_version"></span>\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Telegram.me links open right in Telegram Web when authorized</li>\r\n            <li>@username mentions in messages are clickable and open a conversation with the user</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.7\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>[Desktop] [Beta] New material design for modal windows</li>\r\n            <li>[Desktop] Forward messages to multiple recipients</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.6\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>New viewer for photos, videos, documents.</li>\r\n            <li>[FirefoxOS] Improved media downloads.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.5\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added embedded Soundcloud tracks and playlists.</li>\r\n            <li>Added global user search to contacts list.</li>\r\n            <li>Added switch to mobile version on window resize.</li>\r\n            <li>Migrate to HTTPS notification</li>\r\n            <li>Bugfixes.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.4\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added embedded Facebook posts and Vimeo videos.</li>\r\n            <li>Improved IE10+ support: downloading files and style fixes.</li>\r\n            <li>Added unsupported media playback warning.</li>\r\n            <li>Bugfixes.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.3\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added Native Client module: dramatically improved encryption speed; Download and upload speed is now as high as in native applications.</li>\r\n            <li>HTTPS. We recommend you to use <a href="https://web.telegram.org" target="_blank">https://web.telegram.org</a>.</li>\r\n            <li>Added multiple open tabs warning. Please note, that only one tab with Telegram Web will work.</li>\r\n            <li>Added embedded Instagram, Twitter, Vine, YouTube links.</li>\r\n            <li>Jump to selected spot when playing back audio.</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.2\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Usernames support: <a href="" ng-click="changeUsername()">Choose a username right now!</a></li>\r\n            <li>Search can now find public users by username.</li>\r\n            <li>Most popular emoticons shown in \'recent\' when empty</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.1\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>New languages: Spanish, German and Italian are now available </li>\r\n            <li>New custom-made audio player</li>\r\n            <li>Bad browser page for IE 6-9</li>\r\n            <li>Perfomance improvements and bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.3.0\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Log in codes may be received in other Telegram apps</li>\r\n            <li>Partner\'s online status updates automatically</li>\r\n            <li>Added support for non-english hashtags in messages</li>\r\n            <li>Fixed invalid scrollbar width bug</li>\r\n            <li>[Desktop] Added automatic country code detection</li>\r\n            <li>[FirefoxOS] Improved PUSH-notifications for &lt;= 1.1</li>\r\n            <li>[FirefoxOS] Fixed emoji in notifications</li>\r\n            <li>[FirefoxOS] Fixed attachment bug for &lt;= 1.1</li>\r\n            <li>[FirefoxOS] Added phonebook permissions handling</li>\r\n            <li>[FirefoxOS] Added ability to share Gallery photos in Telegram</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.2.9\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Updated mobile layout</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.2.5\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Updated mobile layout</li>\r\n            <li>Improved performance</li>\r\n            <li>Improved messages grouping</li>\r\n            <li>[FirefoxOS] Fixed notifications for &lt;= 1.1</li>\r\n            <li>[FirefoxOS] Fixed phonebook import</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.2.1\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Improved key generation performance on slow devices</li>\r\n            <li>Added network sleep for mobile devices</li>\r\n            <li>[FirefoxOS] Added support of PUSH notifications</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.2\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Updated contacts list, added edit mode</li>\r\n            <li>First Firefox OS release. See <a href="https://marketplace.firefox.com/app/telegram" target="_blank">Firefox Marketplace</a></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.9\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.9\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Improvements of performance</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.8\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.8\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Improved mobile layout</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.7\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.7\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Improved mobile layout</li>\r\n            <li>Added file cache for Firefox and Android</li>\r\n            <li>New design for forwarded messages</li>\r\n            <li>Hash-tags support</li>\r\n            <li>Messaging bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.6\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.6\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added search of messages</li>\r\n            <li>Improved performance of chats with lots of unread messages</li>\r\n            <li>Bugfixes</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.5\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.5\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added registration</li>\r\n            <li>Improved experience for newly registered users</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.4\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.4\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Browse userpic history (click on the photo in user info)</li>\r\n            <li>New <a href="https://github.com/zhukov/webogram" target="_blank" title="Source code on GitHub">GitHub</a>, <a href="https://twitter.com/telegram_web" target="_blank" title="Follow us on Twitter!">Twitter</a> buttons in Settings</li>\r\n            <li>Updated keyboard shortcuts:</li>\r\n            <ul>\r\n              <li><strong>Alt+Home</strong> - switch to first (most recent) conversation</li>\r\n              <li>Removed <strong>Alt+1, 2, 3..</strong> shortcuts due to conflicts in different browsers</li>\r\n            </ul>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal_section changelog_version_wrap" ng-show="canShowVersion(\'0.1.3\')">\r\n        <h3 class="modal_section_header changelog_version_title">\r\n          Version 0.1.3\r\n        </h3>\r\n        <div class="modal_section_body changelog_version_changes">\r\n          <ul class="list-unstyled changelog_version_changes_list">\r\n            <li>Added version history to welcome screen</li>\r\n            <li>Added keyboard shortcuts:</li>\r\n            <ul>\r\n              <li><strong>Tab</strong> - set focus to message field</li>\r\n              <li><strong>Esc</strong> or <strong>Shift+Tab</strong> - set focus to search field</li>\r\n              <li><strong>Up/Down</strong> (while in search field) - move between conversations</li>\r\n              <li><strong>Enter</strong> (while in search field) - open selected or first conversation</li>\r\n              <li><strong>Alt+Up/Down</strong> - move to previous/next conversation</li>\r\n            </ul>\r\n            <li>Improved grouping for messages</li>\r\n            <li>Fixed video modal positioning bug</li>\r\n            <li>Fixed focusing issues on mobile</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),
e.put("partials/mobile/chat_create_modal.html",'<div class="contacts_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: group.creating}" ng-click="createGroup()" ng-bind="group.creating ? \'group_create_submit_active\' : \'group_create_submit\' | i18n" ng-disabled="group.creating"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="group_create_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="createGroup()" my-vertical-position="0.25">\r\n\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" my-focused type="text" placeholder="{{\'group_create_name\' | i18n}}" ng-model="group.name"/>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/chat_edit_modal.html",'<div class="contacts_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: group.updating}" ng-click="updateGroup()" ng-bind="group.updating ? \'group_edit_submit_active\' : \'group_edit_submit\' | i18n" ng-disabled="group.updating"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="group_edit_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateGroup()" my-vertical-position="0.25">\r\n\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" my-focused type="text" placeholder="{{\'group_edit_name\' | i18n}}" ng-model="group.name"/>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/chat_modal.html",'<div class="chat_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-toggle-wrap dropdown" dropdown>\r\n          <a class="dropdown-toggle navbar-toggle" dropdown-toggle>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n          </a>\r\n          <ul class="dropdown-menu">\r\n            <li ng-if="chatFull.thumb.location" ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left">\r\n              <a ng-click="deletePhoto()" my-i18n="group_modal_menu_delete_photo"></a>\r\n            </li>\r\n            <li ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left">\r\n              <a ng-click="editTitle()" my-i18n="group_modal_menu_edit_group"></a>\r\n            </li>\r\n            <li ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left">\r\n              <a ng-click="leaveGroup()" my-i18n="group_modal_menu_leave"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="flushHistory()" my-i18n="group_modal_menu_delete_chat"></a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$close()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="group_modal_info"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="mobile_user_modal_photo_profile_wrap">\r\n\r\n      <a href="" ng-click="openPhoto(chatFull.chat_photo.id, {p: -chatFull.chat.id})" class="mobile_user_modal_image_wrap pull-left" ng-class="{disabled: !chatFull.chat.photo.photo_small}">\r\n        <img\r\n          class="mobile_user_modal_image mobile_chat_modal_image"\r\n          my-load-thumb\r\n          watch="true"\r\n          thumb="chatFull.thumb"\r\n        />\r\n      </a>\r\n\r\n      <div class="mobile_user_modal_info_wrap clearfix">\r\n        <h4 class="mobile_user_modal_header" my-chat-link="chatFull.chat.id"></h4>\r\n        <p class="mobile_user_modal_status"  ng-if="chatFull.chat.participants_count > 0">\r\n          <ng-pluralize count="chatFull.chat.participants_count"\r\n                           when="group_modal_pluralize_participants">\r\n          </ng-pluralize>\r\n        </p>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap" ng-if="!chatFull.chat.left &amp;&amp; chatFull.participants.participants.length">\r\n      <a class="mobile_modal_action" ng-click="inviteToGroup()" my-i18n="group_modal_add_member"></a>\r\n    </div>\r\n    <div class="mobile_modal_action_wrap" ng-if="chatFull.chat._ != \'chatForbidden\' && !chatFull.chat.left && chatFull.isAdmin">\r\n      <a class="mobile_modal_action" ng-click="inviteViaLink()" my-i18n="group_modal_menu_share_link"></a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap" ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; chatFull.chat.left">\r\n      <a class="mobile_modal_action" ng-click="returnToGroup()" my-i18n="group_modal_return"></a>\r\n    </div>\r\n    <div class="mobile_modal_action_wrap" ng-if="chatFull.chat._ == \'chatForbidden\'">\r\n      <a class="mobile_modal_action" ng-click="flushHistory()" my-i18n="group_modal_return"></a>\r\n    </div>\r\n    <div class="mobile_modal_action_wrap" ng-if="chatFull.chat._ != \'chatForbidden\' &amp;&amp; !chatFull.chat.left &amp;&amp; !photo.updating">\r\n      <span class="mobile_modal_action mobile_modal_upload_action">\r\n        <input my-file-upload  type="file" multiple="false" class="im_attach_input" size="120" multiple="false" accept="image/x-png, image/png, image/gif, image/jpeg" />\r\n        <my-i18n="group_modal_update_photo"></my-i18n>\r\n      </span>\r\n    </div>\r\n    <div class="mobile_modal_action_wrap" ng-if="photo.updating">\r\n      <span class="mobile_modal_action" my-i18n>\r\n        <my-i18n="group_modal_update_active"></my-i18n>\r\n        <span my-loading-dots></span>\r\n      </span>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="settings.notifications = !settings.notifications" ng-class="settings.notifications ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="group_modal_notifications"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section">\r\n      <h4 class="mobile_modal_section_header" my-i18n="group_modal_members"></h4>\r\n      <div class="mobile_modal_section_body">\r\n\r\n        <div class="chat_modal_members_list">\r\n\r\n          <div class="chat_modal_participant_wrap clearfix" ng-repeat="participant in chatFull.participants.participants | orderBy:\'-user.sortStatus\'">\r\n            <a ng-if="participant.canKick" ng-click="kickFromGroup(participant.user_id)"  class="chat_modal_participant_kick pull-right" my-i18n="group_modal_members_kick"></a>\r\n\r\n            <a class="chat_modal_participant_photo pull-left" my-user-photolink="participant.user_id" img-class="chat_modal_participant_photo" status="true"></a>\r\n\r\n            <div class="chat_modal_participant_name">\r\n              <a my-user-link="participant.user_id"></a>\r\n            </div>\r\n            <div class="chat_modal_participant_status" my-user-status="::participant.user_id"></div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="chat_modal_members_forbidden" ng-if="chatFull.chat._ == \'chatForbidden\' || chatFull.chat.left" my-i18n="group_modal_members_unavailable"></div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/contacts_modal.html",'<div class="contacts_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header" ng-switch="action">\r\n\r\n          <ul ng-switch-when="edit" class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-left">\r\n              <a ng-click="toggleEdit(false)" my-i18n="contacts_modal_edit_cancel"></a>\r\n            </li>\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" ng-click="deleteSelected()">\r\n                <my-i18n msgid="contacts_modal_edit_delete"></my-i18n>\r\n                <strong ng-bind="selectedCount"></strong>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n          <div ng-switch-default class="navbar-toggle-wrap dropdown" ng-show="!action" dropdown>\r\n            <a class="dropdown-toggle navbar-toggle" dropdown-toggle>\r\n              <span class="icon-bar"></span>\r\n              <span class="icon-bar"></span>\r\n              <span class="icon-bar"></span>\r\n            </a>\r\n            <ul class="dropdown-menu">\r\n              <li>\r\n                <a ng-click="toggleEdit(true)" my-i18n="contacts_modal_edit_list"></a>\r\n              </li>\r\n              <li>\r\n                <a ng-click="importContact()" my-i18n="contacts_modal_new_contact"></a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <ul ng-switch-default class="nav navbar-nav navbar-quick-nav">\r\n            <li ng-if="action == \'select\' || action == \'new_group\'" class="navbar-quick-right">\r\n              <a ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" ng-click="submitSelected()" my-i18n="modal_next"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 ng-switch="action">\r\n                    <div ng-switch-when="new_group" ng-switch="selectedCount > 0">\r\n                      <span ng-switch-when="true">\r\n                        <ng-pluralize count="selectedCount" when="contacts_modal_pluralize_new_group_members">\r\n                        </ng-pluralize>\r\n                      </span>\r\n                      <span ng-switch-default my-i18n="group_create_contacts_modal_title"></span>\r\n                    </div>\r\n                    <span ng-switch-default my-i18n="contacts_modal_title"></span>\r\n                  </h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="contacts_modal_search">\r\n      <input class="form-control contacts_modal_search_field no_outline" my-focused type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n      <a class="im_dialogs_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n        <i class="icon icon-search-clear"></i>\r\n      </a>\r\n    </div>\r\n\r\n\r\n    <div class="contacts_modal_col contacts_wrap contacts_scrollable_wrap mobile_scrollable_wrap" my-contacts-list-mobile my-infinite-scroller-mobile>\r\n      <ul class="contacts_modal_members_list nav nav-pills nav-stacked">\r\n\r\n        <li class="contacts_modal_contact_wrap clearfix" ng-repeat="contact in contacts | orderBy:\'user.sortName\' | limitTo: slice.limit track by contact.userID" ng-class="{active: selectedContacts[contact.userID], disabled: disabledContacts[contact.userID]}">\r\n          <a class="contacts_modal_contact" ng-click="contactSelect(contact.userID)">\r\n\r\n            <i ng-if="multiSelect" class="icon icon-contact-tick"></i>\r\n\r\n            <div class="contacts_modal_contact_photo pull-left" my-user-photolink="contact.userID" status="true" img-class="contacts_modal_contact_photo"></div>\r\n            <div class="contacts_modal_contact_name" my-user-link="contact.userID"></div>\r\n            <div class="contacts_modal_contact_status" ng-switch="contact.found">\r\n              <span ng-switch-when="true" ng-bind="\'@\' + contact.user.username"></span>\r\n              <span ng-switch-default my-user-status="::contact.userID"></span>\r\n            </div>\r\n          </a>\r\n        </li>\r\n\r\n      </ul>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/country_select_modal.html",'<div class="countries_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 class="modal_simple_header" my-i18n="country_select_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="countries_modal_search">\r\n      <input class="form-control countries_modal_search_field no_outline" my-focused type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n      <a class="countries_modal_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n        <i class="icon icon-search-clear"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="countries_modal_col countries_wrap countries_scrollable_wrap mobile_scrollable_wrap" my-countries-list-mobile my-infinite-scroller-mobile>\r\n      <ul class="countries_modal_members_list nav nav-pills nav-stacked">\r\n\r\n        <li class="countries_modal_country_wrap clearfix" ng-repeat="country in countries | limitTo : slice.limit track by $index">\r\n          <a class="countries_modal_country" ng-click="$close(country)">\r\n            <span class="countries_modal_country_code pull-right" ng-bind="country.code"></span>\r\n            <span class="countries_modal_country_name" ng-bind="country.name"></span>\r\n          </a>\r\n        </li>\r\n\r\n      </ul>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/dialog.html",'<a class="im_dialog" ng-mousedown="dialogSelect(dialogMessage.peerString, dialogMessage.unreadCount == -1 && dialogMessage.id)">\r\n\r\n  <div class="im_dialog_meta pull-right text-right">\r\n    <div class="im_dialog_date" ng-bind="dialogMessage.dateText"></div>\r\n    <span\r\n      class="im_dialog_badge badge"\r\n      ng-show="dialogMessage.unreadCount > 0 && !dialogMessage.out"\r\n      ng-bind="dialogMessage.unreadCount"\r\n    ></span>\r\n    <i\r\n      class="im_dialog_unread"\r\n      ng-show="dialogMessage.out && dialogMessage.unread"\r\n    ></i>\r\n  </div>\r\n\r\n  <div class="im_dialog_photo pull-left">\r\n    <img\r\n      class="im_dialog_photo"\r\n      my-load-thumb\r\n      watch="true"\r\n      thumb="dialogMessage.peerPhoto"\r\n    />\r\n  </div>\r\n\r\n  <div class="im_dialog_message_wrap">\r\n\r\n    <div class="im_dialog_peer" ng-switch="::dialogMessage.peerID > 0">\r\n      <span class="im_dialog_user" ng-switch-when="true" my-user-link="dialogMessage.peerID"></span>\r\n      <span class="im_dialog_chat" ng-switch-default my-chat-link="-dialogMessage.peerID"></span>\r\n    </div>\r\n\r\n    <div ng-if="dialogMessage.typing > 0" class="im_dialog_message">\r\n      <span class="im_dialog_message_service" my-i18n="im_conversation_group_typing">\r\n        <my-i18n-param name="name"><span my-user-link="dialogMessage.typing" short="true" class="im_dialog_chat_from_wrap"></span></my-i18n-param><my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>\r\n      </span>\r\n    </div>\r\n\r\n    <div ng-show="!dialogMessage.typing" ng-switch="dialogMessage.deleted">\r\n      <div ng-switch-when="true" class="im_dialog_message">\r\n        <span class="im_dialog_message_text" my-i18n="conversation_message_deleted"></span>\r\n      </div>\r\n      <div ng-switch-default class="im_dialog_message">\r\n        <span ng-switch="::dialogMessage.peerID > 0">\r\n          <span ng-switch-when="true">\r\n            <span class="im_dialog_chat_from_wrap" ng-if="dialogMessage.out">\r\n              <span\r\n                class="im_dialog_chat_from"\r\n                my-i18n="conversation_you"\r\n              ></span><span ng-if="dialogMessage.message.length || dialogMessage.media">:</span>\r\n            </span>\r\n          </span>\r\n          <span ng-switch-default>\r\n            <span class="im_dialog_chat_from_wrap" ng-switch="dialogMessage.out && dialogMessage._ != \'messageService\'">\r\n              <span\r\n                ng-switch-when="false"\r\n                class="im_dialog_chat_from"\r\n                my-user-link="dialogMessage.from_id" short="true" user-watch="true"\r\n              ></span><span\r\n                ng-switch-when="true"\r\n                class="im_dialog_chat_from"\r\n                my-i18n="conversation_you"\r\n              ></span><span ng-if="dialogMessage.message.length || dialogMessage.media">:</span>\r\n            </span>\r\n          </span>\r\n        </span>\r\n\r\n        <span class="im_dialog_message_media" ng-if="dialogMessage.media" ng-switch="dialogMessage.media._">\r\n          <span ng-switch-when="messageMediaPhoto" my-i18n="conversation_media_photo"></span>\r\n          <span ng-switch-when="messageMediaVideo" my-i18n="conversation_media_video"></span>\r\n          <span ng-switch-when="messageMediaDocument" ng-switch="::dialogMessage.media.document.sticker || false">\r\n            <span ng-switch-when="1" my-i18n="conversation_media_sticker"></span>\r\n            <span ng-switch-when="2">\r\n              <span ng-bind-html="dialogMessage.media.document.stickerEmoji"></span>\r\n              (<my-i18n msgid="conversation_media_sticker"></my-i18n>)\r\n            </span>\r\n            <span ng-switch-default ng-bind="dialogMessage.media.document.file_name"></span>\r\n          </span>\r\n          <span ng-switch-when="messageMediaAudio" my-i18n="conversation_media_audio"></span>\r\n          <span ng-switch-when="messageMediaGeo" my-i18n="conversation_media_location"></span>\r\n          <span ng-switch-when="messageMediaVenue" my-i18n="conversation_media_location"></span>\r\n          <span ng-switch-when="messageMediaContact" my-i18n="conversation_media_contact"></span>\r\n        </span>\r\n\r\n        <span class="im_dialog_message_service" ng-if="dialogMessage._ == \'messageService\'" ng-switch="dialogMessage.action._">\r\n          <span ng-switch-when="messageActionChatCreate" my-i18n="conversation_group_created"></span>\r\n          <span ng-switch-when="messageActionChatEditTitle" my-i18n="conversation_group_renamed"></span>\r\n          <span ng-switch-when="messageActionChatEditPhoto" my-i18n="conversation_group_photo_updated"></span>\r\n          <span ng-switch-when="messageActionChatDeletePhoto" my-i18n="conversation_group_photo_removed"></span>\r\n\r\n          <span ng-switch-when="messageActionChatAddUser" ng-switch="dialogMessage.from_id == dialogMessage.action.user_id">\r\n            <span ng-switch-when="true" my-i18n="conversation_returned_to_group"></span>\r\n            <span ng-switch-default my-i18n="conversation_invited_user">\r\n              <my-i18n-param name="user"><span my-user-link="dialogMessage.action.user_id"></span></my-i18n-param>\r\n            </span>\r\n          </span>\r\n\r\n          <span ng-switch-when="messageActionChatDeleteUser" ng-switch="dialogMessage.from_id == dialogMessage.action.user_id">\r\n            <span ng-switch-when="true" my-i18n="conversation_left_group"></span>\r\n            <span ng-switch-default my-i18n="conversation_kicked_user">\r\n              <my-i18n-param name="user"><span my-user-link="dialogMessage.action.user_id"></span></my-i18n-param>\r\n            </span>\r\n          </span>\r\n        </span>\r\n\r\n        <span ng-switch-when="messageActionChatJoinedByLink" my-i18n="conversation_joined_by_link"></span>\r\n\r\n        <span class="im_dialog_message_text" ng-if="dialogMessage.message.length" ng-bind-html="dialogMessage.richMessage"></span>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</a>\r\n'),e.put("partials/mobile/edit_contact_modal.html",'<div class="import_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: progress.enabled}" ng-click="doImport()" ng-bind="progress.enabled ? \'contact_edit_modal_submit_active\' : \'contact_edit_modal_submit\'| i18n" ng-disabled="progress.enabled"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="contact_edit_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="doImport()" my-vertical-position="0.3">\r\n\r\n      <div class="form-group">\r\n        <span class="form-control uneditable_input input-lg disabled" disabled my-focused type="text" ng-bind="importContact.phone | phoneNumber"></span>\r\n      </div>\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" type="text" placeholder="{{\'contact_edit_modal_first_name\' | i18n}}" ng-model="importContact.first_name" my-submit-on-enter/>\r\n      </div>\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" type="text" placeholder="{{\'contact_edit_modal_last_name\' | i18n}}" ng-model="importContact.last_name" my-submit-on-enter/>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/full_gif.html",'<a class="img_gif_with_progress_wrap" ng-click="toggle($event)">\r\n\r\n  <div class="img_gif_image_wrap" ng-switch="document.downloaded &amp;&amp; isActive">\r\n\r\n    <img ng-switch-when="true" class="img_gif_image" ng-src="{{document.url}}" />\r\n    <img ng-switch-default class="img_gif_thumb" my-load-thumb thumb="document.thumb" />\r\n\r\n  </div>\r\n\r\n  <div ng-show="!isActive" ng-switch="document.progress.enabled">\r\n\r\n    <div ng-switch-when="true" class="img_gif_progress_wrap">\r\n      <div class="img_gif_progress progress tg_progress">\r\n        <div class="progress-bar progress-bar-success" ng-style="{width: document.progress.percent + \'%\'}"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div ng-switch-default class="img_gif_info_wrap">\r\n      <div class="img_gif_label pull-left">GIF</div>\r\n      <div ng-if="!document.downloaded" class="img_gif_size pull-right" ng-bind="::document.size | formatSize"></div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</a>'),e.put("partials/mobile/full_photo.html",'<div class="img_fullsize_with_progress_wrap">\r\n  <div class="img_fullsize_progress_overlay" ng-show="progress.enabled">\r\n    <div class="img_fullsize_progress_wrap">\r\n      <div class="img_fullsize_progress progress tg_progress" ng-show="progress.percent > 0">\r\n        <div class="progress-bar progress-bar-success" ng-style="{width: progress.percent + \'%\'}">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="photo_full_wrap">\r\n    <a class="photo_modal_image">\r\n      <img class="photo_modal_image"/>\r\n    </a>\r\n  </div>\r\n  <div class="photo_modal_error_wrap" ng-if="error">\r\n    <div class="photo_modal_error" ng-if="error.html" ng-bind-html="error.html"></div>\r\n    <div class="photo_modal_error" ng-if="error.text" ng-bind="error.text"></div>\r\n  </div>\r\n</div>'),e.put("partials/mobile/full_video.html",'<div class="img_fullsize_with_progress_wrap" ng-style="{width: video.full.width + \'px\', height: video.full.height + \'px\'}">\r\n  <div class="img_fullsize_progress_overlay" ng-show="video.progress.enabled">\r\n    <div class="img_fullsize_progress_wrap" ng-style="{width: video.full.width + \'px\', height: video.full.height + \'px\'}">\r\n      <div class="img_fullsize_progress progress tg_progress">\r\n        <div class="progress-bar progress-bar-success" style="width: {{video.progress.percent}}%"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="img_fullsize_wrap" ng-if="!video.url">\r\n    <img\r\n      class="img_fullsize"\r\n      my-load-thumb\r\n      thumb="video.fullThumb"\r\n    />\r\n  </div>\r\n  <div class="video_full_player" ng-if="video.url" ng-switch="player.quicktime">\r\n    <embed ng-switch-when="true" ng-src="{{video.url}}" width="{{video.full.width}}" height="{{video.full.height}}" autoplay="true" CONTROLLER="TRUE" SHOWCONTROLS="TRUE" controller="true" loop="false" pluginspace="http://www.apple.com/quicktime/" />\r\n    <video ng-switch-default width="{{video.full.width}}" height="{{video.full.height}}" controls autoplay >\r\n      <source ng-src="{{video.url}}" type="video/mp4">\r\n    </video>\r\n  </div>\r\n  <div class="video_full_error_wrap" ng-if="error">\r\n    <div class="video_full_error" ng-if="error.html" ng-bind-html="error.html"></div>\r\n    <div class="video_full_error" ng-if="error.text" ng-bind="error.text"></div>\r\n  </div>\r\n</div>'),e.put("partials/mobile/head.html",'<div class="tg_page_head">\r\n  <div class="navbar navbar-static-top  navbar-inverse" role="navigation" ng-class="{navbar_peer_not_selected: !curDialog.peer, navbar_offline: offline, navbar_history_select: historyState.selectActions}">\r\n    <div class="container">\r\n\r\n      <a class="navbar-peer-wrap" ng-click="showPeerInfo()">\r\n        <img\r\n          my-load-thumb\r\n          watch="true"\r\n          thumb="historyPeer.photo"\r\n        />\r\n      </a>\r\n\r\n      <div class="navbar-toggle-wrap dropdown" dropdown>\r\n        <a class="dropdown-toggle navbar-toggle" dropdown-toggle>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n        </a>\r\n        <ul ng-if="!curDialog.peer" class="dropdown-menu">\r\n          <li><a ng-click="openGroup()" my-i18n="head_new_group"></a></li>\r\n          <li><a ng-click="importContact()" my-i18n="head_new_contact"></a></li>\r\n          <li ng-if="!isEmpty.contacts"><a ng-click="openContacts()" my-i18n="head_contacts"></a></li>\r\n          <li><a ng-click="openSettings()" my-i18n="head_settings"></a></li>\r\n          <li><a ng-click="logOut()" my-i18n="head_log_out"></a></li>\r\n        </ul>\r\n        <ul ng-if="curDialog.peer" class="dropdown-menu">\r\n          <li><a ng-click="toggleEdit()" my-i18n="head_edit_messages"></a></li>\r\n          <li ng-if="!historyFilter.mediaType" class="divider"></li>\r\n          <li ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia(\'photos\')" my-i18n="head_media_photos"></a></li>\r\n          <li ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia(\'video\')" my-i18n="head_media_video"></a></li>\r\n          <li ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia(\'documents\')" my-i18n="head_media_documents"></a></li>\r\n          <li ng-if="!historyFilter.mediaType"><a ng-click="toggleMedia(\'audio\')" my-i18n="head_media_audio"></a></li>\r\n        </ul>\r\n      </div>\r\n\r\n      <a class="navbar-search-wrap" ng-click="toggleSearch()">\r\n        <i class="icon-search"></i>\r\n      </a>\r\n\r\n      <div class="navbar-header">\r\n\r\n        <a class="navbar-brand tg_logo_wrap" href="#/im"><i class="icon icon-tg-logo"></i><i class="icon icon-tg-title"></i></a>\r\n\r\n        <span class="tg_head_logo"></span></a>\r\n\r\n        <div ng-show="curDialog.peer" ng-switch="curDialog.peer &amp;&amp; historyFilter.mediaType.length > 0">\r\n          <ul ng-switch-when="true" class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="toggleMedia()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title" ng-switch="historyFilter.mediaType">\r\n                  <h4 ng-switch-when="photos" my-i18n="head_media_photos"></h4>\r\n                  <h4 ng-switch-when="video" my-i18n="head_media_video"></h4>\r\n                  <h4 ng-switch-when="documents" my-i18n="head_media_documents"></h4>\r\n                  <h4 ng-switch-when="audio" my-i18n="head_media_audio"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <div ng-switch-default ng-switch="historyState.selectActions">\r\n            <ul ng-switch-when="true" class="nav navbar-navbar navbar-quick-nav navbar-history-edit">\r\n              <li class="navbar-quick-right">\r\n                <a ng-click="toggleEdit()" my-i18n="modal_cancel"></a>\r\n              </li>\r\n              <li class="navbar-quick-left">\r\n                <a ng-click="selectedFlush()" my-i18n="head_clear_all"></a>\r\n              </li>\r\n              <li class="navbar-quick-title" my-i18n="head_edit"></li>\r\n            </ul>\r\n            <ul ng-switch-default class="nav navbar-nav navbar-quick-nav" ng-switch="historyPeer.id > 0">\r\n              <li ng-switch-when="true">\r\n                <a href="#/im" class="navbar-quick-profile-back">\r\n                  <i class="icon icon-back"></i>\r\n                  <div class="navbar-quick-back-title">\r\n                    <h4 my-user-link="historyPeer.id" user-watch="true"></h4>\r\n                    <small ng-switch="historyState.typing.length">\r\n                      <span ng-switch-when="1" class="status_online">\r\n                        <my-i18n msgid="head_typing"></my-i18n><span my-loading-dots></span>\r\n                      </span>\r\n                      <span ng-switch-default my-user-status="historyPeer.id"></span>\r\n                    </small>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n              <li ng-switch-default>\r\n                <a href="#/im" class="navbar-quick-group-back">\r\n                  <i class="icon icon-back"></i>\r\n                  <div class="navbar-quick-back-title">\r\n                    <h4 my-chat-link="-historyPeer.id" chat-watch="true"></h4>\r\n                    <small ng-switch="historyState.typing.length">\r\n                      <span ng-switch-when="0" class="tg_head_peer_status" my-chat-status="-historyPeer.id"></span>\r\n                      <my-i18n>\r\n                        <span ng-switch-when="1" class="status_online" my-i18n-format="head_one_typing"></span>\r\n                        <span ng-switch-when="2" class="status_online" my-i18n-format="head_two_typing"></span>\r\n                        <span ng-switch-default class="status_online" my-i18n-format="head_many_typing"></span>\r\n                        <my-i18n-param name="name1"><span my-user-link="historyState.typing[0]" short="true"></span></my-i18n-param>\r\n                        <my-i18n-param name="name2"><span my-user-link="historyState.typing[1]" short="true"></span></my-i18n-param>\r\n                        <my-i18n-param name="names" ng-bind="historyState.typing.length - 1"></my-i18n-param>\r\n                        <my-i18n-param name="dots"><span my-loading-dots></span></my-i18n-param>\r\n                      </my-i18n>\r\n                    </small>\r\n                  </div>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="navbar-menu" ng-if="offline">\r\n\r\n        <ul class="nav navbar-nav navbar-offline">\r\n          <li ng-show="!offlineConnecting"><span class="navbar-offline-text"><my-i18n msgid="head_waiting_for_network"></my-i18n><span my-loading-dots></span></span></li>\r\n          <li ng-show="!offlineConnecting" class="hidden-xs"><a href="" ng-click="retryOnline()" my-i18n="head_retry"></a></li>\r\n          <li ng-show="offlineConnecting"><span class="navbar-offline-text"><my-i18n msgid="head_connecting"></my-i18n><span my-loading-dots></span></span></li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'),
e.put("partials/mobile/im.html",'<div my-head></div>\r\n\r\n<div class="im_page_wrap" ng-class="{im_page_peer_not_selected: !curDialog.peer}">\r\n\r\n  <div class="im_page_split clearfix">\r\n\r\n    <div ng-controller="AppImDialogsController" my-dialogs has-tabs="{{search.query.length > 0}}" class="im_dialogs_col_wrap">\r\n      <div class="im_dialogs_panel">\r\n        <div class="im_dialogs_search">\r\n          <input class="form-control im_dialogs_search_field no_outline" type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n          <a class="im_dialogs_search_clear tg_search_clear" ng-click="searchClear()" ng-show="search.query.length">\r\n            <i class="icon icon-search-clear"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <div my-dialogs-list-mobile class="im_dialogs_col im_dialogs_scrollable_wrap mobile_scrollable_wrap">\r\n\r\n        <div class="im_dialogs_empty_wrap" ng-if="isEmpty.contacts" my-vertical-position="0.4">\r\n          <h3 class="im_dialogs_empty_header" my-i18n="im_no_contacts"></h3>\r\n          <p class="im_dialogs_empty_lead" my-i18n="im_get_started_long"></p>\r\n          <button type="button" class="btn btn-primary btn-block im_dialogs_add_contact" ng-click="importContact()" my-i18n="im_add_contact"></button>\r\n          <button ng-if="phonebookAvailable" type="button" class="btn btn-primary btn-block im_dialogs_import_phonebook" ng-click="importPhonebook()" my-i18n="im_import_phonebook"></button>\r\n        </div>\r\n\r\n        <ul class="nav nav-pills nav-stacked">\r\n          <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in dialogs track by dialogMessage.peerID" ng-class="{active: curDialog.peerID == dialogMessage.peerID}"></li>\r\n        </ul>\r\n\r\n        <div class="im_dialogs_contacts_wrap" ng-show="contacts.length > 0">\r\n          <h5 my-i18n="im_contacts_title"></h5>\r\n          <ul class="nav nav-pills nav-stacked">\r\n            <li class="im_dialog_wrap" ng-repeat="contact in contacts | orderBy:\'user.sortName\' track by contact.userID" ng-class="{active: curDialog.peerID == contact.userID}">\r\n              <a class="im_dialog" ng-mousedown="dialogSelect(contact.peerString)">\r\n                <div class="im_dialog_photo pull-left" my-user-photolink="contact.userID" img-class="im_dialog_photo" watch="true"></div>\r\n                <div class="im_dialog_message_wrap">\r\n                  <div class="im_dialog_peer">\r\n                    <span class="im_dialog_user" my-user-link="contact.userID"></span>\r\n                  </div>\r\n                  <div class="im_dialog_message">\r\n                    <span class="im_dialog_message_text" my-user-status="::contact.userID"></span>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class="im_dialogs_contacts_wrap" ng-show="foundUsers.length > 0">\r\n          <h5 my-i18n="im_found_title"></h5>\r\n          <ul class="nav nav-pills nav-stacked">\r\n            <li class="im_dialog_wrap" ng-repeat="foundUser in foundUsers track by foundUser.userID" ng-class="{active: curDialog.peerID == foundUser.userID}">\r\n              <a class="im_dialog" ng-mousedown="dialogSelect(foundUser.peerString)">\r\n                <div class="im_dialog_photo pull-left" my-user-photolink="foundUser.userID" img-class="im_dialog_photo" watch="true"></div>\r\n                <div class="im_dialog_message_wrap">\r\n                  <div class="im_dialog_peer">\r\n                    <span class="im_dialog_user" my-user-link="foundUser.userID"></span>\r\n                  </div>\r\n                  <div class="im_dialog_message" ng-switch="foundUser.user.username.length > 0">\r\n                    <span ng-switch-when="true" class="im_dialog_message_text" ng-bind="::\'@\' + foundUser.user.username"></span>\r\n                    <span ng-switch-default class="im_dialog_message_text" my-user-status="::foundUser.userID"></span>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class="im_dialogs_messages_wrap" ng-show="foundMessages.length > 0">\r\n          <h5 my-i18n="im_messages"></h5>\r\n          <ul class="nav nav-pills nav-stacked">\r\n            <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in foundMessages track by dialogMessage.id" ng-class="{active: curDialog.peerID == dialogMessage.peerID &amp;&amp; curDialog.messageID == dialogMessage.id}"></li>\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class="im_history_col_wrap" ng-controller="AppImHistoryController">\r\n      <div ng-show="!state.notSelected &amp;&amp; !state.loaded" class="im_history_not_selected" my-vertical-position="0.35" padding="true">\r\n        <my-i18n msgid="im_loading_history"></my-i18n><span my-loading-dots></span>\r\n      </div>\r\n\r\n      <div ng-show="state.loaded">\r\n        <div my-history-mobile class="im_history_col">\r\n\r\n          <div class="im_history_wrap im_history_scrollable_wrap mobile_scrollable_wrap">\r\n\r\n            <div class="im_history_scrollable">\r\n                <div class="im_history" ng-class="{im_history_selectable: historyState.selectActions}">\r\n                  <div ng-if="state.empty"  class="im_history_empty" ng-switch="state.mayBeHasMore" my-vertical-position="0.25" padding="true">\r\n                    <span ng-switch-when="true">\r\n                      <my-i18n msgid="im_loading_history"></my-i18n><span my-loading-dots></span>\r\n                    </span>\r\n                    <span ng-switch-default my-i18n="im_no_messages"></span>\r\n                  </div>\r\n\r\n                  <div class="im_history_messages" ng-class="{im_history_messages_group: historyPeer.id < 0}">\r\n                    <div class="im_history_messages_peer" ng-show="peerHistory.peerID == historyPeer.id" ng-repeat="peerHistory in peerHistories">\r\n                      <div class="im_history_message_wrap" my-message ng-repeat="historyMessage in peerHistory.messages"></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class="im_bottom_panel_wrap">\r\n\r\n            <div class="im_edit_panel_wrap clearfix" ng-show="historyState.selectActions">\r\n              <div class="im_edit_selected_actions" my-i18n>\r\n                <a class="btn btn-primary im_edit_forward_btn" ng-click="selectedForward()" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" my-i18n-format="im_forward"></a><a class="btn btn-danger im_edit_delete_btn" ng-click="selectedDelete()" ng-class="{disabled: !selectedCount}" ng-disabled="!selectedCount" my-i18n-format="im_delete"></a>\r\n                <my-i18n-param name="count"><strong class="im_selected_count" ng-show="selectedCount > 0" ng-bind="selectedCount"></strong></my-i18n-param>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="im_send_panel_wrap" ng-hide="historyState.selectActions">\r\n\r\n              <div class="im_send_form_wrap1">\r\n\r\n                <div class="im_send_form_wrap clearfix" ng-controller="AppImSendController">\r\n                  <form my-send-form draft-message="draftMessage" class="im_send_form" ng-class="{im_send_form_empty: !draftMessage.text.length}">\r\n\r\n                    <div class="im_send_field_wrap">\r\n                      <div class="im_send_dropbox_wrap" my-i18n="im_photos_drop_text"></div>\r\n                      <textarea ng-model="draftMessage.text" placeholder="{{\'im_message_field_placeholder\' | i18n}}" class="form-control im_message_field no_outline" dir="auto"></textarea>\r\n                    </div>\r\n\r\n                    <div class="im_attach pull-right">\r\n                      <input type="file" class="im_attach_input" size="28" multiple="true" title="{{\'im_media_attach_title\' | i18n}}" />\r\n                      <i class="icon icon-paperclip"></i>\r\n                    </div>\r\n\r\n                    <a class="composer_emoji_insert_btn pull-right"><i class="icon icon-emoji"></i></a>\r\n\r\n                    <button type="submit" class="btn btn-success im_submit"></button>\r\n                  </form>\r\n                </div>\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/import_contact_modal.html",'<div class="import_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: progress.enabled}" ng-click="doImport()" ng-bind="progress.enabled ? \'contact_import_modal_submit_active\' : \'contact_import_modal_submit\' | i18n" ng-disabled="progress.enabled"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="contact_import_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="doImport()" my-vertical-position="0.2">\r\n\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" my-focused type="text" placeholder="{{\'contact_import_modal_phone\' | i18n}}" ng-model="importContact.phone" my-submit-on-enter/>\r\n      </div>\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" type="text" placeholder="{{\'contact_edit_modal_first_name\' | i18n}}" ng-model="importContact.first_name" my-submit-on-enter/>\r\n      </div>\r\n      <div class="form-group">\r\n        <input class="form-control input-lg" type="text" placeholder="{{\'contact_edit_modal_last_name\' | i18n}}" ng-model="importContact.last_name" my-submit-on-enter/>\r\n      </div>\r\n\r\n      <div class="import_modal_phonebook_wrap" ng-if="phonebookAvailable">\r\n        <a class="btn btn-link" ng-click="importPhonebook()" my-i18n="contact_import_modal_phonebook"></a>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n</div>'),e.put("partials/mobile/login.html",'<div class="tg_page_head">\r\n  <div class="navbar navbar-static-top navbar-inverse navbar_peer_not_selected">\r\n    <div class="container">\r\n      <div class="navbar-header">\r\n\r\n        <ul class="nav navbar-nav navbar-quick-nav">\r\n          <li class="navbar-quick-right login_head_submit_wrap">\r\n            <a class="disabled" disabled="disabled" ng-if="progress.enabled" class="login_head_submit_progress">\r\n              <my-i18n ng-if="!credentials.phone_code_hash" msgid="login_generating_key"></my-i18n><my-i18n ng-if="credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" msgid="login_checking_code"></my-i18n><my-i18n ng-if="credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" msgid="login_signing_up"></my-i18n><my-i18n ng-if="credentials.phone_code_valid &amp;&amp; credentials.password_needed" msgid="login_checking_password"></my-i18n><span my-loading-dots></span>\r\n            </a>\r\n            <a ng-if="!progress.enabled &amp;&amp; !credentials.phone_code_hash" ng-click="sendCode()">\r\n              <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n            </a>\r\n            <a ng-if="!progress.enabled &amp;&amp; credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" ng-click="logIn()">\r\n              <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n            </a>\r\n            <a ng-if="!progress.enabled &amp;&amp; credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" ng-click="logIn(true)">\r\n              <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n            </a>\r\n            <a ng-if="!progress.enabled &amp;&amp; credentials.phone_code_valid &amp;&amp; credentials.password_needed" ng-click="checkPassword()">\r\n              <my-i18n msgid="modal_next"></my-i18n><i class="icon icon-next-submit"></i>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class="navbar-brand tg_logo_wrap" href="https://telegram.org" target="_blank"><i class="icon icon-tg-logo"></i><i class="icon icon-tg-title"></i></a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="login_page_wrap" my-custom-background="#e7ebf0">\r\n  <div class="login_page">\r\n    <div class="login_form_wrap" my-vertical-position="0.2" padding="true">\r\n      <div class="error" ng-if="error.message" ng-bind="error.message"></div>\r\n\r\n      <form name="mySendCodeForm" ng-if="!credentials.phone_code_hash" ng-submit="sendCode()">\r\n        <h3 class="login_form_head" my-i18n="login_sign_in"></h3>\r\n        <p class="login_form_lead" my-i18n="login_enter_number_description"></p>\r\n\r\n        <div class="md-input-group md-input-has-value login_phone_country_input_group" ng-click="chooseCountry()">\r\n          <label class="md-input-label" my-i18n="login_country_select_placeholder"></label>\r\n          <div autocomplete="off" class="md-input"ng-bind="credentials.phone_country_name"></div>\r\n        </div>\r\n\r\n        <div class="login_phone_groups_wrap clearfix">\r\n\r\n          <div class="md-input-group login_phone_code_input_group" ng-class="{\'md-input-error\': error.field == \'phone\'}" my-labeled-input>\r\n            <label class="md-input-label" my-i18n="login_code_input_placeholder"></label>\r\n            <input autocomplete="off" class="md-input" my-focused name="phone_country" type="tel" ng-model="credentials.phone_country" />\r\n          </div>\r\n\r\n          <div class="md-input-group login_phone_num_input_group" ng-class="{\'md-input-error\': error.field == \'phone\'}" my-labeled-input ng-switch="error.field == \'phone\'">\r\n            <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_number"></label>\r\n            <label ng-switch-default class="md-input-label" my-i18n="login_tel_input_placeholder"></label>\r\n            <input required autocomplete="off" class="md-input" my-focus-on="country_selected" name="phone_number" type="tel" ng-model="credentials.phone_number" />\r\n          </div>\r\n\r\n        </div>\r\n        <div class="login_form_messaging" ng-show="progress.enabled" my-i18n="login_generating_keys_info"></div>\r\n      </form>\r\n\r\n      <form name="myLoginForm" ng-if="credentials.phone_code_hash &amp;&amp; !credentials.phone_code_valid" ng-submit="logIn()">\r\n        <h3 class="login_phone_head"><span ng-bind="credentials.phone_country"></span> <span ng-bind="credentials.phone_number"></span></h3>\r\n        <div class="login_edit_phone"><a ng-click="editPhone()" my-i18n="login_edit_number"></a></div>\r\n        <div ng-switch="credentials.viaApp">\r\n          <div ng-switch-when="true">\r\n            <p class="login_smscode_lead" my-i18n="login_enter_code_label_md"></p>\r\n            <p class="login_smscode_lead">\r\n              <a ng-click="sendSms()" my-i18n="login_code_not_received"></a>\r\n            </p>\r\n          </div>\r\n          <div ng-switch-default>\r\n            <p class="login_smscode_lead" my-i18n="login_enter_sms_code_label_md"></p>\r\n\r\n            <p class="login_smscode_lead">\r\n              <span ng-show="callPending.remaining > 0" my-i18n="login_call_remaining">\r\n                <my-i18n-param name="remaining">{{callPending.remaining | duration}}</my-i18n-param>\r\n              </span>\r\n              <span ng-show="!callPending.remaining &amp;&amp; !callPending.success" my-i18n="login_calling"></span>\r\n              <span ng-show="!callPending.remaining &amp;&amp; callPending.success" my-i18n="login_number_dialed"></span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="md-input-group md-input-group-centered" ng-class="{\'md-input-error\': error.field == \'phone_code\'}" my-labeled-input ng-switch="error.field == \'phone_code\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_sms_code"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_number_input_placeholder"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="phone_code" type="tel" ng-model="credentials.phone_code" required />\r\n        </div>\r\n      </form>\r\n\r\n      <form name="myFullNameForm" ng-if="credentials.phone_code_valid &amp;&amp; credentials.phone_unoccupied" ng-submit="logIn(true)">\r\n        <h3 class="login_form_head" my-i18n="login_your_info"></h3>\r\n        <p class="login_form_lead" my-i18n="login_fulll_name_label"></p>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'first_name\'}" my-labeled-input ng-switch="error.field == \'first_name\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_first_name"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_first_name"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="first_name" type="text" ng-model="credentials.first_name" required />\r\n        </div>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'last_name\'}" my-labeled-input ng-switch="error.field == \'last_name\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_last_name"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_last_name"></label>\r\n          <input autocomplete="off" class="md-input" name="last_name" type="text" ng-model="credentials.last_name" />\r\n        </div>\r\n\r\n      </form>\r\n\r\n      <form name="myPasswordForm" ng-if="credentials.phone_code_valid &amp;&amp; credentials.password_needed" ng-submit="checkPassword()">\r\n        <h3 class="login_form_head" my-i18n="login_password_title"></h3>\r\n        <p class="login_form_lead" my-i18n="login_password_label"></p>\r\n\r\n        <div class="md-input-group" ng-class="{\'md-input-error\': error.field == \'password\'}" my-labeled-input ng-switch="error.field == \'password\'">\r\n          <label ng-switch-when="true" class="md-input-label" my-i18n="login_incorrect_password"></label>\r\n          <label ng-switch-default class="md-input-label" my-i18n="login_password"></label>\r\n          <input autocomplete="off" class="md-input" my-focused name="password" type="password" ng-model="credentials.password" my-submit-on-enter required />\r\n        </div>\r\n\r\n        <p ng-if="password.hint.length > 0" class="login_form_hint" ng-bind="password.hint"></p>\r\n\r\n        <div class="login_forgot_button">\r\n          <button class="btn btn-md" ng-click="forgotPassword($event)" my-i18n="login_password_forgot_link"></button>\r\n        </div>\r\n\r\n        <div ng-if="canReset" class="login_reset_button">\r\n          <button class="btn btn-md btn-md-danger" ng-click="resetAccount($event)" my-i18n="login_account_reset"></button>\r\n        </div>\r\n\r\n      </form>\r\n\r\n    </div>\r\n\r\n    <div ng-switch="about.shown">\r\n      <div ng-switch-when="true" class="login_footer_about_wrap" my-scroll-to-on="$init">\r\n        <h3 my-i18n="login_about_title"></h3>\r\n        <p my-i18n="login_about_desc1_md"></p>\r\n        <p my-i18n="login_about_desc2_md"></p>\r\n        <p my-i18n="login_about_desc3_md">\r\n          <my-i18n-param name="source-link">\r\n            <a href="https://github.com/zhukov/webogram" target="_blank">{0}</a>\r\n          </my-i18n-param>\r\n        </p>\r\n      </div>\r\n      <div ng-switch-default class="login_footer_wrap">\r\n        <p my-i18n="login_about_intro"></p>\r\n        <a class="logo_footer_learn_more_link" href="" ng-click="about.shown = true" my-i18n="login_about_learn"></a>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n'),e.put("partials/mobile/message.html",'<div class="im_message_outer_wrap" ng-click="toggleMessage(historyMessage.id, $event)">\r\n\r\n\r\n  <div class="im_message_wrap clearfix" ng-switch="::historyMessage._ == \'messageService\'">\r\n\r\n    <div class="im_service_message_wrap" ng-switch-when="true">\r\n      <div class="im_service_message">\r\n        <a class="im_message_author" my-user-link="historyMessage.from_id" short="!historyMessage.to_id.chat_id" color="historyMessage.to_id.chat_id > 0" no-watch="true"></a>\r\n        <span class="im_message_service" my-service-message></span>\r\n      </div>\r\n\r\n      <a ng-if="::historyMessage.action._ == \'messageActionChatEditPhoto\'" class="im_service_message_photo_thumb" href="" ng-click="openPhoto(historyMessage.action.photo.id)">\r\n        <img\r\n          class="im_service_message_photo_thumb"\r\n          my-load-thumb\r\n          thumb="historyMessage.action.photo.thumb"\r\n        />\r\n      </a>\r\n\r\n    </div>\r\n\r\n    <div ng-switch-default class="im_content_message_wrap" ng-class="::[historyMessage.out ? \'im_message_out\' : \'im_message_in\']">\r\n      <i ng-if="::historyMessage.unread &amp;&amp; historyMessage.out || historyMessage.pending || false" class="icon-message-status" ng-class="{\'icon-message-status-unread\': historyMessage.unread, \'icon-message-status-pending\': historyMessage.pending}" ng-show="!historyMessage.error"></i>\r\n\r\n      <a class="im_message_from_photo pull-left" my-user-photolink="historyMessage.from_id" img-class="im_message_from_photo"></a>\r\n\r\n      <div class="im_message_meta">\r\n        <i class="icon-message-status-tick"></i>\r\n        <span class="im_message_date" ng-bind="::historyMessage.date | time"></span>\r\n      </div>\r\n\r\n      <div class="im_message_body" ng-class="::{im_message_body_media: !!historyMessage.media && !historyMessage.media.rCaption}">\r\n\r\n        <a class="im_message_author" my-user-link="historyMessage.from_id" short="!historyMessage.to_id.chat_id" color="historyMessage.to_id.chat_id > 0" no-watch="true"></a>\r\n\r\n        <a class="im_message_reply_wrap" my-reply-message="historyMessage.reply_to_msg" ng-if="::historyMessage.reply_to_msg_id"></a>\r\n\r\n        <div ng-if="::historyMessage.fwd_from_id > 0 &amp;&amp; !historyMessage.media" class="im_message_fwd_header" my-i18n="message_forwarded_message_mobile">\r\n          <a my-i18n-param="from" class="im_message_fwd_author" my-user-link="historyMessage.fwd_from_id" no-watch="true"></a>\r\n          <span my-i18n-param="date" class="im_message_fwd_date" ng-bind="::historyMessage.fwd_date | dateOrTime"></span>\r\n        </div>\r\n\r\n        <div ng-if="::historyMessage.media || false" class="im_message_media" ng-switch="historyMessage.media._">\r\n\r\n          <div ng-switch-when="messageMediaPhoto"     my-message-photo="historyMessage.media" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaVideo"     my-message-video="historyMessage.media" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaDocument"  my-message-document="historyMessage.media.document" message-id="historyMessage.id"></div>\r\n          <div ng-switch-when="messageMediaAudio"     class="im_message_audio" my-audio-player audio="historyMessage.media.audio"></div>\r\n          <div ng-switch-when="messageMediaGeo"       my-message-geo="historyMessage.media"></div>\r\n          <div ng-switch-when="messageMediaVenue"     my-message-geo="historyMessage.media"></div>\r\n          <div ng-switch-when="messageMediaContact"   class="im_message_contact" my-message-contact></div>\r\n          <div ng-switch-when="messageMediaPending"   my-message-pending></div>\r\n          <div ng-switch-when="messageMediaUnsupported">\r\n            <div class="im_message_text">\r\n              The message is not supported on your version of Telegram Web. Update the app to view: <a href="https://web.telegram.org">web.telegram.org</a>.\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div class="im_message_text" ng-if="::historyMessage.message.length || false" ng-bind-html="::historyMessage.richMessage" dir="auto"></div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n'),e.put("partials/mobile/message_attach_contact.html",'<div>\r\n  <a ng-if="historyMessage.media.user_id > 0"  class="im_message_contact_photo pull-left" my-user-photolink="historyMessage.media.user_id" img-class="im_message_contact_photo" user-override="historyMessage.media"></a>\r\n  <div class="im_message_contact_name" ng-switch="historyMessage.media.user_id > 0">\r\n    <a ng-switch-when="true" my-user-link="historyMessage.media.user_id" user-override="historyMessage.media"></a>\r\n    <span ng-switch-default ng-bind-html="::historyMessage.media.rFullName"></span>\r\n  </div>\r\n  <div class="im_message_contact_phone" ng-bind="::historyMessage.media.phone_number | phoneNumber"></div>\r\n</div>'),e.put("partials/mobile/message_attach_document.html",'<div ng-switch="::document.isSpecial">\r\n\r\n  <div ng-switch-when="gif" my-load-gif document="document"></div>\r\n\r\n  <div ng-switch-when="sticker" my-load-sticker document="document"></div>\r\n\r\n  <div ng-switch-when="audio" class="im_message_audio">\r\n    <div my-audio-player audio="document"></div>\r\n  </div>\r\n\r\n  <div ng-switch-default class="im_message_document clearfix" ng-class="{im_message_document_thumbed: !!document.thumb, im_message_document_progress: document.progress.enabled}">\r\n\r\n    <a ng-if="::!document.thumb" class="im_message_file_button" ng-click="docOpen()" ng-class="{im_message_file_button_dl_doc: document.downloaded}">\r\n      <i class="im_message_file_button_icon"></i>\r\n    </a>\r\n    <a ng-if="::document.thumb" ng-click="docOpen()">\r\n      <div class="im_message_document_thumb_wrap">\r\n        <img\r\n          class="im_message_document_thumb"\r\n          my-load-thumb\r\n          thumb="document.thumb"\r\n        />\r\n      </div>\r\n    </a>\r\n\r\n    <div class="im_message_document_info">\r\n      <div class="im_message_document_name_wrap">\r\n        <a href="" ng-click="docOpen()" class="im_message_document_name" ng-bind="::document.file_name"></a>\r\n        <span class="im_message_document_size" ng-if="!document.progress.enabled" ng-bind="::document.size | formatSize"></span>\r\n        <span class="im_message_document_size" ng-if="document.progress.enabled" ng-bind="document.progress | formatSizeProgress"></span>\r\n      </div>\r\n      <div class="im_message_document_actions" ng-if="!document.progress.enabled" ng-switch="document.downloaded">\r\n        <a ng-switch-when="true" href="" ng-click="docSave()" my-i18n="message_attach_document_save"></a>\r\n        <a ng-switch-default href="" ng-click="docSave()" my-i18n="message_attach_document_download"></a>\r\n        <a ng-if="::document.withPreview" href="" ng-click="docOpen()" my-i18n="message_attach_document_open"></a>\r\n      </div>\r\n      <div class="clearfix im_message_cancelable_progress_wrap" ng-if="document.progress.enabled">\r\n        <a class="im_message_media_progress_cancel pull-right" ng-click="document.progress.cancel()" my-i18n="modal_cancel"></a>\r\n        <div class="im_message_download_progress_wrap">\r\n          <div class="progress tg_down_progress">\r\n            <div class="progress-bar progress-bar-success" ng-style="{width: document.progress.percent + \'%\'}"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n'),e.put("partials/mobile/message_attach_geo.html",'<a ng-href="{{::media.mapUrl}}" target="_blank" class="im_message_geopoint">\r\n  <i class="icon icon-geo-point"></i>\r\n  <img\r\n    class="im_message_venue_geopoint_image"\r\n    my-geo-point-map="media.geo"\r\n    width="200"\r\n    height="100"\r\n  />\r\n</a>'),e.put("partials/mobile/message_attach_pending.html",'<div class="im_message_document im_message_upload_file" ng-class="::\'im_message_upload_\' + historyMessage.media.type">\r\n  <i class="icon" ng-class="::\'icon-\' + historyMessage.media.type"></i>\r\n  <div class="im_message_document_info">\r\n    <div class="im_message_document_name_wrap">\r\n      <span class="im_message_document_name" ng-bind="::historyMessage.media.file_name"></span>\r\n      <span class="im_message_document_size" ng-if="historyMessage.media.progress" ng-bind="historyMessage.media.progress | formatSizeProgress"></span>\r\n    </div>\r\n    <div class="clearfix im_message_cancelable_progress_wrap">\r\n      <a class="im_message_media_progress_cancel pull-right" ng-click="historyMessage.media.progress.cancel()" my-i18n="modal_cancel"></a>\r\n      <div class="im_message_download_progress_wrap">\r\n        <div class="progress tg_down_progress">\r\n          <div class="progress-bar progress-bar-success" role="progressbar" ng-style="{width: historyMessage.media.progress.percent + \'%\'}"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("partials/mobile/message_attach_photo.html",'<a class="im_message_photo_thumb" ng-click="openPhoto(media.photo.id, {m: messageId})" ng-style="::{width: media.photo.thumb.width + \'px\'}" ng-mouseover="preloadPhoto(media.photo.id)">\r\n  <img\r\n    class="im_message_photo_thumb"\r\n    my-load-thumb\r\n    thumb="media.photo.thumb"\r\n  />\r\n</a>\r\n<div ng-if="::media.rCaption" class="im_message_photo_caption" ng-bind-html="::media.rCaption"></div>'),e.put("partials/mobile/message_attach_video.html",'<div class="im_message_video im_message_document_thumbed">\r\n  <a class="im_message_video_thumb" href="" ng-click="videoOpen()" ng-style="::{width: media.video.thumb.width + \'px\'}">\r\n    <span class="im_message_video_duration" ng-bind="::media.video.duration | duration"></span>\r\n    <i class="icon icon-videoplay"></i>\r\n    <img\r\n      class="im_message_video_thumb im_message_video_thumb_blurred"\r\n      my-load-thumb\r\n      thumb="media.video.thumb"\r\n    />\r\n  </a>\r\n</div>\r\n<div ng-if="::media.rCaption" class="im_message_video_caption" ng-bind-html="::media.rCaption"></div>'),e.put("partials/mobile/message_service.html",'<span ng-switch="::historyMessage.action._">\r\n  <my-i18n>\r\n    <span ng-switch-when="messageActionChatCreate" my-i18n-format="message_service_created_group"></span>\r\n    <span ng-switch-when="messageActionChatEditTitle" my-i18n-format="message_service_changed_group_name"></span>\r\n    <my-i18n-param name="group-name">&laquo;<strong ng-bind-html="::historyMessage.action.rTitle"></strong>&raquo;</my-i18n-param>\r\n  </my-i18n>\r\n  <span ng-switch-when="messageActionChatEditPhoto" my-i18n="message_service_changed_group_photo"></span>\r\n  <span ng-switch-when="messageActionChatDeletePhoto" my-i18n="message_service_removed_group_photo"></span>\r\n  <span ng-switch-when="messageActionChatAddUser" ng-switch="::historyMessage.from_id != historyMessage.action.user_id">\r\n    <span ng-switch-when="true" my-i18n="message_service_invited_user">\r\n      <my-i18n-param name="user"><a my-user-link="historyMessage.action.user_id" color="true"></a></my-i18n-param>\r\n    </span>\r\n    <span ng-switch-default my-i18n="message_service_returned_to_group"></span>\r\n  </span>\r\n  <span ng-switch-when="messageActionChatDeleteUser" ng-switch="::historyMessage.from_id != historyMessage.action.user_id">\r\n    <span ng-switch-when="true" my-i18n="message_service_kicked_user">\r\n      <my-i18n-param name="user"><a my-user-link="historyMessage.action.user_id" color="true"></a></my-i18n-param>\r\n    </span>\r\n    <span ng-switch-default my-i18n="message_service_left_group"></span>\r\n  </span>\r\n\r\n  <span ng-switch-when="messageActionChatJoinedByLink" my-i18n="message_service_joined_by_link"></span>\r\n\r\n  <span ng-switch-default my-i18n="message_service_unsupported_action">\r\n    <my-i18n-param name="action"><span ng-bind="historyMessage.action._"></span></my-i18n-param>\r\n  </span>\r\n</span>\r\n'),
e.put("partials/mobile/password_recovery_modal.html",'<div class="username_edit_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: recovery.updating}" ng-click="checkCode()" ng-bind="recovery.updating ? \'password_recover_active\' : \'password_recover_submit\' | i18n" ng-disabled="recovery.updating"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="login_recovery_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="checkCode()">\r\n\r\n      <div class="md_simple_form_description" my-i18n="login_recovery_description_md">\r\n        <my-i18n-param name="email">\r\n          <strong ng-bind="recovery.email_pattern"></strong>\r\n        </my-i18n-param>\r\n      </div>\r\n\r\n      <div class="md-input-group" ng-class="{\'md-input-error\': recovery.error_field == \'code\'}" my-labeled-input ng-switch="recovery.error_field == \'code\'">\r\n        <label ng-switch-when="true" class="md-input-label" my-i18n="login_code_incorrect"></label>\r\n        <label ng-switch-default class="md-input-label" my-i18n="login_code_placeholder"></label>\r\n        <input class="md-input" my-focused type="text" ng-model="recovery.code" name="code" my-focused />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/password_update_modal.html",'<div class="username_edit_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: passwordSettings.updating}" ng-click="updatePassword()" ng-disabled="passwordSettings.updating" ng-switch="action">\r\n                <span ng-switch-when="disable" ng-bind="passwordSettings.updating ? \'password_delete_active\' : \'password_delete_submit\' | i18n"></span>\r\n                <span ng-switch-default ng-bind="passwordSettings.updating ? \'password_create_active\' : \'password_create_submit\' | i18n"></span>\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 ng-switch="action">\r\n                    <my-i18n ng-switch-when="disable" msgid="password_delete_title"></my-i18n>\r\n                    <my-i18n ng-switch-default msgid="password_change_title"></my-i18n>\r\n                  </h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updatePassword()" my-vertical-position="0.3">\r\n\r\n      <div ng-if="password._ != \'account.noPassword\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.error_field == \'cur_password\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_current_placeholder"></label>\r\n        <input class="md-input" my-focused type="password" ng-model="passwordSettings.cur_password" name="cur_password" my-focus-on="cur_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group md-input-grouped" ng-class="{\'md-input-error\': passwordSettings.error_field == \'new_password\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_new_placeholder"></label>\r\n        <input class="md-input" type="password" ng-model="passwordSettings.new_password" name="new_password" my-focus-on="new_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.confirm_password && passwordSettings.new_password && passwordSettings.confirm_password != passwordSettings.new_password}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_confirm_placeholder"></label>\r\n        <input class="md-input" type="password" ng-model="passwordSettings.confirm_password" name="confirm_password" my-focus-on="confirm_password_focus" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_hint_placeholder"></label>\r\n        <input class="md-input" type="text" ng-model="passwordSettings.hint" name="hint" />\r\n      </div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md_simple_form_description" my-i18n="password_create_description"></div>\r\n\r\n      <div ng-if="action != \'disable\'" class="md-input-group" ng-class="{\'md-input-error\': passwordSettings.error_field == \'email\'}" my-labeled-input>\r\n        <label class="md-input-label" my-i18n="password_email_placeholder"></label>\r\n        <input class="md-input" type="text" ng-model="passwordSettings.email" name="email" />\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/peer_select.html",'<div class="peer_select_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <a class="navbar-search-wrap" ng-click="toggleSearch()">\r\n          <i class="icon-search"></i>\r\n        </a>\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="conversation_select_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="im_dialogs_modal_col_wrap" ng-controller="AppImDialogsController" my-dialogs>\r\n      <div class="im_dialogs_panel">\r\n        <div class="im_dialogs_search">\r\n          <input my-focused class="form-control im_dialogs_search_field no_outline" type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n          <a class="im_dialogs_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n            <i class="icon icon-search-clear"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div my-dialogs-list-mobile modal="true" class="im_dialogs_modal_col im_dialogs_scrollable_wrap mobile_scrollable_wrap">\r\n        <ul class="nav nav-pills nav-stacked">\r\n          <li class="im_dialog_wrap" my-dialog dialog-message="dialogMessage" ng-repeat="dialogMessage in dialogs track by dialogMessage.peerID"></li>\r\n        </ul>\r\n        <div class="im_dialogs_contacts_wrap" ng-show="contacts.length > 0">\r\n          <h5 my-i18n="conversation_select_modal_contacts"></h5>\r\n          <ul class="nav nav-pills nav-stacked">\r\n            <li class="im_dialog_wrap" ng-repeat="contact in contacts | orderBy:\'user.sortName\' track by contact.userID" ng-class="{active: curDialog.peerID == contact.userID}">\r\n              <a class="im_dialog" ng-click="dialogSelect(contact.peerString)">\r\n                <div class="im_dialog_photo pull-left">\r\n                  <img\r\n                    class="im_dialog_photo"\r\n                    my-load-thumb\r\n                    thumb="contact.userPhoto"\r\n                  />\r\n                </div>\r\n                <div class="im_dialog_message_wrap">\r\n                  <div class="im_dialog_peer">\r\n                    <span class="im_dialog_user" my-user-link="contact.userID"></span>\r\n                  </div>\r\n                  <div class="im_dialog_message">\r\n                    <span class="im_dialog_message_text" my-user-status="::contact.userID"></span>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/phonebook_modal.html",'<div class="contacts_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: !selectedCount || progress.enabled}" ng-click="submitSelected()" ng-switch="progress.enabled">\r\n                <span ng-switch-when="true">\r\n                  <my-i18n msgid="phonebook_modal_submit_active"></my-i18n>\r\n                  <span my-loading-dots></span>\r\n                </span>\r\n                <span ng-switch-default my-i18n="phonebook_modal_submit"></span>\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="phonebook_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="contacts_modal_search">\r\n      <input class="form-control contacts_modal_search_field no_outline" my-focused type="search" placeholder="{{\'modal_search\' | i18n}}" ng-model="search.query"/>\r\n      <a class="contacts_modal_search_clear tg_search_clear" ng-click="search.query = \'\'" ng-show="search.query.length">\r\n        <i class="icon icon-search-clear"></i>\r\n      </a>\r\n    </div>\r\n\r\n\r\n    <div class="contacts_modal_col contacts_wrap contacts_scrollable_wrap mobile_scrollable_wrap" my-contacts-list-mobile my-infinite-scroller-mobile>\r\n      <div ng-switch="contactsEmpty">\r\n\r\n        <div ng-switch-when="true" class="contacts_modal_contacts_empty" my-vertical-position="0.2" padding="true" my-i18n="phonebook_modal_empty"></div>\r\n\r\n        <ul ng-switch-default class="contacts_modal_members_list nav nav-pills nav-stacked">\r\n\r\n          <li class="contacts_modal_contact_wrap clearfix" ng-repeat="contact in contacts | limitTo: slice.limit track by contact.id" ng-class="{active: selectedContacts[contact.id]}">\r\n            <a class="contacts_modal_contact" ng-click="contactSelect(contact.id)">\r\n\r\n              <i ng-if="multiSelect" class="icon icon-contact-tick"></i>\r\n\r\n              <div class="contacts_modal_contact_photo pull-left">\r\n                <img\r\n                  class="contacts_modal_contact_photo"\r\n                  ng-src="{{contact.photo}}"\r\n                />\r\n              </div>\r\n\r\n              <div class="contacts_modal_contact_name">\r\n                <span ng-bind="contact.first_name"></span>\r\n                <span ng-bind="contact.last_name"></span>\r\n              </div>\r\n              <div class="contacts_modal_contact_status" ng-repeat="phone in contact.phones">\r\n                <span ng-bind="phone | phoneNumber"></span>\r\n              </div>\r\n\r\n            </a>\r\n          </li>\r\n\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class="modal-footer contacts_modal_panel" ng-show="multiSelect">\r\n    <button class="btn btn-primary" ng-click="toggleSelection()" ng-switch="selectedCount > 0">\r\n      <span ng-switch-when="true" my-i18n="phonebook_modal_deselect_all"></span>\r\n      <span ng-switch-default my-i18n="phonebook_modal_select_all"></span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/photo_modal.html",'<div class="media_modal_bottom_panel_wrap" ng-show="!hideToolbars">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-if="canDelete" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_bottom_actions pull-left">\r\n      <a class="media_modal_action_btn" ng-if="canForward" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap">\r\n      <a class="media_modal_author" my-user-link="photo.user_id" user-watch="true"></a>\r\n      <br/>\r\n      <span class="media_modal_date" ng-bind="photo.date | dateOrTime :true"></span>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class="media_modal_top_panel_wrap" ng-show="!hideToolbars">\r\n  <div class="media_modal_top_panel">\r\n    <div class="media_modal_top_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-click="download()" title="{{\'media_modal_download\' | i18n}}">\r\n        <i class="media_modal_action_btn_download"></i>\r\n      </a>\r\n    </div>\r\n    <div class="media_modal_top_actions pull-left">\r\n      <a ng-click="$close()" class="navbar-quick-media-back">\r\n        <i class="icon icon-back"></i>\r\n\r\n        <div class="navbar-quick-back-title">\r\n          <h4 class="media_modal_title_wrap" ng-switch="count > 1 &amp;&amp; pos > 0">\r\n            <my-i18n ng-switch-when="true" msgid="media_modal_photo_index">\r\n              <my-i18n-param name="pos" ng-bind="pos"></my-i18n-param>\r\n              <my-i18n-param name="count" ng-bind="count"></my-i18n-param>\r\n            </my-i18n>\r\n            <my-i18n ng-switch-default msgid="media_modal_photo">\r\n          </h4>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog" ng-swipe-right="nav.prev()" ng-swipe-left="nav.next()" ng-click="hideToolbars = !hideToolbars">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{photo.full.modalWidth}}" class="media_modal_wrap photo_modal_wrap" my-vertical-position="0.5">\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="photo_modal_image_wrap" my-load-full-photo full-photo="photo.full" thumb-location="photo.thumb.location"></div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'),e.put("partials/mobile/profile_edit_modal.html",'<div class="profile_edit_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: profile.updating}" ng-click="updateProfile()" ng-bind="profile.updating ? \'profile_edit_submit_active\' : \'profile_edit_submit\' | i18n" ng-disabled="profile.updating"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="profile_edit_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateProfile()" my-vertical-position="0.3">\r\n\r\n      <div class="form-group" ng-class="{\'has-error\': error.field == \'first_name\'}">\r\n        <input class="form-control input-lg" my-focused type="text" placeholder="{{\'profile_edit_first_name\' | i18n}}" ng-model="profile.first_name"  name="first_name"/>\r\n      </div>\r\n      <div class="form-group" ng-class="{\'has-error\': error.field == \'last_name\'}">\r\n        <input class="form-control input-lg" type="text" placeholder="{{\'profile_edit_last_name\' | i18n}}" ng-model="profile.last_name"/>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/sessions_list_modal.html",'<div class="sessions_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="sessions_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div my-sessions-list class="sessions_modal_col">\r\n\r\n      <div class="sessions_wrap nano" my-infinite-scroller>\r\n        <div class="sessions_scrollable_wrap nano-content" ng-switch="!sessionsLoaded">\r\n\r\n          <div ng-switch-when="true" class="sessions_modal_loading" my-vertical-position="0.2" padding="true" my-i18n="sessions_modal_loading">\r\n            <my-i18n-param name="dots">\r\n              <span my-loading-dots></span>\r\n            </my-i18n-param>\r\n          </div>\r\n\r\n          <ul ng-switch-default class="sessions_modal_sessions_list nav nav-pills nav-stacked">\r\n\r\n            <li class="sessions_modal_session_wrap clearfix" ng-repeat="authorization in authorizations | limitTo: slice.limit track by authorization.hash">\r\n              <div ng-if="authorization.current">\r\n                <h5 class="sessions_modal_sessions_header" my-i18n="sessions_modal_current_session"></h5>\r\n              </div>\r\n              <div class="sessions_modal_session">\r\n                <div class="session_meta_wrap pull-right">\r\n                  <div class="session_active_date" ng-switch="authorization.current">\r\n                    <span ng-switch-when="true" class="session_active_date_online" my-i18n="sessions_modal_session_online"></span>\r\n                    <span ng-switch-default ng-bind="authorization.date_active | dateOrTime"></span>\r\n                  </div>\r\n\r\n                  <a ng-if="!authorization.current" class="session_terminate_btn btn btn-md" ng-click="terminateSession(authorization.hash)" my-i18n="sessions_modal_terminate_one"></a>\r\n                </div>\r\n\r\n                <div class="sessions_modal_session_app" ng-bind="authorization.app_name + \' \' + authorization.app_version"></div>\r\n                <div class="sessions_modal_session_device" ng-bind="authorization.device_model + \', \' + authorization.platform + \' \' + authorization.system_version"></div>\r\n                <div class="sessions_modal_session_location" ng-bind="authorization.ip + \' - \' + authorization.country"></div>\r\n              </div>\r\n              <div ng-if="authorization.current && authorizations.length > 1">\r\n                <div class="sessions_modal_terminate_all_wrap">\r\n                  <button class="btn btn-md btn-md-danger" ng-click="terminateAllSessions()" my-i18n="sessions_modal_terminate_all"></button>\r\n                </div>\r\n\r\n                <h5 class="sessions_modal_sessions_header" my-i18n="sessions_modal_active_sessions"></h5>\r\n              </div>\r\n            </li>\r\n\r\n          </ul>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),e.put("partials/mobile/settings_modal.html",'<div class="settings_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-toggle-wrap dropdown" dropdown>\r\n          <a class="dropdown-toggle navbar-toggle" dropdown-toggle>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n          </a>\r\n          <ul class="dropdown-menu">\r\n            <li ng-if="photo.location">\r\n              <a ng-click="deletePhoto()" my-i18n="settings_modal_delete_photo"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="editProfile()" my-i18n="settings_modal_edit_profile"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="changeUsername()" my-i18n="settings_modal_edit_username"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-if="password._ == \'account.noPassword\' && password.email_unconfirmed_pattern.length" ng-click="changePassword({action: \'cancel_email\'})" my-i18n="settings_modal_password_email_pending_cancel_mobile">\r\n              </a>\r\n              <a ng-if="password._ == \'account.noPassword\' && !password.email_unconfirmed_pattern" ng-click="changePassword({action: \'create\'})" my-i18n="settings_modal_set_password"></a>\r\n              <a ng-if="password._ == \'account.password\'" ng-click="changePassword({action: \'change\'})" my-i18n="settings_modal_change_password"></a>\r\n            </li>\r\n            <li ng-if="password._ == \'account.password\'">\r\n              <a ng-click="changePassword({action: \'disable\'})" my-i18n="settings_modal_disable_password_mobile"></a>\r\n            </li>\r\n\r\n            <li>\r\n              <a ng-click="showSessions()" my-i18n="settings_modal_active_sessions"></a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$close()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="settings_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="mobile_user_modal_photo_profile_wrap">\r\n\r\n      <a href="" ng-click="openPhoto(user.photo.photo_id, {u: profile.id})" class="mobile_user_modal_image_wrap pull-left" ng-class="{disabled: !user.photo.id}">\r\n        <img\r\n          class="mobile_user_modal_image"\r\n          my-load-thumb\r\n          watch="true"\r\n          thumb="photo"\r\n        />\r\n      </a>\r\n\r\n      <div class="mobile_user_modal_info_wrap clearfix">\r\n        <h4 class="mobile_user_modal_header" my-user-link="profile.id"></h4>\r\n        <p class="mobile_user_modal_status" my-user-status="::profile.id"></p>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap" ng-switch="photo.updating">\r\n      <span ng-switch-when="true" class="mobile_modal_action" my-i18n>\r\n        <my-i18n msgid="settings_modal_photo_updating"></my-i18n>\r\n        <span my-loading-dots></span>\r\n      </span>\r\n      <span ng-switch-default class="mobile_modal_action mobile_modal_upload_action">\r\n        <input my-file-upload  type="file" multiple="false" class="im_attach_input" size="120" multiple="false" accept="image/x-png, image/png, image/gif, image/jpeg" />\r\n        <my-i18n msgid="settings_modal_set_photo"></my-i18n>\r\n      </span>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="toggleDesktop()" ng-class="notify.desktop ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="settings_modal_notification_alert"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="togglePreview()" ng-class="notify.preview ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="settings_modal_message_preview"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap" ng-if="!notify.desktop &amp;&amp; notify.canVibrate">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="toggleVibrate()" ng-class="notify.vibrate ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="settings_modal_vibrate"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="toggleSound()" ng-class="notify.volume ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="settings_modal_sounds"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="toggleCtrlEnter(send.enter == 1 ? 0 : 1)" ng-class="send.enter == 1 ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="settings_modal_send_on_enter"></span>\r\n      </a>\r\n    </div>\r\n\r\n\r\n    <div class="mobile_modal_action_wrap" ng-controller="AppLangSelectController">\r\n      <div class="mobile_modal_select_wrap pull-right">\r\n        <select class="form-control" ng-change="localeSelect()" ng-model="form.locale">\r\n          <option ng-repeat="locale in ::supportedLocales" value="{{locale}}" ng-bind="langNames[locale]" ng-selected="locale == curLocale"></option>\r\n        </select>\r\n      </div>\r\n      <span class="mobile_modal_action" my-i18n="settings_modal_language"></span>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section" ng-if="profile.phone">\r\n      <h4 class="mobile_modal_section_header" my-i18n="user_modal_phone"></h4>\r\n      <div class="mobile_modal_section_value" ng-bind="profile.phone | phoneNumber"></div>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section">\r\n      <h4 class="mobile_modal_section_header" my-i18n="user_modal_username"></h4>\r\n      <div class="mobile_modal_section_value" ng-click="changeUsername()" ng-switch="profile.username.length > 0">\r\n        <a class="settings_modal_username_link" ng-switch-when="true" href="" ng-click="changeUsername()" ng-bind="\'@\' + profile.username"></a>\r\n        <a ng-switch-default href="" ng-click="changeUsername()" my-i18n="settings_modal_empty_username_set"></a>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section" ng-if="switchBackToDesktop">\r\n      <div class="mobile_modal_section_value">\r\n        <a href="" ng-click="switchToDesktop()" my-i18n="settings_switch_back_to_desktop"></a>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section">\r\n      <h4 class="mobile_modal_section_header" my-i18n="settings_modal_about"></h4>\r\n      <div class="mobile_modal_section_body settings_about_section_body clearfix">\r\n        <div class="settings_external_services pull-right">\r\n          <a href="https://github.com/zhukov/webogram" target="_blank" title="{{\'settings_modal_source_code_github\' | i18n}}" class="settings_external_service"><i class="icon icon-github"></i></a>\r\n          <a href="https://twitter.com/telegram_web" target="_blank" title="{{\'settings_modal_follow_us_twitter\' | i18n}}" class="settings_external_service"><i class="icon icon-twitter"></i></a>\r\n        </div>\r\n        <p>\r\n          <a ng-click="openChangelog()" my-i18n="settings_modal_recent_updates">\r\n            <my-i18n-param name="version" ng-bind="version"></my-i18n-param>\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n'),e.put("partials/mobile/stickerset_modal.html",'<div class="stickerset_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right" ng-if="stickersetLoaded" ng-switch="stickersetInstalled">\r\n              <a ng-switch-when="true" my-i18n="stickerset_modal_uninstall" ng-click="toggleInstalled(false)"></a>\r\n              <a ng-switch-when="false" my-i18n="stickerset_modal_install" ng-click="toggleInstalled(true)"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 ng-switch="!stickersetLoaded">\r\n                    <span ng-switch-when="true" my-i18n="stickerset_modal_title_loading"></span>\r\n                    <span ng-switch-default ng-bind="stickerset.title"></span>\r\n                  </h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <div my-stickers-list class="stickerset_modal_col">\r\n\r\n      <div class="stickerset_wrap nano" my-infinite-scroller>\r\n        <div class="stickerset_scrollable_wrap nano-content" ng-switch="!stickersetLoaded">\r\n\r\n          <div ng-switch-when="true" class="stickerset_modal_loading" my-vertical-position="0.2" padding="true" my-i18n="stickerset_modal_loading">\r\n            <my-i18n-param name="dots">\r\n              <span my-loading-dots></span>\r\n            </my-i18n-param>\r\n          </div>\r\n\r\n          <div ng-switch-default class="stickerset_modal_stickers_list clearfix">\r\n            <div class="stickerset_modal_sticker_wrap" ng-repeat="sticker in documents | limitTo: slice.limit">\r\n              <div class="stickerset_modal_sticker" my-load-sticker document="sticker" thumb="true"></div>\r\n              <div class="stickerset_modal_sticker_alt" ng-bind-html="sticker.stickerEmoji"></div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/user_modal.html",'<div class="mobile_user_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-toggle-wrap dropdown" dropdown>\r\n          <a class="dropdown-toggle navbar-toggle" dropdown-toggle>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n          </a>\r\n          <ul class="dropdown-menu">\r\n            <li ng-if="user._ == \'userContact\'">\r\n              <a ng-click="importContact(true)" my-i18n="user_modal_edit_contact"></a>\r\n            </li>\r\n            <li ng-if="user._ == \'userContact\'">\r\n              <a ng-click="deleteContact()" my-i18n="user_modal_delete_contact"></a>\r\n            </li>\r\n            <li ng-if="user.phone.length > 0 &amp;&amp; user._ != \'userContact\' &amp;&amp; user._ != \'userSelf\'">\r\n              <a ng-click="importContact()" my-i18n="user_modal_add_contact"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="flushHistory()" my-i18n="user_modal_delete_chat"></a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li>\r\n              <a ng-click="$close()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="user_modal_contact_info"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body mobile_modal_body">\r\n\r\n    <div class="mobile_user_modal_photo_profile_wrap">\r\n\r\n      <a href="" ng-click="openPhoto(user.photo.photo_id, {u: user.id})" class="mobile_user_modal_image_wrap pull-left" ng-class="{disabled: !user.photo.photo_id}">\r\n        <img\r\n          class="mobile_user_modal_image"\r\n          my-load-thumb\r\n          thumb="userPhoto"\r\n        />\r\n      </a>\r\n\r\n      <div class="mobile_user_modal_info_wrap clearfix">\r\n        <h4 class="mobile_user_modal_header" ng-bind="user | userName"></h4>\r\n        <p class="mobile_user_modal_status" ng-if="user.status" my-user-status="::user.id"></p>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action" ng-click="goToHistory()" my-i18n="user_modal_send_message"></a>\r\n    </div>\r\n\r\n    <div ng-if="user.phone.length > 0" class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action" ng-click="shareContact()" my-i18n="user_modal_share_contact"></a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_action_wrap">\r\n      <a class="mobile_modal_action tg_checkbox clearfix" ng-click="settings.notifications = !settings.notifications" ng-class="settings.notifications ? \'tg_checkbox_on\' : \'\'">\r\n        <span class="icon icon-checkbox-outer"><i class="icon-checkbox-inner"></i></span>\r\n        <span class="tg_checkbox_label" my-i18n="user_modal_notifications"></span>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section" ng-if="user.phone.length > 0">\r\n      <h4 class="mobile_modal_section_header" my-i18n="user_modal_phone"></h4>\r\n      <div class="mobile_modal_section_value" ng-bind="user.phone | phoneNumber"></div>\r\n    </div>\r\n\r\n    <div class="mobile_modal_section" ng-if="user.username">\r\n      <h4 class="mobile_modal_section_header" my-i18n="user_modal_username"></h4>\r\n      <div class="mobile_modal_section_value" ng-bind="\'@\' + user.username"></div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'),
e.put("partials/mobile/username_edit_modal.html",'<div class="username_edit_modal_wrap">\r\n\r\n  <div class="tg_page_head tg_modal_head">\r\n    <div class="navbar navbar-static-top navbar-inverse">\r\n      <div class="container">\r\n\r\n        <div class="navbar-header">\r\n\r\n          <ul class="nav navbar-nav navbar-quick-nav">\r\n            <li class="navbar-quick-right">\r\n              <a ng-class="{disabled: profile.updating}" ng-click="updateUsername()" ng-bind="profile.updating ? \'username_edit_submit_active\' : \'username_edit_submit\' | i18n" ng-disabled="profile.updating"></a>\r\n            </li>\r\n            <li>\r\n              <a ng-click="$dismiss()" class="navbar-quick-media-back">\r\n                <i class="icon icon-back"></i>\r\n                <div class="navbar-quick-back-title">\r\n                  <h4 my-i18n="username_edit_modal_title"></h4>\r\n                </div>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal-body">\r\n\r\n    <form class="modal_simple_form" ng-submit="updateUsername()" my-vertical-position="0.3">\r\n\r\n      <div class="form-group import_modal_field_wrap" ng-class="{\'has-error\': checked.error, \'has-feedback\': checked.feedback.length > 0}">\r\n        <input class="form-control input-md" my-focused type="text" placeholder="{{\'username_edit_placeholder\' | i18n}}" ng-model="profile.username"  name="username" ng-model-options="{updateOn: \'default blur\', debounce: {default: 600, blur: 0}}"/>\r\n        <span ng-if="checked.error" class="glyphicon form-control-feedback" ng-class="{\'glyphicon-remove\': checked.error}"></span>\r\n      </div>\r\n\r\n      <div class="modal_simple_form_description" my-i18n="username_edit_description_md"></div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>'),e.put("partials/mobile/video_modal.html",'<div class="media_modal_bottom_panel_wrap">\r\n  <div class="media_modal_bottom_panel">\r\n    <div class="media_modal_bottom_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="delete()" title="{{\'media_modal_delete\' | i18n}}">\r\n        <i class="media_modal_action_btn_delete"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_bottom_actions pull-left">\r\n      <a class="media_modal_action_btn" ng-if="messageID" ng-click="forward()"  title="{{\'media_modal_forward\' | i18n}}">\r\n        <i class="media_modal_action_btn_forward"></i>\r\n      </a>\r\n    </div>\r\n\r\n    <div class="media_modal_info_wrap">\r\n      <a class="media_modal_author" my-user-link="video.user_id" user-watch="true"></a>\r\n      <br/>\r\n      <span class="media_modal_date" ng-bind="video.date | dateOrTime :true"></span>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div class="media_modal_top_panel_wrap">\r\n  <div class="media_modal_top_panel">\r\n    <div class="media_modal_top_actions pull-right">\r\n      <a class="media_modal_action_btn" ng-click="download()" title="{{\'media_modal_download\' | i18n}}">\r\n        <i class="media_modal_action_btn_download"></i>\r\n      </a>\r\n    </div>\r\n    <div class="media_modal_top_actions pull-left">\r\n      <a ng-click="$close()" class="navbar-quick-media-back">\r\n        <i class="icon icon-back"></i>\r\n        <div class="navbar-quick-back-title">\r\n          <h4 class="media_modal_title_wrap" my-i18n="media_modal_video"></h4>\r\n        </div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal-dialog">\r\n  <div class="modal-content">\r\n    <div my-modal-width="{{video.full.width}}" class="media_modal_wrap video_modal_wrap" my-vertical-position="0.5">\r\n\r\n      <div class="modal-body">\r\n\r\n        <div class="video_modal_image_wrap" my-load-video video="video"></div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'),e.put("partials/mobile/welcome.html","")}]),function(e,t,n,r){function i(e){ConfigStorage.get("emojis_popular",function(t){var n=[];if(t&&t.length){for(var r=0,i=t.length;i>r;r++)n.push({code:t[r][0],rate:t[r][1]});return void e(n)}ConfigStorage.get("emojis_recent",function(t){t=t||y||[];for(var r,i,a=0,o=t.length;o>a;a++)r=t[a],Array.isArray(r)&&(r=r[0]),r&&"string"==typeof r&&(":"==r.charAt(0)&&(r=r.substr(1,r.length-2)),(i=f[r])&&n.push({code:i,rate:1}));e(n)})})}function a(e){i(function(t){for(var n=!1,r=t.length,i=[],a=0;r>a;a++)t[a].code==e&&(n=!0,t[a].rate++),i.push([t[a].code,t[a].rate]);n?i.sort(function(e,t){return t[1]-e[1]}):(i.length>41&&(i=i.slice(0,41)),i.push([e,1])),ConfigStorage.set({emojis_popular:i})})}function o(){if(v===!1){v=SearchIndexManager.createIndex();var e;for(e in f)f.hasOwnProperty(e)&&SearchIndexManager.indexObject(f[e],e,v)}}function s(e){o();var t,n=SearchIndexManager.search(e,v),r=[];for(t in n)n.hasOwnProperty(t)&&r.push(t);return r}var c,l,d,u,p,m,h,g,t={},f={},_={},v=!1,y="joy,kissing_heart,heart,heart_eyes,blush,grin,+1,relaxed,pensive,smile,sob,kiss,unamused,flushed,stuck_out_tongue_winking_eye,see_no_evil,wink,smiley,cry,stuck_out_tongue_closed_eyes,scream,rage,smirk,disappointed,sweat_smile,kissing_closed_eyes,speak_no_evil,relieved,grinning,yum,laughing,ok_hand,neutral_face,confused".split(",");for(c=0,h=n.length;h>c;c++)for(m=r[c][1],l=0,g=n[c].length;g>l;l++)d=n[c][l],p=Config.Emoji[d],u=p[1][0],t[d]=[p[0],u],f[u]=d,_[d]=[c,l,Math.floor(l/m),l%m];e.EmojiHelper={emojis:t,shortcuts:f,spritesheetPositions:_,getPopularEmoji:i,pushPopularEmoji:a,indexEmojis:o,searchEmojis:s}}(window,Config.Emoji,Config.EmojiCategories,Config.EmojiCategorySpritesheetDimens),EmojiTooltip.prototype.onMouseEnter=function(e){this.hideTimeout?(clearTimeout(this.hideTimeout),delete this.hideTimeout):e&&!this.showTimeout&&(this.showTimeout=setTimeout(this.show.bind(this),200))},EmojiTooltip.prototype.onMouseLeave=function(e){if(this.hideTimeout)e&&this.showTimeout&&(clearTimeout(this.showTimeout),delete this.showTimeout);else{var t=this;this.hideTimeout=setTimeout(function(){t.hide()},400)}},EmojiTooltip.prototype.getScrollWidth=function(){var e=$("<div>").css({position:"absolute",width:100,height:100,overflow:"scroll",top:-9999}).appendTo($(document.body)),t=e[0].offsetWidth-e[0].clientWidth;return e.remove(),t},EmojiTooltip.prototype.createTooltip=function(){if(this.tooltipEl)return!1;var e=this;this.tooltipEl=$('<div class="composer_emoji_tooltip noselect"><div class="composer_emoji_tooltip_tabs"></div><div class="composer_emoji_tooltip_content_wrap nano mobile_scrollable_wrap"><div class="composer_emoji_tooltip_content nano-content clearfix"></div></div><div class="composer_emoji_tooltip_footer"><a class="composer_emoji_tooltip_settings"></a></div><div class="composer_emoji_tooltip_tail"><i class="icon icon-tooltip-tail"></i></div></div>').appendTo(document.body),this.tabsEl=$(".composer_emoji_tooltip_tabs",this.tooltip),this.contentWrapEl=$(".composer_emoji_tooltip_content_wrap",this.tooltip),this.contentEl=$(".composer_emoji_tooltip_content",this.tooltip),this.footerEl=$(".composer_emoji_tooltip_footer",this.tooltip),this.settingsEl=$(".composer_emoji_tooltip_settings",this.tooltip);var t=this.getScrollWidth();return t>0&&this.tooltipEl.css({width:parseInt(this.tooltipEl.css("width"))+t}),angular.forEach(["recent","smile","flower","bell","car","grid","stickers"],function(t,n){var r=$('<a class="composer_emoji_tooltip_tab composer_emoji_tooltip_tab_'+t+'"></a>').on("mousedown",function(t){return e.selectTab(n),cancelEvent(t)}).appendTo(e.tabsEl);Config.Navigator.touch||r.on("mouseenter mouseleave",function(t){clearTimeout(e.selectTabTimeout),"mouseenter"==t.type&&(e.selectTabTimeout=setTimeout(function(){e.selectTab(n)},300))})}),Config.Mobile||this.contentWrapEl.nanoScroller({preventPageScrolling:!0,tabIndex:-1}),this.contentEl.on("mousedown",function(t){t=t.originalEvent||t;var n,r,i,a=$(t.target);return"A"!=a[0].tagName&&(a=$(a[0].parentNode)),(n=a.attr("data-code"))&&(e.onEmojiSelected&&e.onEmojiSelected(n),EmojiHelper.pushPopularEmoji(n)),(r=a.attr("data-sticker"))&&(e.onStickerSelected&&e.onStickerSelected(r),Config.Mobile&&e.hide()),(i=a.attr("data-stickerset"))&&(e.onStickersetSelected&&e.onStickersetSelected(i),e.hide()),cancelEvent(t)}),Config.Navigator.touch||this.tooltipEl.on("mouseenter mouseleave",function(t){"mouseenter"==t.type?e.onMouseEnter():e.onMouseLeave()}),this.selectTab(0),$(window).on("resize",this.updatePosition.bind(this)),!0},EmojiTooltip.prototype.selectTab=function(e){return this.tab===e&&6!=e?!1:($(".active",this.tabsEl).removeClass("active"),this.tab=e,$(this.tabsEl[0].childNodes[e]).addClass("active"),void this.updateTabContents())},EmojiTooltip.prototype.updateTabContents=function(){var e=[],t=this,n=Config.Mobile?26:20,r=function(){t.contentEl.html(e.join("")),Config.Mobile||(t.contentWrapEl.nanoScroller({scroll:"top"}),setTimeout(function(){t.contentWrapEl.nanoScroller()},100))};if(6==this.tab){var i=function(n){var i,a,o,s,c,l;for(o=0,c=n.length;c>o;o++)if(i=n[o],i.docIDs.length){for(e.push('<div class="composer_stickerset_wrap clearfix">'),i.id&&i.title&&e.push('<a class="composer_stickerset_title" data-stickerset="',encodeEntities(i.short_name),'">',encodeEntities(i.title),"</a>"),s=0,l=i.docIDs.length;l>s;s++)a=i.docIDs[s],e.push('<a class="composer_sticker_btn" data-sticker="'+a+'"></a>');e.push("</div>")}r(),t.contentEl.find(".composer_sticker_btn").each(function(e,n){t.getStickerImage($(n),n.getAttribute("data-sticker"))})};this.getStickers(i)}else if(this.tab>0){var a,o,s,c,l,d=this.tab-1,u=Config.EmojiCategories[d],p=Config.EmojiCategorySpritesheetDimens[d][1],m=u.length;for(s=0;m>s;s++)a=u[s],o=Config.Emoji[a],c=n*(s%p),l=n*Math.floor(s/p),e.push('<a class="composer_emoji_btn" title=":'+encodeEntities(o[1][0])+':" data-code="'+encodeEntities(a)+'"><i class="emoji emoji-w'+n+" emoji-spritesheet-"+d+'" style="background-position: -'+c+"px -"+l+'px;"></i></a>');r()}else EmojiHelper.getPopularEmoji(function(t){var i,a,o,s,c,l,d,u,p=t.length;for(l=0;p>l;l++)i=t[l].code,(a=Config.Emoji[i])&&(o=EmojiHelper.spritesheetPositions[i],c=o[0],s=o[1],d=n*o[3],u=n*o[2],e.push('<a class="composer_emoji_btn" title=":'+encodeEntities(a[1][0])+':" data-code="'+encodeEntities(i)+'"><i class="emoji emoji-w'+n+" emoji-spritesheet-"+c+'" style="background-position: -'+d+"px -"+u+'px;"></i></a>'));r()})},EmojiTooltip.prototype.updatePosition=function(){var e=this.btnEl.offset();this.tooltipEl.css({top:e.top,left:e.left})},EmojiTooltip.prototype.show=function(){this.updatePosition(),this.updateTabContents(),this.tooltipEl.addClass("composer_emoji_tooltip_shown"),this.btnEl.addClass("composer_emoji_insert_btn_on"),delete this.showTimeout,this.shown=!0},EmojiTooltip.prototype.hide=function(){this.tooltipEl&&(this.tooltipEl.removeClass("composer_emoji_tooltip_shown"),this.btnEl.removeClass("composer_emoji_insert_btn_on")),delete this.hideTimeout,delete this.shown},EmojiPanel.prototype.update=function(){var e=[],t=this,n=Config.Mobile?26:20;EmojiHelper.getPopularEmoji(function(r){var i,a,o,s,c,l,d,u,p=r.length;for(l=0;p>l;l++)i=r[l].code,(a=Config.Emoji[i])&&(o=EmojiHelper.spritesheetPositions[i],c=o[0],s=o[1],d=n*o[3],u=n*o[2],e.push('<a class="composer_emoji_btn" title=":'+encodeEntities(a[1][0])+':" data-code="'+encodeEntities(i)+'"><i class="emoji emoji-w20 emoji-spritesheet-'+c+'" style="background-position: -'+d+"px -"+u+'px;"></i></a>'));t.containerEl.html(e.join(""))})},MessageComposer.prototype.setUpInput=function(){"contentEditable"in document.body?this.setUpRich():this.setUpPlaintext(),this.autoCompleteRegEx=/(?:\s|^)(:|@)([A-Za-z0-9\-\+\*_]*)$/},MessageComposer.prototype.setUpRich=function(){this.textareaEl.hide(),this.richTextareaEl=$('<div class="composer_rich_textarea" contenteditable="true" dir="auto"></div>'),this.textareaEl[0].parentNode.insertBefore(this.richTextareaEl[0],this.textareaEl[0]),this.richTextareaEl.on("keyup keydown",this.onKeyEvent.bind(this)),this.richTextareaEl.on("focus blur",this.onFocusBlur.bind(this)),this.richTextareaEl.on("paste",this.onRichPaste.bind(this)),this.richTextareaEl.on("DOMNodeInserted",this.onRichPasteNode.bind(this)),$(document.body).on("keydown",this.backupSelection.bind(this))},MessageComposer.prototype.setUpPlaintext=function(){this.textareaEl.on("keyup keydown",this.onKeyEvent.bind(this)),this.textareaEl.on("focus blur",this.onFocusBlur.bind(this))},MessageComposer.prototype.onKeyEvent=function(e){if("keyup"==e.type){this.checkAutocomplete();var t=!1;if(this.richTextareaEl){clearTimeout(this.updateValueTO);var n=tsNow();void 0===this.keyupStarted&&(this.keyupStarted=n),n-this.keyupStarted>1e4?this.onChange():(t=this.richTextareaEl[0].textContent.length,this.wasEmpty!=!t?(this.wasEmpty=!this.wasEmpty,this.onChange()):this.updateValueTO=setTimeout(this.onChange.bind(this),1e3))}if(this.onTyping){var n=tsNow();n-this.lastTyping>5e3&&(t===!1&&(t=(this.richTextareaEl?this.richTextareaEl[0].textContent:this.textareaEl[0].value).length),t!=this.lastLength&&(this.lastTyping=n,this.lastLength=t,this.onTyping()))}}if("keydown"==e.type){var r=!this.autocompleteShown;if(this.autocompleteShown){if(38==e.keyCode||40==e.keyCode){var i=40==e.keyCode,a=$(this.autoCompleteEl).find(".composer_autocomplete_option_active");if(a.length){var o=a[0].parentNode,s=o[i?"nextSibling":"previousSibling"];if(a.removeClass("composer_autocomplete_option_active"),s)return $(s).find("a").addClass("composer_autocomplete_option_active"),cancelEvent(e)}var c=this.autoCompleteEl[0].childNodes,s=c[i?0:c.length-1];return $(s).find("a").addClass("composer_autocomplete_option_active"),cancelEvent(e)}if(13==e.keyCode||9==e.keyCode){var a=$(this.autoCompleteEl).find(".composer_autocomplete_option_active");a.length||9!=e.keyCode||(a=$(this.autoCompleteEl[0].childNodes[0]).find("a"));var l,d;if(l=a.attr("data-code"))return this.onEmojiSelected(l,!0),EmojiHelper.pushPopularEmoji(l),cancelEvent(e);if((d=a.attr("data-mention"))&&this.onMentionSelected)return this.onMentionSelected(d),cancelEvent(e);r=!0}}if(r&&13==e.keyCode){var u=!1,p=!0;if(this.getSendOnEnter&&!this.getSendOnEnter()&&(p=!1),p&&!e.shiftKey?u=!0:p||!e.ctrlKey&&!e.metaKey||(u=!0),u)return this.onMessageSubmit(e),cancelEvent(e)}}},MessageComposer.prototype.backupSelection=function(){if(delete this.selection,this.isActive)if(window.getSelection){var e=window.getSelection();e.getRangeAt&&e.rangeCount&&(this.selection=e.getRangeAt(0))}else document.selection&&document.selection.createRange&&(this.selection=document.selection.createRange())},MessageComposer.prototype.restoreSelection=function(){if(!this.selection)return!1;var e=!1;if(window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(this.selection),e=!0}else document.selection&&this.selection.select&&(this.selection.select(),e=!0);return delete this.selection,e},MessageComposer.prototype.checkAutocomplete=function(){if(Config.Mobile)return!1;var e,t;if(this.richTextareaEl)var n=this.richTextareaEl[0],r=getRichValueWithCaret(n),t=r[0],e=r[1]>=0?r[1]:t.length;else var n=this.textareaEl[0],e=getFieldSelection(n),t=n.value;t=t.substr(0,e);var i=t.match(this.autoCompleteRegEx);if(i){if(this.previousQuery==i[0])return;this.previousQuery=i[0];var a=SearchIndexManager.cleanSearchText(i[2]);if("@"==i[1])if(this.mentions&&this.mentions.index){if(a.length)for(var o,s=SearchIndexManager.search(a,this.mentions.index),c=[],l=0,d=this.mentions.users.length;d>l;l++)o=this.mentions.users[l],s[o.id]&&c.push(o);else var c=this.mentions.users;c.length?this.showMentionSuggestions(c):this.hideSuggestions()}else this.hideSuggestions();else EmojiHelper.getPopularEmoji(function(e){if(a.length){var t=EmojiHelper.searchEmojis(a);if(t.length){for(var n,r,i=[],o=0,s=e.length;s>o&&(n=e[o].code,r=t.indexOf(n),!(r>=0)||(i.push(n),t.splice(r,1),t.length));o++);this.showEmojiSuggestions(i.concat(t))}else this.hideSuggestions()}else this.showEmojiSuggestions(e)}.bind(this))}else delete this.previousQuery,this.hideSuggestions()},MessageComposer.prototype.onFocusBlur=function(e){this.isActive="focus"==e.type,this.isActive?setTimeout(this.checkAutocomplete.bind(this),100):this.hideSuggestions(),this.richTextareaEl&&document.execCommand("enableObjectResizing",!this.isActive,!this.isActive)},MessageComposer.prototype.onRichPaste=function(e){var t,n=(e.originalEvent||e).clipboardData,r=n&&n.items||[];for(t=0;t<r.length;t++)if("file"==r[t].kind)return e.preventDefault(),!0;try{var i=n.getData("text/plain")}catch(e){return!0}return setZeroTimeout(this.onChange.bind(this),0),i.length?(document.execCommand("insertText",!1,i),cancelEvent(e)):!0},MessageComposer.prototype.onRichPasteNode=function(e){var t=(e.originalEvent||e).target,n=(t||{}).src||"",r=!1;if("data:"==n.substr(0,5)){r=!0;var i=dataUrlToBlob(n);this.onFilePaste(i),setZeroTimeout(function(){t.parentNode.replaceChild(document.createTextNode("  "),t)})}else if(n&&!n.match(/img\/blank\.gif/)){var a=document.createTextNode(" "+n+" ");setTimeout(function(){t.parentNode.replaceChild(a,t)},100)}},MessageComposer.prototype.onEmojiSelected=function(e,t){if(this.richTextareaEl){var n=this.richTextareaEl[0];if(this.isActive||this.restoreSelection()||setRichFocus(n),t){var r,i=getRichValueWithCaret(n),a=i[0],o=i[1]>=0?i[1]:a.length,s=a.substr(o),c=a.substr(0,o),l=c.match(/:([A-Za-z0-9\-\+\*_]*)$/),d=EmojiHelper.emojis[e];r=l&&l[0]?c.substr(0,l.index)+":"+d[1]+":":c+":"+d[1]+":",n.value=f,this.selId=(this.selId||0)+1;var u=this.getRichHtml(r)+'&nbsp;<span id="composer_sel'+this.selId+'"></span>'+this.getRichHtml(s);this.richTextareaEl.html(u),setRichFocus(n,$("#composer_sel"+this.selId)[0])}else{var u=this.getEmojiHtml(e);if(window.getSelection){var p=window.getSelection();if(p.getRangeAt&&p.rangeCount){var m=document.createElement("div");m.innerHTML=u;var h=m.firstChild,g=p.getRangeAt(0);g.deleteContents(),g.insertNode(document.createTextNode(" ")),g.insertNode(h),g.setStart(h,0),setTimeout(function(){g=document.createRange(),g.setStartAfter(h),g.collapse(!0),p.removeAllRanges(),p.addRange(g)},0)}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(u)}}else{var n=this.textareaEl[0],a=n.value,o=this.isActive?getFieldSelection(n):a.length,s=a.substr(o),c=a.substr(0,o),l=t&&c.match(/:([A-Za-z0-9\-\+\*_]*)$/),d=EmojiHelper.emojis[e];if(l&&l[0])var f=c.substr(0,l.index)+":"+d[1]+": "+s,_=l.index+d[1].length+3;else var f=c+":"+d[1]+": "+s,_=c.length+d[1].length+3;n.value=f,setFieldSelection(n,_)}this.hideSuggestions(),this.onChange()},MessageComposer.prototype.onMentionsUpdated=function(e){delete this.previousQuery,this.isActive&&this.checkAutocomplete()},MessageComposer.prototype.onMentionSelected=function(e){if(this.richTextareaEl){var t=this.richTextareaEl[0];this.isActive||this.restoreSelection()||setRichFocus(t);var n,r=getRichValueWithCaret(t),i=r[0],a=r[1]>=0?r[1]:i.length,o=i.substr(a),s=i.substr(0,a),c=s.match(/@([A-Za-z0-9\-\+\*_]*)$/);n=c&&c[0]?s.substr(0,c.index)+"@"+e:s+"@"+e,t.value=d,this.selId=(this.selId||0)+1;var l=this.getRichHtml(n)+'&nbsp;<span id="composer_sel'+this.selId+'"></span>'+this.getRichHtml(o);this.richTextareaEl.html(l),setRichFocus(t,$("#composer_sel"+this.selId)[0])}else{var t=this.textareaEl[0],i=t.value,a=this.isActive?getFieldSelection(t):i.length,o=i.substr(a),s=i.substr(0,a),c=s.match(/@([A-Za-z0-9\-\+\*_]*)$/);if(c&&c[0])var d=s.substr(0,c.index)+"@"+e+" "+o,u=c.index+e.length+2;else var d=s+":"+e+": "+o,u=s.length+e.length+2;t.value=d,setFieldSelection(t,u)}this.hideSuggestions(),this.onChange()},MessageComposer.prototype.onChange=function(e){this.richTextareaEl&&(delete this.keyupStarted,this.textareaEl.val(getRichValue(this.richTextareaEl[0])).trigger("change"))},MessageComposer.prototype.getEmojiHtml=function(e,t){t=t||EmojiHelper.emojis[e];var n=20,r=EmojiHelper.spritesheetPositions[e],i=r[0],a=(r[1],n*r[3]),o=n*r[2];return'<img src="img/blank.gif" alt=":'+encodeEntities(t[1])+':" data-code="'+encodeEntities(e)+'" class="emoji emoji-w20 emoji-spritesheet-'+i+'" style="background-position: -'+a+"px -"+o+'px;" onresizestart="return false" />'},MessageComposer.prototype.setValue=function(e){this.richTextareaEl?(this.richTextareaEl.html(this.getRichHtml(e)),this.lastLength=e.length,this.wasEmpty=!e.length,this.onKeyEvent({type:"keyup"})):this.textareaEl.val(e)},MessageComposer.prototype.getRichHtml=function(e){return $("<div>").text(e).html().replace(/\n/g,"<br/>").replace(/:([A-Za-z0-9\-\+\*_]+?):/gi,function(e,t){var n=EmojiHelper.shortcuts[t];return void 0!==n?this.getEmojiHtml(n):e}.bind(this))},MessageComposer.prototype.focus=function(){this.richTextareaEl?setZeroTimeout(function(){setRichFocus(this.richTextareaEl[0])}.bind(this)):setFieldSelection(this.textareaEl[0])},MessageComposer.prototype.showEmojiSuggestions=function(e){var t,n,r,i,a,o,s,c,l=[],d=Config.Mobile?26:20,u=Math.min(5,e.length);for(o=0;u>o;o++)t=e[o],t.code&&(t=t.code),(n=Config.Emoji[t])&&(r=EmojiHelper.spritesheetPositions[t],a=r[0],i=r[1],s=d*r[3],c=d*r[2],l.push('<li><a class="composer_emoji_option" data-code="'+encodeEntities(t)+'"><i class="emoji emoji-w20 emoji-spritesheet-'+a+'" style="background-position: -'+s+"px -"+c+'px;"></i><span class="composer_emoji_shortcut">:'+encodeEntities(n[1][0])+":</span></a></li>"));this.autoCompleteEl.html(l.join("")),this.autoCompleteEl.show(),this.updatePosition(),this.autocompleteShown=!0},MessageComposer.prototype.showMentionSuggestions=function(e){var t,n,r=[],i=Math.min(5,e.length);for(n=0;i>n;n++)t=e[n],r.push('<li><a class="composer_mention_option" data-mention="'+t.username+'"><span class="composer_user_photo" data-user-id="'+t.id+'"></span><span class="composer_user_name">'+t.rFullName+'</span><span class="composer_user_mention">@'+t.username+"</span></a></li>");this.autoCompleteEl.html(r.join(""));var a=this;this.autoCompleteEl.find(".composer_user_photo").each(function(e,t){a.getPeerImage($(t),t.getAttribute("data-user-id"))}),this.autoCompleteEl.show(),this.updatePosition(),this.autocompleteShown=!0},MessageComposer.prototype.updatePosition=function(){var e=(this.richTextareaEl||this.textareaEl).offset(),t=this.autoCompleteEl.outerHeight(),n=(this.richTextareaEl||this.textareaEl).outerWidth();this.autoCompleteEl.css({top:e.top-t,left:e.left,width:n-2})},MessageComposer.prototype.hideSuggestions=function(){this.autoCompleteEl.hide(),delete this.autocompleteShown},MessageComposer.prototype.resetTyping=function(){this.lastTyping=0,this.lastLength=0},angular.module("myApp.directives",["myApp.filters"]).directive("myHead",function(){return{restrict:"AE",templateUrl:templateUrl("head")}}).directive("myLangFooter",function(){return{restrict:"AE",templateUrl:templateUrl("lang_footer")}}).directive("myFooter",function(){return{restrict:"AE",templateUrl:templateUrl("footer")}}).directive("myDialog",function(){return{restrict:"AE",templateUrl:templateUrl("dialog")}}).directive("myMessage",["$filter","_",function(e,t){function n(e,t,n){var u,p,m=!1,h=!1,g=!1,f=!1,_=!1,v=!1,y=!1,b=function(){m!=(e.selectedMsgs[e.historyMessage.id]||!1)&&(m=!m,t.toggleClass(o,m))},w=function(){h!=e.historyMessage.grouped&&(h&&t.removeClass(h),h=e.historyMessage.grouped,h&&t.addClass(h)),v!=(e.historyMessage.needDate||!1)&&(v=!v,v?u?u.show():(u=$(i),$(u[0].firstChild).text(r(e.historyMessage.date)),p?u.insertBefore(p):u.prependTo(t)):u.hide())};b(),w(),e.$on("messages_select",b),e.$on("messages_regroup",w),e.$on("messages_focus",function(n,r){r==e.historyMessage.id!=g&&(g=!g,t.toggleClass(s,g))});var k;if(!e.historyMessage.out&&(e.historyMessage.unread||e.historyMessage.unreadAfter)){var S=function(){e.peerHistory.peerID==e.historyPeer.id&&y!=(e.historyUnreadAfter==e.historyMessage.id)&&(y=!y,y?p?p.show():p=$(a).prependTo(t):(p.hide(),k&&k()))};S(),k=e.$on("messages_unread_after",S)}if(e.historyMessage.unread&&e.historyMessage.out){t.addClass(c);var C=e.$on("messages_read",function(){e.historyMessage.unread||(t.removeClass(c),C(),k&&!y&&k())})}if(e.historyMessage.error||e.historyMessage.pending){var M=function(){_!=(e.historyMessage.pending||!1)&&(_=!_,t.toggleClass(d,_)),f!=(e.historyMessage.error||!1)&&(f=!f,t.toggleClass(l,f)),f||_||A()},A=e.$on("messages_pending",M);M()}}var r=e("myDate"),i='<div class="im_message_date_split im_service_message_wrap"><div class="im_service_message"></div></div>',a='<div class="im_message_unread_split">'+t("unread_messages_split")+"</div>",o="im_message_selected",s="im_message_focus",c="im_message_unread",l="im_message_error",d="im_message_pending";return{templateUrl:templateUrl("message"),link:n}}]).directive("myExternalEmbed",function(){function e(e,s,c){var l=e.$eval(c.myExternalEmbed);if(l){var d="",u=!1;switch(l[0]){case"youtube":var p=l[1];d='<div class="im_message_media_embed im_message_video_embed"><'+o+' type="text/html" frameborder="0" src="https://www.youtube.com/embed/'+p+'?autoplay=0&amp;controls=2" webkitallowfullscreen mozallowfullscreen allowfullscreen></'+o+"></div>";break;case"vimeo":var p=l[1];d='<div class="im_message_media_embed im_message_video_embed"><'+o+' type="text/html" frameborder="0" src="https://player.vimeo.com/video/'+p+'?title=0&amp;byline=0&amp;portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></'+o+"></div>";break;case"instagram":var m=l[1];d='<div class="im_message_media_embed im_message_insta_embed"><'+o+' type="text/html" frameborder="0" src="https://instagram.com/p/'+m+'/embed/"></'+o+"></div>";break;case"vine":var h=l[1];d='<div class="im_message_media_embed im_message_vine_embed"><'+o+' type="text/html" frameborder="0" src="https://vine.co/v/'+h+'/embed/simple"></'+o+"></div>";break;case"soundcloud":var g=l[1];d='<div class="im_message_media_embed im_message_soundcloud_embed"><'+o+' type="text/html" frameborder="0" src="https://w.soundcloud.com/player/?url='+encodeEntities(encodeURIComponent(g))+'&amp;auto_play=false&amp;hide_related=true&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></'+o+"></div>";break;case"spotify":var f=l[1];d='<div class="im_message_media_embed im_message_spotify_embed"><'+o+' type="text/html" frameborder="0" allowtransparency="true" src="https://embed.spotify.com/?uri=spotify:'+encodeEntities(encodeURIComponent(f))+'"></'+o+"></div>";break;case"twitter":d='<div class="im_message_twitter_embed"><blockquote class="twitter-tweet" lang="en"><a href="'+l[1]+'"></a></blockquote></div>',u=function(){t?window.twttr&&twttr.widgets.load(s[0]):(t=!0,$("<script>").appendTo("body").on("load",function(){twttr.events.bind("loaded",function(e){for(var t=0;t<i.length;t++)i[t].$emit("ui_height");i=[]})}).attr("src","https://platform.twitter.com/widgets.js")),i.push(e)};break;case"facebook":d='<div class="im_message_facebook_embed"><div class="fb-post" data-href="'+l[1]+'" data-width="300"></div></div>',u=function(){n?window.FB&&FB.XFBML.parse(s[0]):(n=!0,$("<script>").appendTo("body").on("load",function(){FB.Event.subscribe("xfbml.render",function(e){for(var t=0;t<a.length;t++)a[t].$emit("ui_height");a=[]})}).attr("src","https://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=254098051407226&version=v2.0")),a.push(e)};break;case"gplus":d='<div class="im_message_gplus_embed"><div class="g-post" data-href="'+l[1]+'"></div></div>',u=function(){r?window.gapi&&gapi.post.go(s[0]):(r=!0,window.___gcfg={parsetags:"explicit"},$("<script>").appendTo("body").on("load",function(){gapi.post.go()}).attr("src","https://apis.google.com/js/plusone.js")),s.one("load",function(){e.$emit("ui_height")})}}d&&(s[0].innerHTML=d,u&&u())}}var t=!1,n=!1,r=!1,i=[],a=[],o=Config.Modes.chrome_packed?"webview":"iframe";return{link:e}}).directive("myServiceMessage",function(){return{templateUrl:templateUrl("message_service")}}).directive("myReplyMessage",["AppPhotosManager","AppMessagesManager","AppPeersManager","$rootScope",function(e,t,n,r){function i(e,n,r){var i=e.replyMessage;if(i.loading)var o=i.id,s=e.$on("messages_downloaded",function(r,i){-1!=i.indexOf(o)&&(e.replyMessage=t.wrapForDialog(o),a(e,n),s())});else a(e,n)}function a(i,a){var o=i.replyMessage;if(!o||o.deleted||!o.to_id)return void $(a).remove();var s,c=42,l=42;if(o.media)switch(o.media._){case"messageMediaPhoto":s=e.choosePhotoSize(o.media.photo,c,l);break;case"messageMediaDocument":s=o.media.document.thumb;break;case"messageMediaVideo":s=o.media.video.thumb}if(s&&"photoSizeEmpty"!=s._){var d=calcImageInBox(s.w,s.h,c,l,!0);i.thumb={width:d.w,height:d.h,location:s.location,size:s.size}}"A"==a[0].tagName&&a.on("click",function(){var e=t.getMessagePeer(o),i=n.getPeerString(e);r.$broadcast("history_focus",{peerString:i,messageID:o.id})})}return{templateUrl:templateUrl("reply_message"),scope:{replyMessage:"=myReplyMessage"},link:i}}]).directive("myMessagePhoto",["AppPhotosManager",function(e){return{scope:{media:"=myMessagePhoto",messageId:"=messageId"},templateUrl:templateUrl("message_attach_photo"),link:function(t,n,r){t.openPhoto=e.openPhoto}}}]).directive("myMessageVideo",["AppVideoManager",function(e){return{scope:{media:"=myMessageVideo",messageId:"=messageId"},templateUrl:templateUrl("message_attach_video"),link:function(t,n,r){e.updateVideoDownloaded(t.media.video.id),t.videoSave=function(){e.saveVideoFile(t.media.video.id)},t.videoOpen=function(){e.openVideo(t.media.video.id,t.messageId)}}}}]).directive("myMessageDocument",["AppDocsManager",function(e){return{scope:{document:"=myMessageDocument",messageId:"=messageId"},templateUrl:templateUrl("message_attach_document"),link:function(t,n,r){e.updateDocDownloaded(t.document.id),t.docSave=function(){e.saveDocFile(t.document.id)},t.docOpen=function(){return t.document.withPreview?void e.openDoc(t.document.id,t.messageId):t.docSave()}}}}]).directive("myMessageGeo",function(){return{scope:{media:"=myMessageGeo"},templateUrl:templateUrl("message_attach_geo")}}).directive("myMessageVenue",function(){return{scope:{venue:"=myMessageVenue"},templateUrl:templateUrl("message_attach_venue")}}).directive("myMessageContact",function(){return{templateUrl:templateUrl("message_attach_contact")}}).directive("myMessageWebpage",["AppWebPagesManager","AppPhotosManager",function(e,t){return{scope:{webpage:"=myMessageWebpage",messageId:"=messageId"},templateUrl:templateUrl("message_attach_webpage"),link:function(n){n.openPhoto=t.openPhoto,n.openEmbed=function(t){return n.webpage&&n.webpage.embed_url?(e.openEmbed(n.webpage.id,n.messageId),cancelEvent(t)):void 0},n.$on("webpage_updated",function(e,t){n.webpage&&n.webpage.id==t.id&&n.$emit("ui_height")})}}}]).directive("myMessagePending",function(){return{templateUrl:templateUrl("message_attach_pending")}}).directive("myDialogs",["$modalStack","$transition","$window","$timeout",function(e,t,n,r){function i(t,i,a){function o(n){if(!h&&e.getTop())return!0;if(36==n.keyCode&&!n.shiftKey&&!n.ctrlKey&&n.altKey){var r=$(l).find(".im_dialog_wrap a");return r.length&&($(r[0]).trigger("mousedown"),l.scrollTop=0,$(c).nanoScroller({flash:!0})),cancelEvent(n)}if(27==n.keyCode||9==n.keyCode&&n.shiftKey&&!n.ctrlKey&&!n.metaKey)return h?d.value?$(p).trigger("click"):(t.$emit("esc_no_more"),setTimeout(function(){d.blur(),d.focus()},100)):(setFieldSelection(d),d.value&&d.select()),cancelEvent(n);if(h&&13==n.keyCode){var r=$(l).find(".im_dialog_selected")[0]||$(l).find(".im_dialog_wrap a")[0];return r&&$(r).trigger("mousedown"),cancelEvent(n)}if(n.altKey&&n.shiftKey&&!n.ctrlKey&&!n.metaKey&&n.keyCode>=49&&n.keyCode<=57){var i=n.keyCode-49,a=$(l).find(".im_dialog_wrap"),o=a[i];return o&&($(o).find("a").trigger("mousedown"),s(o)),cancelEvent(n)}var u,m,g,f=Config.Modes.packed;if(40==n.keyCode||38==n.keyCode?(u=40==n.keyCode,m=!u,g=!n.shiftKey&&n.altKey):f&&9==n.keyCode&&n.ctrlKey&&!n.metaKey&&(u=!n.shiftKey,m=!u,g=!0),u||m){if(!g&&(!h||n.metaKey))return!0;var o,r=!g&&$(l).find(".im_dialog_selected")[0]||$(l).find(".active a.im_dialog")[0],_=r&&r.parentNode;if(_){var o=r[u?"nextSibling":"previousSibling"];if(!o||!o.className||-1==o.className.indexOf("im_dialog_wrap")){
var a=$(l).find(".im_dialog_wrap"),v=a.index(r.parentNode),y=v+(u?1:-1);o=a[y]}}else{var a=$(l).find(".im_dialog_wrap");o=u?a[0]:a[a.length-1]}return g?o&&$(o).find("a").trigger("mousedown"):(_&&o&&$(_).find("a").removeClass("im_dialog_selected"),o&&$(o).find("a").addClass("im_dialog_selected")),o&&s(o),cancelEvent(n)}}function s(e){var t=e.offsetTop-15,n=e.offsetHeight+30,r=l.scrollTop,i=l.clientHeight;r>t?(l.scrollTop=t,$(c).nanoScroller({flash:!0})):t+n-i>r&&(l.scrollTop=t+n-i,$(c).nanoScroller({flash:!0}))}var c=$(".im_dialogs_wrap",i)[0],l=$(".im_dialogs_scrollable_wrap",i)[0],d=$(".im_dialogs_search_field",i)[0],u=$(".im_dialogs_panel",i)[0],p=$(".im_dialogs_search_clear",i)[0],m=$(".im_dialogs_tabs_wrap",i)[0],h=!1;$(d).on("focus blur",function(e){h="focus"==e.type,h||($(l).find(".im_dialog_selected").removeClass("im_dialog_selected"),d.value||t.$emit("ui_dialogs_search_clear"))}),t.$on("dialogs_search_toggle",function(){$(u).addClass("im_dialogs_panel_search"),t.$broadcast("ui_dialogs_search"),$(n).scrollTop(0),r(function(){setFieldSelection(d)})}),t.$on("search_clear",function(){$(u).removeClass("im_dialogs_panel_search"),t.$broadcast("ui_dialogs_search")}),a.$observe("hasTabs",function(e){e="true"==e,$(m).toggle(e),t.$broadcast("ui_dialogs_tabs",e)}),$(document).on("keydown",o),t.$on("$destroy",function(){$(document).off("keydown",o)}),t.$on("ui_dialogs_change",function(){onContentLoaded(function(){var e=$(l).find(".active a.im_dialog")[0];e&&s(e.parentNode)})})}return{link:i}}]).directive("myDialogsList",["$window","$timeout",function(e,t){function n(n,r,i){function a(){if(u&&u.offsetHeight||(u=$(d)[0]),i.modal){var t=$(e).height()-(u?u.offsetHeight:58)-(Config.Mobile?46:200);return t=Math.min(350,t),$(r).css({height:t}),void g()}l&&l.offsetHeight||(l=$(".tg_page_head")[0]),p&&p.offsetHeight||(p=$(".footer_wrap")[0]),s&&s.offsetHeight||(s=$(".im_dialogs_col_wrap")[0]);var n=p?p.offsetHeight:0;n&&n++,$(r).css({height:$(e).height()-n-(l?l.offsetHeight:48)-(u?u.offsetHeight:58)-parseInt($(s).css("paddingBottom")||0)}),g()}var o=$(".im_dialogs_wrap",r)[0],s=$(".im_dialogs_col_wrap")[0],c=$(".im_dialogs_scrollable_wrap",r)[0],l=$(".tg_page_head")[0],d=Config.Mobile&&i.modal?".mobile_modal_body .im_dialogs_panel":".im_dialogs_panel",u=$(d)[0],p=$(".footer_wrap")[0],m=!1,h=!1;onContentLoaded(function(){$(o).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0})});var g=function(){onContentLoaded(function(){$(o).nanoScroller()})};n.$on("ui_dialogs_prepend",g),n.$on("ui_dialogs_tabs",function(e,t){m=t,a()}),n.$on("ui_dialogs_search",a),n.$on("ui_dialogs_update",a),n.$on("ui_dialogs_append",function(){onContentLoaded(function(){g(),h=!1,t(function(){$(c).trigger("scroll")})})}),n.$on("ui_dialogs_change",function(){onContentLoaded(function(){g(),h=!1,t(function(){$(c).trigger("scroll")})})}),$(c).on("scroll",function(e){r.is(":visible")&&!h&&c.scrollTop>=c.scrollHeight-c.clientHeight-300&&(n.$emit("dialogs_need_more"),h=!0)}),$(e).on("resize",a),a(),setTimeout(a,1e3)}return{link:n}}]).directive("myContactsList",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:$(e).height()-(o&&o.offsetHeight||0)-(a&&a.offsetHeight||0)-(Config.Mobile?64:200)}),$(s).nanoScroller()}var a=$(".contacts_modal_search")[0],o=$(".contacts_modal_panel")[0],s=$(".contacts_wrap",n)[0];onContentLoaded(function(){$(s).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0}),i()}),$(e).on("resize",i),t.$on("contacts_change",function(){onContentLoaded(i)})}return{link:n}}]).directive("myCountriesList",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:$(e).height()-(o&&o.offsetHeight||0)-(a&&a.offsetHeight||0)-(Config.Mobile?64:200)}),$(s).nanoScroller()}var a=$(".countries_modal_search")[0],o=$(".countries_modal_panel")[0],s=$(".countries_wrap",n)[0];onContentLoaded(function(){$(s).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0}),i()}),$(e).on("resize",i),t.$on("contacts_change",function(){onContentLoaded(i)})}return{link:n}}]).directive("mySessionsList",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:Math.min(760,$(e).height()-(Config.Mobile?64:200))}),$(a).nanoScroller()}var a=$(".sessions_wrap",n)[0];onContentLoaded(function(){$(a).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0}),i()}),$(e).on("resize",i)}return{link:n}}]).directive("myStickersList",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:Math.min(500,$(e).height()-(Config.Mobile?64:200))}),$(a).nanoScroller()}var a=$(".stickerset_wrap",n)[0];onContentLoaded(function(){$(a).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0}),i()}),$(e).on("resize",i)}return{link:n}}]).directive("myHistory",["$window","$timeout","$rootScope","$transition",function(e,t,n,r){function i(i,a,o){function s(e,n){var r,i,a=!1;if(!e&&(i=$(".im_message_focus:visible",p)[0])){var o=p.clientHeight,s=p.scrollTop,c=i.offsetTop,l=i.clientHeight;(!s||c>s+o||s>c+l||n)&&(a=Math.max(0,c-Math.floor(o/2)+26)),x=!1}else(r=$(".im_message_unread_split:visible",p)[0])?(a=Math.max(0,r.offsetTop-52),x=!1):(a=p.scrollHeight,x=!0);if(a!==!1){var d=function(){k(),t(function(){$(p).trigger("scroll"),E=p.scrollTop})};n?$(p).animate({scrollTop:a},200,d):(p.scrollTop=a,d())}}function c(t){if(a.is(":visible")||$(a[0].parentNode.parentNode).is(":visible")){$(g).is(":visible")&&$(g).css({height:$(v).height()}),f&&f.offsetHeight||(f=$(".tg_page_head")[0]),_&&_.offsetHeight||(_=$(".footer_wrap")[0]);var n=_?_.offsetHeight:0;n&&n++;var r=$(e).height()-h.offsetHeight-(f?f.offsetHeight:48)-n;$(d).css({height:r}),l(),t!==!0&&(x&&onContentLoaded(function(){p.scrollTop=p.scrollHeight,k()}),k(100))}}function l(){$(u).css({marginTop:0});var e=p.offsetHeight-u.offsetHeight-20-(Config.Mobile?0:39);u.offsetHeight>0&&e>0&&$(u).css({marginTop:e}),$(d).nanoScroller()}var d=$(".im_history_wrap",a)[0],u=$(".im_history_messages",a)[0],p=($(".im_history",a)[0],$(".im_history_scrollable_wrap",a)[0]),m=$(".im_history_scrollable",a)[0],h=$(".im_bottom_panel_wrap",a)[0],g=$(".im_send_form_wrap",a)[0],f=$(".tg_page_head")[0],_=$(".footer_wrap")[0],v=$(".im_send_form",a)[0],y=!1,b=!1;onContentLoaded(function(){p.scrollTop=p.scrollHeight}),$(d).nanoScroller({preventPageScrolling:!0,tabIndex:-1,iOSNativeScrolling:!0});var w,k=function(e){t(function(){$(p).hasClass("im_history_to_bottom")||$(d).nanoScroller()},e||0)},S=!1,C=["transform","webkitTransform","MozTransform","msTransform","OTransform"];for(w=0;w<C.length;w++)if(C[w]in u.style){S=C[w];break}var M=!1,A=!1;i.$on("ui_history_append_new",function(e,t){if(!x&&!t.my)return void onContentLoaded(function(){$(d).nanoScroller()});if(t.idleScroll)return void onContentLoaded(function(){$(d).nanoScroller(),s(!0)});var i,a=M&&!n.idle.isIDLE&&u.clientHeight>0;if(a)i=p.scrollHeight;else{var o=parseInt($(p).css("paddingRight"));$(m).css({bottom:0,paddingRight:o}),$(p).addClass("im_history_to_bottom")}onContentLoaded(function(){if(a){A=!0,$(u).removeClass("im_history_appending"),p.scrollTop=p.scrollHeight,$(u).css(S,"translate(0px, "+(p.scrollHeight-i)+"px)"),$(d).nanoScroller();var e={};e[S]="translate(0px, 0px)",$(u).addClass("im_history_appending"),r($(u),e).then(function(){A=!1,$(u).removeClass("im_history_appending"),l()})}else $(p).removeClass("im_history_to_bottom"),$(m).css({bottom:"",paddingRight:0}),p.scrollTop=p.scrollHeight,l()})}),i.$on("ui_history_change",function(){var e=parseInt($(p).css("paddingRight"));$(p).addClass("im_history_to_bottom"),p.scrollHeight,$(m).css({bottom:0,paddingRight:e}),onContentLoaded(function(){$(p).removeClass("im_history_to_bottom"),$(m).css({bottom:"",paddingRight:""}),c(!0),y=!1,b=!1,s()})}),i.$on("ui_history_change_scroll",function(e,t){onContentLoaded(function(){s(!1,t)})}),i.$on("ui_history_focus",function(){x||(p.scrollTop=p.scrollHeight,k(),x=!0)}),i.$on("ui_history_prepend",function(){var e=p.scrollHeight,n=p.scrollTop,r=parseInt($(p).css("paddingRight")),a=p.clientHeight;$(p).addClass("im_history_to_bottom"),p.scrollHeight,$(m).css({bottom:-(e-n-a),paddingRight:r});var o=function(){$(p).removeClass("im_history_to_bottom"),$(m).css({bottom:"",paddingRight:""}),E>=0?s():p.scrollTop=n+p.scrollHeight-e,l(),y=!1,t(function(){p.scrollHeight!=e&&$(p).trigger("scroll")}),clearTimeout(c),d()},c=setTimeout(o,0),d=i.$on("$viewContentLoaded",o)}),i.$on("ui_history_append",function(){var e=p.scrollHeight;onContentLoaded(function(){x=!1,l(),b=!1,E>=0&&s(),t(function(){p.scrollHeight!=e&&$(p).trigger("scroll")})})}),i.$on("ui_panel_update",function(){onContentLoaded(function(){c(),i.$broadcast("ui_message_send"),t(function(){$(p).trigger("scroll")})})}),i.$on("ui_selection_clear",function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}),i.$on("ui_editor_resize",c),i.$on("ui_height",function(){onContentLoaded(c)});var x=!0,E=-1;$(p).on("scroll",function(e){if(a.is(":visible")&&!$(p).hasClass("im_history_to_bottom")&&!A){var t=p.scrollTop;x=t>=p.scrollHeight-p.clientHeight,E>=0&&E!=t&&(E=-1),!y&&300>=t?(y=!0,i.$emit("history_need_more")):!b&&t>=p.scrollHeight-p.clientHeight-300&&(b=!0,i.$emit("history_need_less"))}}),$(e).on("resize",c),c(),onContentLoaded(c)}return{link:i}}]).directive("mySendForm",["$timeout","$compile","$modalStack","$http","$interpolate","Storage","AppStickersManager","AppDocsManager","ErrorService",function(e,t,n,r,i,a,o,s,c){function l(e,r,l){function d(){a.get("send_ctrlenter").then(function(e){L=!e})}function u(t){return e.$apply(function(){p(),e.draftMessage.send(),U.resetTyping(),w&&w.update()}),cancelEvent(t)}function p(){O&&(U.onChange(),m())}function m(){var t=O.offsetHeight;R!=t&&(R=t,e.$emit("ui_editor_resize"))}function h(e){return 9!=e.keyCode||e.shiftKey||e.ctrlKey||e.metaKey||n.getTop()?void 0:(U.focus(),cancelEvent(e))}function g(){onContentLoaded(function(){U.focus()})}function f(t){c.confirm({type:"FILE_CLIPBOARD_PASTE"}).then(function(){e.draftMessage.files=[t],e.draftMessage.isMedia=!0})}function _(t){var n,r,i=(t.originalEvent||t).clipboardData,a=i&&i.items||[],o=[];for(r=0;r<a.length;r++)"file"==a[r].kind&&(n=a[r].getAsFile(),o.push(n));o.length>0&&c.confirm({type:"FILES_CLIPBOARD_PASTE",files:o}).then(function(){e.draftMessage.files=o,e.draftMessage.isMedia=!0})}function v(t){var n=!1;return y&&1!=y||(y=checkDragEvent(t)?2:1,n=!0),2==y&&(b&&setTimeout(function(){clearTimeout(b),b=!1},0),"dragenter"==t.type||"dragover"==t.type?n&&($(S).hide(),$(A).css({height:x.offsetHeight+2,width:x.offsetWidth}).show()):("drop"==t.type&&e.$apply(function(){e.draftMessage.files=Array.prototype.slice.call(t.originalEvent.dataTransfer.files),e.draftMessage.isMedia=!0}),b=setTimeout(function(){$(A).hide(),$(S).show(),y=!1,b=!1},300))),cancelEvent(t)}var y,b,w,k=$("textarea",r)[0],S=$(".composer_emoji_insert_btn",r)[0],C=$(".composer_emoji_panel",r)[0],M=$("input",r),A=$(".im_send_dropbox_wrap",r)[0],x=$(".im_send_field_wrap",r)[0],E=$(".im_submit",r)[0],T=t('<a class="composer_sticker_btn" data-sticker="{{::document.id}}" my-load-sticker document="document" thumb="true" img-class="composer_sticker_image"></a>'),I={},D=new EmojiTooltip(S,{getStickers:function(e){o.getStickers().then(e)},getStickerImage:function(t,n){if(I[n])return void t.replaceWith(I[n]);var r=e.$new(!0);r.document=s.getDoc(n),T(r,function(e){I[n]=e,t.replaceWith(e)})},onStickersetSelected:function(e){o.openStickersetLink(e)},onEmojiSelected:function(t){e.$apply(function(){U.onEmojiSelected(t)})},onStickerSelected:function(t){e.$apply(function(){e.draftMessage.sticker=t})}});C&&(w=new EmojiPanel(C,{onEmojiSelected:function(e){U.onEmojiSelected(e)}}));var P=t('<span class="composer_user_photo" my-peer-photolink="peerID" img-class="composer_user_photo"></span>'),N={},U=new MessageComposer(k,{onTyping:function(){e.$emit("ui_typing")},getSendOnEnter:function(){return L},getPeerImage:function(t,n){if(N[n])return void t.replaceWith(N[n]);var r=e.$new(!0);r.peerID=n,P(r,function(e){N[n]=e,t.replaceWith(e)})},mentions:e.mentions,onMessageSubmit:u,onFilePaste:f}),O=U.richTextareaEl[0];O&&$(O).attr("placeholder",i($(k).attr("placeholder"))(e)).on("keydown keyup",m),M.on("change",function(){var t=this;e.$apply(function(){e.draftMessage.files=Array.prototype.slice.call(t.files),e.draftMessage.isMedia=$(t).hasClass("im_media_attach_input")||Config.Mobile,setTimeout(function(){try{t.value=""}catch(e){}},1e3)})});var L=!0;e.$on("settings_changed",d),d(),$(E).on("mousedown touchstart",u);var R=O&&O.offsetHeight;$(document).on("keydown",h),$("body").on("dragenter dragleave dragover drop",v),$(document).on("paste",_),Config.Navigator.touch||(e.$on("ui_peer_change",g),e.$on("ui_history_focus",g),e.$on("ui_history_change",g)),e.$on("ui_peer_change",U.resetTyping.bind(U)),e.$on("ui_peer_draft",function(){O&&(U.setValue(e.draftMessage.text||""),m()),Config.Navigator.touch||U.focus(),D&&D.hide()}),e.$on("ui_peer_reply",function(){onContentLoaded(function(){e.$emit("ui_editor_resize"),Config.Navigator.touch||U.focus()})}),e.$on("mentions_update",function(){U.onMentionsUpdated()});var B=!1;e.$on("ui_message_before_send",function(){B=!0,p()}),e.$on("ui_message_send",function(){B=!1,Config.Navigator.touch||g()}),e.$on("$destroy",function(){$(document).off("paste",_),$(document).off("keydown",h),$("body").off("dragenter dragleave dragover drop",v),$(E).off("mousedown touchstart"),M.off("change")}),Config.Navigator.touch||g()}return{link:l,scope:{draftMessage:"=",mentions:"="}}}]).directive("myLoadThumb",["MtpApiFileManager","FileManager",function(e,t){function n(n,r,i){var a=0,o=e.getCachedFile(n.thumb&&n.thumb.location&&!n.thumb.location.empty&&n.thumb.location);o&&r.attr("src",t.getUrl(o,"image/jpeg")),n.thumb&&n.thumb.width&&n.thumb.height&&(r.attr("width",n.thumb.width),r.attr("height",n.thumb.height));var s=n.$watchCollection("thumb.location",function(i){n.thumb&&n.thumb.width&&n.thumb.height&&(r.attr("width",n.thumb.width),r.attr("height",n.thumb.height),n.$emit("ui_height"));var o=++a;if(!i||i.empty)return r.attr("src",n.thumb&&n.thumb.placeholder||"img/blank.gif"),void c();var s=e.getCachedFile(i);return s?(r.attr("src",t.getUrl(s,"image/jpeg")),void c()):(r.attr("src")||r.attr("src",n.thumb.placeholder||"img/blank.gif"),void e.downloadSmallFile(n.thumb.location).then(function(e){o==a&&(r.attr("src",t.getUrl(e,"image/jpeg")),c())},function(e){console.log("Download image failed",e,n.thumb.location,r[0]),o==a&&(r.attr("src",n.thumb.placeholder||"img/blank.gif"),c())}))}),c=i.watch?angular.noop:function(){setTimeout(function(){n.$destroy(),s()},0)}}return{link:n,scope:{thumb:"="}}}]).directive("myLoadFullPhoto",["MtpApiFileManager","FileManager","_",function(e,t,n){function r(r,i,a){var o=$("img",i)[0],s=$(".img_fullsize_with_progress_wrap",i).add(".img_fullsize_progress_wrap",i).add($(o)),c=function(){s.css({width:r.fullPhoto.width,height:r.fullPhoto.height}),r.$emit("ui_height",!0)},l=0;r.$watchCollection("fullPhoto.location",function(){var i=e.getCachedFile(r.thumbLocation),a=++l;if(i?(o.src=t.getUrl(i,"image/jpeg"),c()):o.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.fullPhoto.location){var s;if(r.fullPhoto.size){var d={_:"inputFileLocation",volume_id:r.fullPhoto.location.volume_id,local_id:r.fullPhoto.location.local_id,secret:r.fullPhoto.location.secret};s=e.downloadFile(r.fullPhoto.location.dc_id,d,r.fullPhoto.size)}else s=e.downloadSmallFile(r.fullPhoto.location);r.progress={enabled:!0,percent:0},s.then(function(e){a==l&&(r.progress.enabled=!1,o.src=t.getUrl(e,"image/jpeg"),c())},function(e){console.log("Download image failed",e,r.fullPhoto.location),r.progress.enabled=!1,r.error=e&&"FS_BROWSER_UNSUPPORTED"==e.type?{html:n("error_browser_no_local_file_system_image_md",{"moz-link":'<a href="{0}" target="_blank">{1}</a>',"chrome-link":'<a href="{0}" target="_blank">{1}</a>',"telegram-link":'<a href="{0}" target="_blank">{1}</a>'})}:{text:n("error_image_download_failed"),error:e}},function(e){r.progress.percent=Math.max(1,Math.floor(100*e.done/e.total))})}}),c()}return{link:r,transclude:!0,templateUrl:templateUrl("full_photo"),scope:{fullPhoto:"=",thumbLocation:"="}}}]).directive("myLoadVideo",["$sce","AppVideoManager","ErrorService","_",function(e,t,n,r){function i(e,i,a){var o=t.downloadVideo(e.video.id);o.then(function(){e.$emit("ui_height"),onContentLoaded(function(){var e=$("video",i)[0];if(e){var t=!1,r=function(e){t||e.target&&e.target.error&&e.target.error.code!=e.target.error.MEDIA_ERR_DECODE&&e.target.error.code!=e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED||(t=!0,n.show({error:{type:"MEDIA_TYPE_NOT_SUPPORTED",originalError:e.target&&e.target.error}}))};e.addEventListener("error",r,!0),$(e).on("$destroy",function(){t=!0,e.removeEventListener("error",r)})}})},function(t){console.log("Download video failed",t,e.video),e.error=t&&"FS_BROWSER_UNSUPPORTED"==t.type?{html:r("error_browser_no_local_file_system_video_md",{"moz-link":'<a href="{0}" target="_blank">{1}</a>',"chrome-link":'<a href="{0}" target="_blank">{1}</a>',"telegram-link":'<a href="{0}" target="_blank">{1}</a>'})}:{text:r("error_video_download_failed"),error:t}}),e.$emit("ui_height"),e.$on("$destroy",function(){o.cancel()})}return{link:i,transclude:!0,templateUrl:templateUrl("full_video"),scope:{video:"="}}}]).directive("myLoadGif",["AppDocsManager",function(e){function t(t,n,r){var i=!1;t.isActive=!1,t.toggle=function(n){return checkClick(n,!0)?(e.saveDocFile(t.document.id),!1):t.document.url?(t.isActive=!t.isActive,void t.$emit("ui_height")):i?(i.cancel(),void(i=!1)):(i=e.downloadDoc(t.document.id),void i.then(function(){t.isActive=!0,t.$emit("ui_height")}))}}return{link:t,templateUrl:templateUrl("full_gif"),scope:{document:"="}}}]).directive("myLoadSticker",["MtpApiFileManager","FileManager",function(e,t){function n(n,i,a){var o=$("<img />").appendTo(i).addClass(a.imgClass),s=function(e){return WebpManager.isWebpSupported()?void o.attr("src",t.getUrl(e,"image/webp")):void t.getByteArray(e).then(function(e){o.attr("src",WebpManager.getPngUrlFromData(e))})};o.css({width:n.document.thumb.width,height:n.document.thumb.height}),i.css({width:n.document.thumb.width,height:n.document.thumb.height});var c=n.document.thumb.location,l={_:"inputDocumentFileLocation",id:n.document.id,access_hash:n.document.access_hash,dc_id:n.document.dc_id},d=e.getCachedFile(l),u=!1;if(d?u=!0:d=e.getCachedFile(c),d){if(s(d),u)return}else o.attr("src",r);a.thumb?e.downloadSmallFile(c).then(function(e){s(e)},function(e){console.log("Download sticker failed",e,l)}):e.downloadFile(n.document.dc_id,l,n.document.size).then(function(e){s(e)},function(e){console.log("Download sticker failed",e,l)})}var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";return{link:n,scope:{document:"="}}}]).directive("myLoadDocument",["MtpApiFileManager","AppDocsManager","FileManager",function(e,t,n){function r(e,t){for(;e&&!$(e).hasClass("modal-dialog");)e=e.parentNode;e&&$(e).width(t+(Config.Mobile?0:32))}function i(i,a,o){var s=$(".document_fullsize_with_progress_wrap",a),c=$(".document_fullsize_wrap",a),l=$(".document_fullsize_img",a),d=$(window).width()-(Config.Mobile?20:32),u=$(window).height()-150;d>800&&(d-=208),i.imageWidth=d,i.imageHeight=u;var p=i.document.thumb;if(p&&"photoSizeEmpty"!=p._){var m=calcImageInBox(p.width,p.height,d,u);i.imageWidth=m.w,i.imageHeight=m.h;var h=e.getCachedFile(p.location);h&&(i.thumbSrc=n.getUrl(h,"image/jpeg"))}i.frameWidth=Math.max(i.imageWidth,Math.min(600,d)),i.frameHeight=i.imageHeight,onContentLoaded(function(){i.$emit("ui_height")}),r(a[0],i.frameWidth);var g,f,_;t.downloadDoc(i.document.id).then(function(e){var t=n.getUrl(e,i.document.mime_type),r=new Image,a=100,o=function(e){if(r.height&&r.width||!--a){f=r.width,_=r.height,clearInterval(g);var n=calcImageInBox(r.width,r.height,d,u,!0),o={w:f,h:_};n.w>=o.w&&n.h>=o.h&&(o.w*=4,o.h*=4);var p=!0;i.toggleZoom=function(){p=!p;var e=(p?o:n).w,t=(p?o:n).h;l.css({width:e,height:t,marginTop:i.frameHeight>t?Math.floor((i.frameHeight-t)/2):0}),c.toggleClass("document_fullsize_zoomed",p)},i.toggleZoom(!1),l.attr("src",t),s.hide(),c.css({width:i.frameWidth,height:i.frameHeight}).show()}};g=setInterval(o,20),r.onload=o,r.src=t,setZeroTimeout(o)})}return{link:i,templateUrl:templateUrl("full_document"),scope:{document:"=myLoadDocument"}}}]).directive("myGeoPointMap",["ExternalResourcesManager",function(e){function t(t,n,r){var i=n.attr("width")||200,a=n.attr("height")||200;n.attr("src","img/blank.gif");var o=Config.ExtCredentials.gmaps.api_key,s="https://maps.googleapis.com/maps/api/staticmap?sensor=false&center="+t.point.lat+","+t.point["long"]+"&zoom=15&size="+i+"x"+a+"&scale=2&key="+o;e.downloadImage(s).then(function(e){n.attr("src",e)})}return{link:t,scope:{point:"=myGeoPointMap"}}}]).directive("myLoadingDots",["$interval",function(e){function t(e,t,r){t.html(n(t[0])?'<div class="loading_dots"><i></i><i></i><i></i></div>':"...")}function n(e){if(void 0===r&&(r=void 0!==e.style.animationName,r===!1)){var t,n="Webkit Moz O ms Khtml".split(" ");for(t=0;t<n.length;t++)if(void 0!==e.style[n[t]+"AnimationName"]){r=!0;break}}return r}return{link:t};var r}]).directive("myFocused",function(){return{link:function(e,t,n){return Config.Navigator.touch?!1:void setTimeout(function(){setFieldSelection(t[0])},100)}}}).directive("myFocusOn",function(){return{link:function(e,t,n){e.$on(n.myFocusOn,function(){return Config.Navigator.touch?!1:void onContentLoaded(function(){setFieldSelection(t[0])})})}}}).directive("myFileUpload",function(){function e(e,t,n){t.on("change",function(){var t=this;e.$apply(function(){e.photo.file=t.files[0],setTimeout(function(){try{t.value=""}catch(e){}},1e3)})})}return{link:e}}).directive("myModalWidth",function(){function e(e,t,n){n.$observe("myModalWidth",function(e){$(t[0].parentNode.parentNode).css({width:parseInt(e)+(Config.Mobile?0:32)})})}return{link:e}}).directive("myModalNav",function(){function e(e,t,n){var r=function(t){var r=t.target;if(!r||"INPUT"!=r.tagName&&"TEXTAREA"!=r.tagName)switch(t.keyCode){case 39:case 32:case 34:case 40:e.$eval(n.next);break;case 37:case 33:case 38:e.$eval(n.prev)}};$(document).on("keydown",r),e.$on("$destroy",function(){$(document).off("keydown",r)})}return{link:e}}).directive("myCustomBackground",function(){function e(e,t,n){$("html").css({background:n.myCustomBackground}),e.$on("$destroy",function(){$("html").css({background:""})})}return{link:e}}).directive("myInfiniteScroller",function(){function e(e,t,n){var r=$(".nano-content",t)[0],i=!1;$(r).on("scroll",function(n){t.is(":visible")&&!i&&r.scrollTop>=r.scrollHeight-r.clientHeight-300&&(i=!0,e.$apply(function(){e.slice.limit+=e.slice.limitDelta||20}),onContentLoaded(function(){i=!1,$(t).nanoScroller()}))})}return{link:e,scope:!0}}).directive("myModalPosition",["$window","$timeout",function(e,t){function n(n,r,i){var a=function(){if(!Config.Mobile||!$(r[0].parentNode.parentNode.parentNode).hasClass("mobile_modal")){var e=r[0].parentNode.offsetHeight,n=r[0].parentNode.parentNode.parentNode,a=$(".media_modal_bottom_panel_wrap",n)[0],o=n.offsetHeight-(a&&a.offsetHeight||0);o>e?$(r[0].parentNode).css("marginTop",(o-e)/2):$(r[0].parentNode).css("marginTop",""),"no"!=i.animation&&t(function(){$(r[0].parentNode).addClass("modal-content-animated")},300)}};onContentLoaded(a),$(e).on("resize",a),n.$on("ui_height",function(e,t){t?a():onContentLoaded(a)})}return{link:n}}]).directive("myVerticalPosition",["$window","$timeout",function(e,t){function n(t,n,r){var i="true"===r.padding,a=0,o=function(){var o=n[0].offsetHeight,s=o-(o&&i?2*a:0),c=r.myVerticalPosition&&parseFloat(r.myVerticalPosition)||.5,l=r.contHeight?t.$eval(r.contHeight):$(e).height(),d=l>s?parseInt((l-s)*c):"",u=i?{paddingTop:d,paddingBottom:d}:{marginTop:d,marginBottom:d};n.css(u),n.addClass("vertical-aligned"),a!==d&&t.$emit("ui_height"),a=d};$(e).on("resize",o),onContentLoaded(o),t.$on("ui_height",function(){onContentLoaded(o)})}return{link:n}}]).directive("myUserLink",["$timeout","AppUsersManager",function(e,t){function n(e,n,r){var i,a=r.userOverride&&e.$eval(r.userOverride)||{},o=r["short"]&&e.$eval(r["short"]),s=function(){var s=t.getUser(i),c=o?"rFirstName":"rFullName";n.html((a[c]||s[c]||"").valueOf()),r.color&&e.$eval(r.color)&&n.addClass("user_color_"+s.num)};"A"==n[0].tagName&&n.on("click",function(){t.openUser(i,a)}),r.userWatch?e.$watch(r.myUserLink,function(e){i=e,s()}):(i=e.$eval(r.myUserLink),s()),r.noWatch||e.$on("user_update",function(e,t){i==t&&s()})}return{link:n}}]).directive("myUserStatus",["$filter","AppUsersManager",function(e,t){function n(){angular.forEach(o,function(e){e()})}function r(e,n,r){var s,c=a++,l=function(){var e=t.getUser(s);n.html(i(e)).toggleClass("status_online",e.status&&"userStatusOnline"==e.status._)};e.$watch(r.myUserStatus,function(e){s=e,l()}),e.$on("user_update",function(e,t){s==t&&l()}),o[c]=l,e.$on("$destroy",function(){delete o[c]})}var i=e("userStatus"),a=0,o={};return setInterval(n,9e4),{link:r}}]).directive("myChatLink",["$timeout","AppChatsManager",function(e,t){function n(e,n,r){var i,a=function(){var e=t.getChat(i);n.html((e.rTitle||"").valueOf())};"A"==n[0].tagName&&n.on("click",function(){t.openChat(i)}),r.chatWatch?e.$watch(r.myChatLink,function(e){i=e,a()}):(i=e.$eval(r.myChatLink),a()),e.$on("chat_update",function(e,t){i==t&&a()})}return{link:n}}]).directive("myChatStatus",["$rootScope","_","MtpApiManager","AppChatsManager","AppUsersManager",function(e,t,n,r,i){function a(){angular.forEach(c,function(e){e()})}function o(n,a,o){var p,m=s++,h=0,g={},f=function(){h=0,g={},p&&r.getChatFull(p).then(function(e){var t=(e.participants||{}).participants||[];h=t.length,angular.forEach(t,function(e){g[e.user_id]=!0}),_()})},_=function(){var e=l(h),n=0,r=!1;angular.forEach(g,function(e,t){var a=i.getUser(t);a.status&&"userStatusOnline"==a.status._&&(a.id==u&&(r=!0),n++)}),(n>1||1==n&&!r)&&(e=t("group_modal_participants",{total:e,online:d(n)})),n||h||(e=""),a.html(e)};n.$watch(o.myChatStatus,function(e){p=e,f()}),e.$on("chat_full_update",function(e,t){p==t&&f()}),e.$on("user_update",function(e,t){g[t]&&_()}),c[m]=_,n.$on("$destroy",function(){delete c[m]})}var s=0,c={},l=t.pluralize("group_modal_pluralize_participants"),d=t.pluralize("group_modal_pluralize_online_participants"),u=0;return n.getUserID().then(function(e){u=e}),setInterval(a,9e4),{link:o}}]).directive("myUserPhotolink",["AppUsersManager",function(e){function t(t,n,r){var i=t.$eval(r.myUserPhotolink);t.photo=e.getUserPhoto(i,"User"),(t.showStatus=r.status&&t.$eval(r.status))&&(t.user=e.getUser(i)),"A"==n[0].tagName&&n.on("click",function(n){e.openUser(i,r.userOverride&&t.$eval(r.userOverride))}),r.imgClass&&$(n[0].firstChild).addClass(r.imgClass)}return{link:t,template:'<img my-load-thumb thumb="photo" /><i class="icon icon-online" ng-if="::showStatus || false" ng-show="user.status._ == \'userStatusOnline\'"></i>'}}]).directive("myPeerPhotolink",["AppPeersManager","AppUsersManager","AppChatsManager","MtpApiFileManager","FileManager",function(e,t,n,r,i){function a(a,o,s){o.addClass("peer_photo_init");var c,l,d,u=$('<img class="'+(s.imgClass||"")+'">'),p=$('<span class="peer_initials '+(s.imgClass||"")+'"></span>'),m=0,h=!1,g=function(t){if(c==t)return!1;c=t,l=e.getPeer(c);var n="user_bgcolor_"+(l.num||1);return n!=h&&(h&&p.removeClass(h),p.addClass(n),h=n),f(),!0},f=function(){var e=++m;d=l.photo&&angular.copy(l.photo.photo_small);var t=void 0!==d;if(t){var n=r.getCachedFile(l.photo.photo_small);if(n)return p.remove(),void u.prependTo(o).attr("src",i.getUrl(n,"image/jpeg"))}p.text(l.initials).prependTo(o),u.remove(),t&&r.downloadSmallFile(l.photo.photo_small).then(function(t){e==m&&(p.remove(),u.prependTo(o).attr("src",i.getUrl(t,"image/jpeg")))},function(e){console.log("Download image failed",e,l.photo.photo_small,o[0])})};"A"!=o[0].tagName||s.noOpen||o.on("click",function(e){c>0?t.openUser(c,s.userOverride&&a.$eval(s.userOverride)):n.openChat(-c)}),a.$watch(s.myPeerPhotolink,g),s.watch&&(a.$on("user_update",function(e,t){c==t&&(angular.equals(l.photo&&l.photo.photo_small,d)||f())}),a.$on("chat_update",function(e,t){c==-t&&(angular.equals(l.photo&&l.photo.photo_small,d)||f())}))}return{link:a}}]).directive("myAudioPlayer",["$timeout","$q","Storage","AppAudioManager","AppDocsManager","AppMessagesManager","ErrorService",function(e,t,n,r,i,a,o){function s(e){return e===l?!1:(l&&l.pause(),void(l=e))}function c(e,t,c){"audio"==e.audio._?r.updateAudioDownloaded(e.audio.id):i.updateDocDownloaded(e.audio.id),e.volume=d,e.mediaPlayer={},e.download=function(){"audio"==e.audio._?r.saveAudioFile(e.audio.id):i.saveDocFile(e.audio.id)},e.togglePlay=function(){if(e.audio.url)s(e.mediaPlayer.player),e.mediaPlayer.player.playPause();else{if(e.audio.progress&&e.audio.progress.enabled)return;var n;n="audio"==e.audio._?r.downloadAudio(e.audio.id):i.downloadDoc(e.audio.id),n.then(function(){onContentLoaded(function(){var n=$("audio",t)[0]||t[0];if(n){var r=!1,i=function(e){r||e.target&&e.target.error&&e.target.error.code!=e.target.error.MEDIA_ERR_DECODE&&e.target.error.code!=e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED||(r=!0,o.show({error:{type:"MEDIA_TYPE_NOT_SUPPORTED",originalError:e.target&&e.target.error}}))};n.addEventListener("error",i,!0),e.$on("$destroy",function(){r=!0,n.removeEventListener("error",i)})}setTimeout(function(){s(e.mediaPlayer.player),e.mediaPlayer.player.setVolume(d),e.mediaPlayer.player.play(),e.message&&!e.message.out&&e.message.media_unread&&a.readMessages([e.message.id])},300)})})}},e.seek=function(t){e.mediaPlayer&&e.mediaPlayer.player?e.mediaPlayer.player.seek(t):e.togglePlay()},e.setVolume=function(t){d=t,n.set({audio_volume:t}),e.mediaPlayer&&e.mediaPlayer.player&&e.mediaPlayer.player.setVolume(t)}}var l=!1,d=.5;n.get("audio_volume").then(function(e){e>0&&1>=e&&(d=e)});return{link:c,scope:{audio:"=",message:"="},templateUrl:templateUrl("audio_player")}}]).directive("mySlider",["$window",function(e){function t(t,n,r){var i=$(".tg_slider_wrap",n),a=$(".tg_slider_track_fill",n),o=$(".tg_slider_thumb",n),s=i.width(),c=Math.ceil(o.width()),l=r.sliderModel,d=r.sliderOnchange,u=0,p=1,m=!1,h=!1;r.sliderMin&&t.$watch(r.sliderMin,function(e){u=e||0}),r.sliderMax&&t.$watch(r.sliderMax,function(e){p=e||1});var g=function(e){e=e.originalEvent||e;var n=(e.touches&&e.touches[0]?e.touches[0].pageX:e.pageX)-h;return n=Math.min(s,Math.max(0,n)),m=u+n/s*(p-u),d?t.$eval(d,{value:m}):t.$eval(l+"="+m),o.css("left",Math.max(0,n-c)),a.css("width",n),cancelEvent(e)},f=function(){$(e).off("mousemove touchmove",g),$(e).off("mouseup touchend touchcancel touchleave",f)};t.$watch(l,function(e){if(e!=m&&void 0!==e){var t=Math.max(0,(e-u)/(p-u));if(s){var n=Math.ceil(s*t);n=Math.min(s,Math.max(0,n)),o.css("left",Math.max(0,n-c)),a.css("width",n)}else o.css("left",100*t+"%"),a.css("width",100*t+"%");m=!1}}),n.on("dragstart selectstart",cancelEvent),n.on("mousedown touchstart",function(r){if(!s&&(s=i.width(),!s))return console.error("empty width"),cancelEvent(r);f(),r=r.originalEvent||r;var _;if(r.touches&&r.touches[0])h=n.position().left,_=r.touches[0].pageX-h;else if(void 0!==r.offsetX)_=r.offsetX,h=r.pageX-_;else{if(void 0===r.layerX)return cancelEvent(r);_=r.layerX,h=r.pageX-_}return m=u+_/s*(p-u),d?t.$eval(d,{value:m}):t.$eval(l+"="+m),o.css("left",Math.max(0,_-c)),a.css("width",_),$(e).on("mousemove touchmove",g),$(e).on("mouseup touchend touchcancel touchleave",f),cancelEvent(r)})}return{link:t,templateUrl:templateUrl("slider")}}]).directive("myLabeledInput",function(){function e(e,t,n){var r=$(".md-input:first",t),i=($(".md-input-label:first",t),r[0]&&"SPAN"==r[0].tagName),a=!1,o=function(){i?t.toggleClass("md-input-has-value",r.html().length>0):t.toggleClass("md-input-has-value",a||r.val().length>0);

};o(),onContentLoaded(function(){o(),setZeroTimeout(function(){t.addClass("md-input-animated")})}),i||r.on("blur focus change",function(e){a="focus"==e.type,t.toggleClass("md-input-focused",a),o()}),e.$on("value_updated",function(){setZeroTimeout(function(){o()})})}return{link:e}}).directive("myCopyField",function(){function e(e,t,n){t.attr("readonly","true"),t[0].readonly=!0,t.on("click",function(){this.select()}),e.selectEvent&&e.$on(e.selectEvent,function(){setTimeout(function(){t[0].focus(),t[0].select()},100)})}return{scope:{selectEvent:"=myCopyField"},link:e}}).directive("mySubmitOnEnter",function(){function e(e,t,n){t.on("keydown",function(e){return 13==e.keyCode?(t.trigger("submit"),cancelEvent(e)):void 0})}return{link:e}}).directive("myScrollToOn",function(){return{link:function(e,t,n){var r=n.myScrollToOn,i=function(){onContentLoaded(function(){$("html, body").animate({scrollTop:t.offset().top},200)})};"$init"==r?i():e.$on(r,i)}}}),angular.module("myApp.directives").directive("myDialogsListMobile",["$window","$timeout",function(e,t){function n(n,r,i){function a(){return d&&d.offsetHeight||(d=$(l)[0]),i.modal?void $(r).css({height:$(e).height()-(d?d.offsetHeight:58)-46}):(c&&c.offsetHeight||(c=$(".tg_page_head")[0]),o&&o.offsetHeight||(o=$(".im_dialogs_col_wrap")[0]),void $(r).css({height:$(e).height()-(c?c.offsetHeight:46)-(d?d.offsetHeight:58)-parseInt($(o).css("paddingBottom")||0)}))}var o=$(".im_dialogs_col_wrap")[0],s=r[0],c=$(".tg_page_head")[0],l=i.modal?".mobile_modal_body .im_dialogs_panel":".im_dialogs_panel",d=$(l)[0],u=!1,p=!1;n.$on("ui_dialogs_tabs",function(e,t){u=t,a()}),n.$on("ui_dialogs_search",a),n.$on("ui_dialogs_update",a),n.$on("ui_dialogs_append",function(){onContentLoaded(function(){p=!1,t(function(){$(s).trigger("scroll")})})}),n.$on("ui_dialogs_change",function(){onContentLoaded(function(){p=!1,t(function(){$(s).trigger("scroll")})})}),$(s).on("scroll",function(e){r.is(":visible")&&!p&&s.scrollTop>=s.scrollHeight-s.clientHeight-300&&(n.$emit("dialogs_need_more"),p=!0)}),$(e).on("resize",a),a(),setTimeout(a,1e3)}return{link:n}}]).directive("myHistoryMobile",["$window","$timeout","$rootScope","$transition",function(e,t,n,r){function i(n,r,i){function a(){var e,n;if(n=$(".im_message_focus:visible",l)[0]){var r=l.clientHeight,i=l.scrollTop,a=n.offsetTop,o=n.clientHeight;(!i||a>i+r||i>a+o)&&(l.scrollTop=Math.max(0,a-Math.floor(r/2)+26)),_=!1}else(e=$(".im_message_unread_split:visible",l)[0])?(l.scrollTop=Math.max(0,e.offsetTop-52),_=!1):(l.scrollTop=l.scrollHeight,_=!0);t(function(){$(l).trigger("scroll"),v=l.scrollTop})}function o(t){if(r.is(":visible")||$(r[0].parentNode.parentNode).is(":visible")){$(p).is(":visible")&&$(p).css({height:$(h).height()}),m&&m.offsetHeight||(m=$(".tg_page_head")[0]);var n=$(e).height()-u.offsetHeight-(m?m.offsetHeight:46);$(c).css({height:n}),s(),t!==!0&&_&&onContentLoaded(function(){l.scrollTop=l.scrollHeight})}}function s(){return}var c=$(".im_history_wrap",r)[0],l=($(".im_history_messages",r)[0],$(".im_history_scrollable_wrap",r)[0]),d=$(".im_history_scrollable",r)[0],u=$(".im_bottom_panel_wrap",r)[0],p=$(".im_send_form_wrap",r)[0],m=$(".tg_page_head")[0],h=$(".im_send_form",r)[0],g=!1,f=!1;onContentLoaded(function(){l.scrollTop=l.scrollHeight}),n.$on("ui_history_append_new",function(e,t){if(_||t.my){var n=parseInt($(l).css("paddingRight"));$(l).addClass("im_history_to_bottom"),$(d).css({bottom:0,marginLeft:-Math.ceil(n/2)}),onContentLoaded(function(){$(l).removeClass("im_history_to_bottom"),$(d).css({bottom:"",marginLeft:""}),l.scrollTop=l.scrollHeight,s()})}}),n.$on("ui_history_change",function(){var e=parseInt($(l).css("paddingRight"));$(l).addClass("im_history_to_bottom"),$(d).css({bottom:0,marginLeft:-Math.ceil(e/2)}),onContentLoaded(function(){$(l).removeClass("im_history_to_bottom"),$(d).css({bottom:"",marginLeft:""}),o(!0),g=!1,f=!1,a()})}),n.$on("ui_history_change_scroll",function(){onContentLoaded(a)}),n.$on("ui_history_focus",function(){_||(l.scrollTop=l.scrollHeight,_=!0)}),n.$on("ui_history_prepend",function(){var e=l.scrollHeight,r=l.scrollTop,i=parseInt($(l).css("paddingRight")),o=l.clientHeight;$(l).addClass("im_history_to_bottom"),l.scrollHeight,$(d).css({bottom:-(e-r-o),marginLeft:-Math.ceil(i/2)});var c=function(){$(l).removeClass("im_history_to_bottom"),$(d).css({bottom:"",marginLeft:""}),v>=0?a():l.scrollTop=r+l.scrollHeight-e,s(),g=!1,t(function(){l.scrollHeight!=e&&$(l).trigger("scroll")}),clearTimeout(u),p()},u=setTimeout(c,0),p=n.$on("$viewContentLoaded",c)}),n.$on("ui_history_append",function(){var e=l.scrollHeight;onContentLoaded(function(){_=!1,s(),f=!1,v>=0&&a(),t(function(){l.scrollHeight!=e&&$(l).trigger("scroll")})})}),n.$on("ui_panel_update",function(){onContentLoaded(function(){o(),n.$broadcast("ui_message_send"),t(function(){$(l).trigger("scroll")})})}),n.$on("ui_selection_clear",function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}),n.$on("ui_editor_resize",o),n.$on("ui_height",function(){onContentLoaded(o)});var _=!0,v=-1;$(l).on("scroll",function(e){if(r.is(":visible")&&!$(l).hasClass("im_history_to_bottom")){var t=l.scrollTop;_=t>=l.scrollHeight-l.clientHeight,v>=0&&v!=t&&(v=-1),!g&&300>=t?(g=!0,n.$emit("history_need_more")):!f&&t>=l.scrollHeight-l.clientHeight-300&&(f=!0,n.$emit("history_need_less"))}}),$(e).on("resize",o),o(),onContentLoaded(o)}return{link:i}}]).directive("myContactsListMobile",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:$(e).height()-(o&&o.offsetHeight||0)-(a&&a.offsetHeight||0)-64})}var a=$(".contacts_modal_search")[0],o=$(".contacts_modal_panel")[0];$(e).on("resize",i),t.$on("contacts_change",function(){onContentLoaded(i)}),onContentLoaded(i)}return{link:n}}]).directive("myCountriesListMobile",["$window","$timeout",function(e,t){function n(t,n,r){function i(){$(n).css({height:$(e).height()-(o&&o.offsetHeight||0)-(a&&a.offsetHeight||0)-64})}var a=$(".countries_modal_search")[0],o=$(".countries_modal_panel")[0];$(e).on("resize",i),onContentLoaded(i)}return{link:n}}]).directive("myInfiniteScrollerMobile",function(){function e(e,t,n){var r=t[0],i=!1;$(r).on("scroll",function(n){t.is(":visible")&&!i&&r.scrollTop>=r.scrollHeight-r.clientHeight-300&&(i=!0,e.$apply(function(){e.slice.limit+=e.slice.limitDelta||20}),onContentLoaded(function(){i=!1}))})}return{link:e,scope:!0}});